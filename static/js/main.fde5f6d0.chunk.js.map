{"version":3,"sources":["components/notes/route/styles/Menu.Module.css","components/notes/routeForm/styles/RouteInfo.Module.css","components/notes/route/notes/styles/FolderEdit.Module.css","components/notes/routeForm/Section/styles/SectionFolderEdit.Module.css","resources sync /^/.*/ItemNames/.json$","components/notes/routeForm/Section/styles/Section.Module.css","components/notes/styles/RoutesListItem.Module.css","components/common/styles/Icon.Module.css","components/notes/route/notes/styles/State.Module.css","components/notes/routeForm/Section/styles/SectionState.Module.css","components/notes/route/notes/styles/SmallItem.Module.css","components/notes/route/tracker/styles/Tracker.Module.css","components/notes/styles/RoutesList.Module.css","components/notes/route/notes/styles/NoteSection.Module.css","components/notes/route/notes/styles/SmallModifiers.Module.css","components/notes/route/tracker/styles/Modifiers.Module.css","components/notes/route/tracker/styles/Item.Module.css","components/notes/styles/NotesHome.Module.css","components/notes/route/notes/styles/Text.Module.css","components/notes/route/notes/styles/ItemsList.Module.css","components/notes/route/notes/styles/Notes.Module.css","components/notes/routeForm/Section/styles/ItemDropdown.Module.css","components/notes/routeForm/Section/styles/ModifierDropdown.Module.css","components/common/styles/Button.Module.css","components/notes/route/styles/Route.Module.css","components/notes/route/notes/styles/Image.Module.css","components/notes/route/styles/LargeImage.Module.css","components/notes/routeForm/styles/RouteForm.Module.css","components/notes/routeForm/Section/styles/SectionText.Module.css","components/notes/routeForm/Section/styles/SectionImage.Module.css","resources sync /^/.*/DefaultFoundItems/.json$","resources sync /^/.*/DefaultFoundModifiers/.json$","components/notes/route/notes/styles/themes/MMBN/MMBN-SmallItem.Module.css","components/notes/route/notes/styles/themes/MMSF/MMSF-SmallItem.Module.css","components/notes/route/notes/styles/themes/MMBN/MMBN-SmallModifiers.Module.css","components/notes/route/tracker/styles/themes/MMBN/MMBN-Modifiers.Module.css","components/notes/route/tracker/styles/themes/MMBN/MMBN-Item.Module.css","components/notes/route/tracker/styles/themes/MMSF/MMSF-Item.Module.css","components/notes/routeForm/Section/styles/SectionItem.Module.css","components/notes/routeForm/Section/styles/PreviewImage.Module.css","components/notes/routeForm/styles/SectionList.Module.css","reportWebVitals.js","components/common/Icon.js","components/common/functions/useSuspense.js","components/notes/RoutesListItem.js","components/common/Button.js","components/notes/RoutesList.js","components/common/functions/useMatchMedia.js","components/common/NotesContext.js","components/notes/route/Menu.js","components/notes/route/notes/Text.js","components/notes/route/notes/SmallModifiers.js","components/notes/route/notes/SmallItem.js","components/notes/route/notes/ItemsList.js","components/notes/route/notes/Image.js","components/notes/route/notes/State.js","components/common/functions/performFolderEditAction.js","components/common/functions/performFolderEditSort.js","components/common/functions/getPathsToSlot.js","components/common/functions/getFolderEditInputs.js","components/notes/route/notes/FolderEdit.js","components/notes/route/notes/NoteSection.js","components/notes/route/notes/Notes.js","components/notes/route/tracker/Modifiers.js","components/notes/route/tracker/Item.js","components/notes/route/tracker/Tracker.js","components/notes/route/LargeImage.js","components/common/RouteContext.js","components/notes/route/Route.js","components/common/GameContext.js","components/notes/routeForm/Section/ItemDropdown.js","components/notes/routeForm/Section/ModifierDropdown.js","components/notes/routeForm/Section/SectionText.js","components/notes/routeForm/Section/SectionItem.js","components/notes/routeForm/Section/PreviewImage.js","components/notes/routeForm/Section/SectionImage.js","components/notes/routeForm/Section/SectionState.js","components/common/functions/getNewFolder.js","components/notes/routeForm/Section/SectionFolderEdit.js","components/notes/routeForm/Section/Section.js","components/notes/routeForm/SectionList.js","components/notes/routeForm/RouteInfo.js","components/notes/routeForm/RouteForm.js","components/notes/NotesHome.js","components/notes/NotesTool.js","components/App.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Icon","hoverClass","this","props","hover","styles","hiddenClass","hidden","floatClass","float","right","grayscaleClass","grayscale","src","className","icon","size","onClick","alt","altText","React","Component","useSuspenseResource","promiseCallback","deps","useMemo","promise","result","status","suspender","r","read","createSuspenseResource","RoutesListItemImpl","notes","notesResource","wrapper","to","gameId","path","link","title","category","author","version","RoutesListItem","a","fetch","process","response","json","fallback","Button","btn","type","text","routes","require","RoutesList","match","params","gameRoutes","history","push","state","gameName","name","createRoute","bind","gameArt","header","route","useMatchMedia","query","useState","window","matchMedia","matches","setMatches","useEffect","mediaQueryList","callback","addListener","removeListener","NotesContext","createContext","Menu","useContext","game","showNotes","showTracker","mode","foundModifiers","folderEditView","setContext","changeMode","useCallback","resetTracker","newFoundItems","JSON","parse","stringify","newFoundModifiers","foundItems","localStorage","setItem","updateNotesDisplay","updateTrackerDisplay","swapNotesAndTracker","modeText","previewButton","preview","swapPreview","notesText","menu","buffer","row","label","value","select","onChange","target","showNotesText","showTrackerText","col","dropdown","Text","item","includes","modifier","found","children","Modifier","foundClass","updateFound","SmallModifiers","theme","themeMMBN","updateTracker","modifiers","length","SmallItem","themeMMSF","Items","typeClass","i","types","low","high","itemArt","ItemsList","itemsList","completedItems","items","some","j","item2","itemContainer","itemList","Image","image","imageContainer","State","stateContainer","key","stateField","shown","keyLabel","performFolderEditAction","folder","action","gameInfo","newFolder","item1","slot","modifier1","slot1","slot2","modifier2","regged","tagged","parseInt","tempItem","sortType","reverse","sort","nameJP","damageSort","elementOrder","element","counts","capacity","performFolderEditSort","getPathsToSlot","cursor","cursorPosition","goal","pathsToSlot","numInputs","Math","sign","itemsShown","abs","min","console","log","max","getNumInputs","inputs","count","actionInputs","split","input","getFolderEditInputs","folderEdit","actionIndex","sortCursor","Array","paths","bestInputs","Number","MAX_VALUE","bestPath","tempInputs","pathsToFirstItem","bestPath1","bestPath2","pathsToSecondItem","path2","sortTypes","splice","indexOf","inverseInputs","Action","FolderEdit","actionsList","tempFolder","prevFolder","folderEditContainer","toString","padStart","shouldUpdate","oldProps","newProps","areShallowEqual","NoteSection","memo","section","ref","noteRef","textContainer","fullscreenImage","previousSection","nextSection","Notes","sectionTop","scrollPosition","setState","sections","numSections","setNumSections","notesRef","createRef","sectionRefs","refsArray","renderNewSections","entries","observer","isIntersecting","IntersectionObserver","root","rootMargin","threshold","current","scrollIntoView","behavior","disconnect","observe","handleKeyPress","keyPress","preventDefault","fullSizeClass","fullSize","onScroll","scrollTop","newSectionTop","floor","getBoundingClientRect","height","onKeyDown","tabIndex","slice","Modifiers","Item","Tracker","tracker","list","LargeImage","fullscreenPreview","tagName","RouteContext","RouteImpl","routeContext","isMobile","initialTrackerDisplay","initialMode","initialFoundItems","getItem","initialFoundModifiers","getInitialState","updates","getContextValue","Provider","rightColumn","Route","routePath","GameContext","ItemDropdown","onUpdateItem","updateItem","ModifierDropdown","onModifierUpdate","updateModifier","SectionText","setCursor","useRef","setSelectionRange","updateItemRef","newText","updateText","updateModifierRef","textarea","placeholder","selectionStart","moveTextUp","moveTextDown","deleteText","SectionItem","newItem","moveItemUp","moveItemDown","deleteItem","PreviewImage","img","updateImage","SectionImage","deleteIcon","deleteImage","file","reader","FileReader","readAsDataURL","onload","onerror","error","getBase64","files","SectionState","htmlFor","sectionId","textInput","defaultValue","newState","updateState","onStateValueChange","checkbox","checked","onStateShownChange","deleteState","addState","getNewFolder","ItemOption","itemDropdown","onUpdate","spacer","updateAction","actionTypes","updateItem1","deleteAction","updateItem2","ActionsList","SectionFolderEdit","newFolderEdit","updateFolderEdit","itemParts","deleteFolderEdit","addFolderEdit","Section","newSection","setSection","updateTextRef","addText","chosenText","aboveText","moveTextUpRef","belowText","moveTextDownRef","deleteTextRef","addItem","chosenItem","aboveItem","moveItemUpRef","belowItem","moveItemDownRef","deleteItemRef","getLastState","getLastFolderEdit","insertSection","addSection","sectionHeader","moveSectionUp","moveSectionDown","deleteSection","itemsContainer","SectionList","displayedSections","setDisplayedSections","setSectionRef","newSections","addSectionRef","chosenSection","aboveSection","moveSectionUpRef","belowSection","moveSectionDownRef","deleteSectionRef","initialState","getLastStateRef","initialFolderEdit","getLastFolderEditRef","sectionList","dataLength","next","hasMore","loader","scrollableTarget","equal","RouteInfo","games","generateDownload","document","createElement","href","Buffer","from","download","click","importText","lines","replace","line","textId","importJSON","handleUpload","readAsText","updateGame","newGame","routeInfo","onBlur","fileInput","loadLastRouteEdit","RouteFormImpl","initialPath","initialGame","initialRoute","gameContext","prevState","form","newRoute","setNewRoute","alert","RouteForm","NotesHome","NotesTool","component","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fde5f6d0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"xXHLUT6W8RJi5emrYTdXtA==\",\"col\":\"CnRoll7TlszRXat43PWXAg==\",\"dropdown\":\"JrfcZHEvr8UPnzXuJMHF-w==\",\"btn\":\"H4piT5m5xxAeJgd6q22P8Q==\",\"label\":\"_7jKgETxlxoLvDuTdvBkMzQ==\",\"select\":\"KG0H+Fq-MHEl11KN58EpdA==\",\"row\":\"_969+60TTtQ+CbNdl0l2bpw==\",\"buffer\":\"XxPDP31lcrwTRiqaUZJP9A==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"routeInfo\":\"F2mb1ryN5dL6eMNbLKt4Uw==\",\"header\":\"OSsHajB4SDr8TjqsplaIWQ==\",\"label\":\"xcW5POQhuEBlcFt6PKVSVQ==\",\"textInput\":\"w7pkMgYuQLl+sWgDaVBgqw==\",\"select\":\"xKOVlmNnYHE9ixSdJrX4BA==\",\"fileInput\":\"Z-FoL14O644+2LkpM9C1+g==\",\"wrapper\":\"wo+buBWrOZk1PMR18OMJIw==\",\"spacer\":\"RM8C5ZOv6S+rkWqq-XdD-g==\",\"btn\":\"XBY927kjJMdn0IhyvOlsnA==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"folderEditContainer\":\"LSKpzbXnrrbZCykMWtdOQw==\",\"wrapper\":\"_1wFwvcusmxAsvYz2imN2qA==\",\"action\":\"S7LItWUm7RYsqARnANwpog==\",\"label\":\"fpt02CqbUlqRuQwZxvATdQ==\",\"folderLabel\":\"LaQszEbLva3ru9GAYQybRQ==\",\"regged\":\"y1-bq5+lun3VaILExSYQPA==\",\"tagged\":\"XGP6zEszAA72Lp9sSpyZWg==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"_8hQzG5tyWMAIcPPZpZS3Sg==\",\"checkbox\":\"IByYpCIlkO1FtDVeyDpVqw==\",\"select\":\"-ewhwH7ea2AMIGe0m+JSDg==\",\"itemDropdown\":\"PTwnFTQB0vkcTKyJhu22ew==\",\"spacer\":\"ZuIZb7irA2Nq0vApdF0www==\"};","var map = {\n\t\"./MMBN1/ItemNames.json\": 150,\n\t\"./MMBN2/ItemNames.json\": 151,\n\t\"./MMBN3/ItemNames.json\": 152,\n\t\"./MMBN4/ItemNames.json\": 153,\n\t\"./MMBN5/ItemNames.json\": 154,\n\t\"./MMBN6/ItemNames.json\": 155,\n\t\"./MMSF1/ItemNames.json\": 156,\n\t\"./MMSF2/ItemNames.json\": 157,\n\t\"./MMSF3/ItemNames.json\": 158,\n\t\"./OSS/ItemNames.json\": 159\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 22;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sectionHeader\":\"Fn2+ipiPE4fK1vlv98yyVw==\",\"wrapper\":\"YDnMnzRQT13RQ0tw3MJFvg==\",\"section\":\"PsIzDIbCTG4wrUTM6er1xg==\",\"header\":\"tmlngklOZIir4i+lC6IW4A==\",\"label\":\"A9r+GjnqNKWHmScZwxRXNA==\",\"textContainer\":\"Ybo3pMftltkyH7S+VSXuHg==\",\"itemsContainer\":\"vEEVgSo6a0KWOf99T9aR2Q==\",\"imageContainer\":\"SDoEA1A3zyDA51P6mgVkdg==\",\"stateContainer\":\"vFrdg23acVv1XF6MnymUTA==\",\"folderEditContainer\":\"+DlBDu8VMDlh0Pt6Xh+8AQ==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"NEpq3jOU-cfHWdS2rh8+ag==\",\"link\":\"_2pdIMk0Ir3pXmx1Xr+fg1Q==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"_8Y9KwDED3pL1sj0GpWYvjg==\",\"small\":\"nNyUBQj2J9jPfUO5JiOGeQ==\",\"large\":\"_1Z-jj10VJWxPwBlAjAH7BA==\",\"right\":\"GbThlTPUkvuaDtUf6IxGvA==\",\"hover\":\"J64ouaAWQMauqP7LsL1fwA==\",\"hidden\":\"A89rVKlFqVDJwndCGK+8VA==\",\"grayscale\":\"ysKiPku3Q-kIx06ZWt5Yng==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stateContainer\":\"Te-IS++X-vMrDVGbhE0MyA==\",\"wrapper\":\"gE0QzolHy5XVIRxed9pGbw==\",\"stateField\":\"_6qvaBjDJXwHBvgA0BKQ2Pg==\",\"label\":\"DR3GIinvbBZpOQNzUsxBcg==\",\"keyLabel\":\"p-J7E1+jPLTZvyu2LNCOkA==\",\"hidden\":\"_8PLwckjtYr4f9wB86bFxpA==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"y5B2wc+skuHhhzAjukvruA==\",\"label\":\"kUnP3Ar0a1m+HbV+DplkEQ==\",\"textInput\":\"AVRkZ5gpk+jBv8JvzpbMpQ==\",\"checkbox\":\"M3mU1IdC5iytD5jD1UqDqw==\",\"stateField\":\"c-73e5C9+ol9z0dIxCFcYg==\",\"inputs\":\"H3W2vtxDGkly6EGYGDnDCg==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"_7rtKJf8nKYxuwaOyE0Vaag==\",\"item\":\"w5hzSR00kbFhM7sGH1Bjlg==\",\"title\":\"N5KJVDyx+YbeRXJAZZiBEw==\",\"itemArt\":\"caD+kBrLmVJ1g9Dq-b2D0A==\",\"found\":\"_1EpZ2NE+IpuAPbBkopLddQ==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tracker\":\"YAl33CoVALZcQjfw4s0pIA==\",\"section\":\"Jl+N7ZghMEVXGVE6jjQaFw==\",\"fullSize\":\"nYQVwAOMako6LxA8wYwj-w==\",\"header\":\"xd7zJA8T9G5XPluwjY+RcA==\",\"list\":\"IOPBuqwXaW3XnArW51IxnA==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"vhNR8VmYBTMqfhbRKh8Wjw==\",\"header\":\"gMPqKffIBVULdBK7fHC4uw==\",\"gameArt\":\"hsKjXwsJVmOY9sVfN15huA==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"_8ZlAGYvlclwi5mH0gPdsYg==\",\"textContainer\":\"O4MVbUJ03qoYxtiQnBxIpw==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modifiers\":\"je3fiDxkH-wARm48J2g3nw==\",\"found\":\"UnIBJajqFY0gKPrX28GK8A==\",\"modifier\":\"FE1MkvafZKC5iMxRGtllxA==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modifiers\":\"_1gzKLAp0OdCpb1c7oxGISg==\",\"found\":\"_9HGbN4+3ght6VdlvEA8CBw==\",\"modifier\":\"N7fqAT6nZTB8Db2fwwoXxA==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"po8ytc6ZPKeFsPaq1B6DPg==\",\"title\":\"BfFYBEI-pD5vMEjoL9nqjA==\",\"itemArt\":\"xTmqrmM5kyO7WQatmtuPXg==\",\"found\":\"AnjhVKivgq5UNUJofLxIbg==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Lm57YgWaWh85Vmy-lhtxUQ==\",\"link\":\"V2uGt6aLj6bidNf8cs5XPw==\",\"img\":\"+tQpgnzty7e1n7MQb7JeNA==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"PXF+fVECGiOxKtE1FilFfA==\",\"found\":\"V8zrPJ7YBmtPDtkK9lMiRQ==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemContainer\":\"gkRtcUcX8QHWAt6cQdjR-A==\",\"label\":\"iZQuvJdnmL06OdMKWplBig==\",\"itemList\":\"tO3hUDLBbc1k3B64JAvV7Q==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notes\":\"D7t7QHVyMrFrL9nnvIcSTQ==\",\"fullSize\":\"Z2QuORZCu29IVOoBva0gSQ==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select\":\"yinFPwZe6Roe565P19C88Q==\",\"buffer\":\"KFX5eQG4tJAt64AIBBqaCw==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select\":\"nYw8fGtHVp94BjKFPlZrXg==\",\"buffer\":\"_7JzK3Xdoz+3RKDCc3ja7NQ==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"cgdLDN9QZos3+swRGSNDuA==\",\"small\":\"ZS1Q6AvMYpcmsF-pfmjPkQ==\",\"medium\":\"M7+6K4VyQx7-9DYoH+G8mA==\",\"large\":\"CsJhrkdszb0AmJFugX0jiA==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"UTZxbvaTMm+lWmnsdCRffg==\",\"rightColumn\":\"RSFxkblLQ1MYiiX1dqWMAQ==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageContainer\":\"zdu+uouwgVTTKWgkKdw8Yg==\",\"image\":\"q3o3g1+lH3R7tYTrWIWA1A==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fullscreenPreview\":\"Rmss47snPFg2uzJ7of2Tzg==\",\"image\":\"nkeiTFBqr9xIqEREKalF5w==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"m8kJZp2I0TrXIiheUxsEQw==\",\"form\":\"qaPmaQNxVM4TQZJIPUjhYw==\",\"textInput\":\"-cW6y7NjHV8EmrwnOV7ACA==\",\"textarea\":\"v6S6qBWjlCe5IXPhWL-P5Q==\",\"select\":\"UIH57BYddBqpCyaSSjdJEw==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"cxKxYrUQ1H2mP5sHg7A+sA==\",\"textarea\":\"vGeQ16DUwY7WcXHyw5IFPA==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"-SV1A7dsbnXtaIvbNkzKag==\",\"input\":\"dYwE4RPc0knRLcCI6kV5WQ==\"};","var map = {\n\t\"./MMBN1/DefaultFoundItems.json\": 131,\n\t\"./MMBN2/DefaultFoundItems.json\": 132,\n\t\"./MMBN3/DefaultFoundItems.json\": 133,\n\t\"./MMBN4/DefaultFoundItems.json\": 134,\n\t\"./MMBN5/DefaultFoundItems.json\": 135,\n\t\"./MMBN6/DefaultFoundItems.json\": 136,\n\t\"./MMSF1/DefaultFoundItems.json\": 137,\n\t\"./MMSF2/DefaultFoundItems.json\": 138,\n\t\"./MMSF3/DefaultFoundItems.json\": 139,\n\t\"./OSS/DefaultFoundItems.json\": 140\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 77;","var map = {\n\t\"./MMBN1/DefaultFoundModifiers.json\": 141,\n\t\"./MMBN2/DefaultFoundModifiers.json\": 142,\n\t\"./MMBN3/DefaultFoundModifiers.json\": 143,\n\t\"./MMBN4/DefaultFoundModifiers.json\": 144,\n\t\"./MMBN5/DefaultFoundModifiers.json\": 145,\n\t\"./MMBN6/DefaultFoundModifiers.json\": 146,\n\t\"./OSS/DefaultFoundModifiers.json\": 147\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 78;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"lACZJy5f8xdSrLnuXI+OQA==\",\"title\":\"Gu7wy+yntvpYYWeSwuGh+Q==\",\"itemArt\":\"DqemJKnhFEsfhAETKFImxA==\",\"Battlechips\":\"XWk5Mm09vNAfeQQ-2pcgKg==\",\"Standard\":\"dIQqW1nA9dKf9vjobQ3Zig==\",\"Mega\":\"_27dN1wr6N-E8HGtYzu3i7g==\",\"Giga\":\"Ykq8OpH1iVEGZr274xMARA==\",\"PAs\":\"WAakUYlihRJYkOAEy6o0PQ==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"OkzWEE1m09jk2IPAJqnVEA==\",\"title\":\"VAwPrPgTunVG2QPkpckLaw==\",\"itemArt\":\"_0LjY-2JcgNwWCRTx9Z1iZg==\",\"Standard\":\"krXoP9KIdpx2NM8l-usxig==\",\"Mega\":\"GIcFbXmm-wOR2DicVeovZQ==\",\"Giga\":\"Sj71iWsMzdTAiBVJw2bH-w==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modifiers\":\"_6YBe-HQ0riMJfyQ596Yq4g==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modifiers\":\"NL9AZxuguN5EP+6hVq3ykw==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"zFUISMCEELuJHhYavzIDEw==\",\"itemArt\":\"AmqleUu8ZQJ4VPa-Uos64Q==\",\"Battlechips\":\"gdqoAhvl70hYsiQBSmhvxA==\",\"Standard\":\"_8UpDBv8ZfaSCUAcmQIdaiA==\",\"Mega\":\"p-3m0S+cgONKd3jMG9mrkA==\",\"Giga\":\"lpMquCuG9xqOGOStm2-Rvg==\",\"PAs\":\"GK+CHYSweP24aiaUW9mvOw==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"YE--Us1jjJdvW+yCUmkXBQ==\",\"Standard\":\"N2t1kZZj+UkUKbEOmhCPOA==\",\"Mega\":\"JgZvHJ7tKn7PktI293+wKA==\",\"Giga\":\"Kwgv9Hn6e4OkO3gFW7qaiA==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DlTzPK-aYUXhoNkaKs0BwA==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"wz7K0-J08adrSgw2tW4XJQ==\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sectionList\":\"HKmqupXFGhpXSqoewiBozw==\"};","/** @format */\r\n\r\nconst reportWebVitals = (onPerfEntry) => {\r\n    if (onPerfEntry && onPerfEntry instanceof Function) {\r\n        import('web-vitals').then(\r\n            ({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n                getCLS(onPerfEntry);\r\n                getFID(onPerfEntry);\r\n                getFCP(onPerfEntry);\r\n                getLCP(onPerfEntry);\r\n                getTTFB(onPerfEntry);\r\n            },\r\n        );\r\n    }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","/** @format */\r\n\r\nimport React from 'react';\r\nimport styles from './styles/Icon.Module.css';\r\n\r\nclass Icon extends React.Component {\r\n    render() {\r\n        let hoverClass = this.props.hover ? styles.hover : '';\r\n        let hiddenClass = this.props.hidden ? styles.hidden : '';\r\n        let floatClass = this.props.float === 'right' ? styles.right : '';\r\n        let grayscaleClass = this.props.grayscale ? styles.grayscale : '';\r\n\r\n        return (\r\n            <img\r\n                src={this.props.src}\r\n                id={this.props.id}\r\n                className={`${styles.icon} ${\r\n                    styles[this.props.size]\r\n                } ${hoverClass} ${hiddenClass} ${floatClass} ${grayscaleClass}`}\r\n                onClick={this.props.onClick}\r\n                alt={this.props.altText}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nexport default Icon;\r\n","/** @format */\r\n\r\nimport { useMemo } from 'react';\r\n\r\n// Converts a promise into something that works with React Suspense.\r\nfunction createSuspenseResource(promise) {\r\n    let status = 'pending';\r\n    let result;\r\n    let suspender = promise.then(\r\n        (r) => {\r\n            status = 'success';\r\n            result = r;\r\n        },\r\n        (e) => {\r\n            status = 'error';\r\n            result = e;\r\n        },\r\n    );\r\n    return {\r\n        read() {\r\n            if (status === 'pending') {\r\n                throw suspender;\r\n            } else if (status === 'error') {\r\n                throw result;\r\n            } else if (status === 'success') {\r\n                return result;\r\n            }\r\n        },\r\n    };\r\n}\r\n\r\nexport default function useSuspenseResource(promiseCallback, deps) {\r\n    return useMemo(\r\n        () => createSuspenseResource(promiseCallback()),\r\n        // Dynamic deps array because it's passed in from the caller.\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        deps,\r\n    );\r\n}\r\n","/** @format */\r\n\r\nimport React, { Suspense } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styles from './styles/RoutesListItem.Module.css';\r\nimport Icon from '../common/Icon';\r\nimport useSuspenseResource from '../common/functions/useSuspense';\r\n\r\nfunction RoutesListItem(props) {\r\n    const path = props.path;\r\n    const notesResource = useSuspenseResource(async () => {\r\n        const response = await fetch(\r\n            `${process.env.PUBLIC_URL}/notes/${path}.json`,\r\n        );\r\n\r\n        return await response.json();\r\n    }, [path]);\r\n\r\n    return (\r\n        <Suspense fallback=\"Loading...\">\r\n            <RoutesListItemImpl\r\n                {...props}\r\n                notesResource={notesResource}\r\n                gameId={props.gameId}\r\n                path={props.path}\r\n            />\r\n        </Suspense>\r\n    );\r\n}\r\n\r\nfunction RoutesListItemImpl(props) {\r\n    const notes = props.notesResource.read();\r\n\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <Link\r\n                to={'/notes/game/' + props.gameId + '/route/' + props.path}\r\n                className={`${styles.link} col-5 col-m-6`}>\r\n                <div>{notes.title}</div>\r\n            </Link>\r\n            <Link\r\n                to={'/notes/game/' + props.gameId + '/route/' + props.path}\r\n                className={`${styles.link} col-2 hidden-mobile`}>\r\n                <div>{notes.category}</div>\r\n            </Link>\r\n            <Link\r\n                to={'/notes/game/' + props.gameId + '/route/' + props.path}\r\n                className={`${styles.link} col-2 col-m-4`}>\r\n                <div>{notes.author}</div>\r\n            </Link>\r\n            <Link\r\n                to={'/notes/game/' + props.gameId + '/route/' + props.path}\r\n                className={`${styles.link} col-2 hidden-mobile`}>\r\n                <div>{notes.version}</div>\r\n            </Link>\r\n            <Link\r\n                to={'/notes/editRoute/' + props.path}\r\n                className={`${styles.link} col-1 col-m-2`}>\r\n                <Icon\r\n                    src=\"/icons/edit.png\"\r\n                    size=\"small\"\r\n                    altText=\"Edit\"\r\n                    hover={true}\r\n                    hidden={false}\r\n                />\r\n            </Link>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RoutesListItem;\r\n","/** @format */\r\n\r\nimport React from 'react';\r\nimport styles from './styles/Button.Module.css';\r\n\r\nclass Button extends React.Component {\r\n    render() {\r\n        return (\r\n            <button\r\n                id={this.props.id}\r\n                className={`${styles.btn} ${styles[this.props.size]} ${\r\n                    this.props.className\r\n                }`}\r\n                type=\"button\"\r\n                onClick={this.props.onClick}>\r\n                {this.props.text}\r\n            </button>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Button;\r\n","/** @format */\r\n\r\nimport React from 'react';\r\nimport styles from './styles/RoutesList.Module.css';\r\nimport RoutesListItem from './RoutesListItem';\r\nimport Button from '../common/Button';\r\n\r\nlet routes = require('../../notes/routes.json');\r\n\r\nclass RoutesList extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let gameId = props.match.params.gameId;\r\n        let gameRoutes = routes[gameId];\r\n\r\n        if (gameRoutes == null) {\r\n            this.props.history.push('/notes');\r\n        }\r\n\r\n        this.state = {\r\n            gameId: props.match.params.gameId,\r\n            gameName: gameRoutes.name,\r\n            routes: gameRoutes.routes,\r\n        };\r\n\r\n        this.createRoute = this.createRoute.bind(this);\r\n    }\r\n\r\n    createRoute() {\r\n        this.props.history.push('/notes/createRoute/' + this.state.gameId);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"page\">\r\n                <div className={styles.wrapper}>\r\n                    <div className={'col-3 col-m-12 card'}>\r\n                        <h3>{this.state.gameName}</h3>\r\n                        <img\r\n                            className={styles.gameArt}\r\n                            src={'/gameArt/' + this.state.gameId + '.png'}\r\n                            alt={this.state.gameId + '.png'}\r\n                        />\r\n                    </div>\r\n                    <div className={'col-8 col-m-12 card'}>\r\n                        <h1>Routes</h1>\r\n                        <div className={styles.wrapper + ' ' + styles.header}>\r\n                            <div className=\"col-5 col-m-6\">Route Name</div>\r\n                            <div className=\"col-2 hidden-mobile\">Category</div>\r\n                            <div className=\"col-2 col-m-4\">Author</div>\r\n                            <div className=\"col-2 hidden-mobile\">Version</div>\r\n                            <div className=\"col-1 col-m-2\">Edit</div>\r\n                        </div>\r\n                        {this.state.routes.map((route) => (\r\n                            <RoutesListItem\r\n                                gameId={this.state.gameId}\r\n                                key={route.path}\r\n                                path={route.path}\r\n                            />\r\n                        ))}\r\n                        <Button\r\n                            text=\"Create New Route\"\r\n                            size=\"medium\"\r\n                            onClick={this.createRoute}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default RoutesList;\r\n","/** @format */\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\n/**\r\n * Example:\r\n *\r\n * const isSmallScreen = useMatchMedia('(max-width: 600px)');\r\n */\r\nexport default function useMatchMedia(query) {\r\n    const [matches, setMatches] = useState(\r\n        () => window.matchMedia(query).matches,\r\n    );\r\n\r\n    useEffect(() => {\r\n        const mediaQueryList = window.matchMedia(query);\r\n        const callback = (e) => setMatches(e.matches);\r\n\r\n        mediaQueryList.addListener(callback);\r\n        return function cleanup() {\r\n            mediaQueryList.removeListener(callback);\r\n        };\r\n    }, [query, setMatches]);\r\n\r\n    return matches;\r\n}\r\n","/** @format */\r\n\r\nimport { createContext } from 'react';\r\n\r\nconst NotesContext = createContext({});\r\n\r\nexport default NotesContext;\r\n","/** @format */\r\n\r\nimport { useContext, useCallback } from 'react';\r\nimport styles from './styles/Menu.Module.css';\r\nimport Button from '../../common/Button';\r\nimport useMatchMedia from '../../common/functions/useMatchMedia';\r\nimport NotesContext from '../../common/NotesContext';\r\n\r\nfunction Menu(props) {\r\n    const {\r\n        notes: { game },\r\n        showNotes,\r\n        showTracker,\r\n        mode,\r\n        foundModifiers,\r\n        folderEditView,\r\n        setContext,\r\n    } = useContext(NotesContext);\r\n\r\n    const changeMode = useCallback(() => {\r\n        setContext({ mode: mode === 'list' ? 'presenter' : 'list' });\r\n    }, [mode, setContext]);\r\n\r\n    const resetTracker = useCallback(() => {\r\n        let newFoundItems = JSON.parse(\r\n            JSON.stringify(\r\n                require('../../../resources/' +\r\n                    game +\r\n                    '/DefaultFoundItems.json'),\r\n            ),\r\n        );\r\n        let newFoundModifiers = foundModifiers;\r\n        if (newFoundModifiers != null) {\r\n            newFoundModifiers = JSON.parse(\r\n                JSON.stringify(\r\n                    require('../../../resources/' +\r\n                        game +\r\n                        '/DefaultFoundModifiers.json'),\r\n                ),\r\n            );\r\n        }\r\n\r\n        setContext({\r\n            foundItems: newFoundItems,\r\n            foundModifiers: newFoundModifiers,\r\n        });\r\n\r\n        localStorage.setItem(\r\n            'foundItems-' + game,\r\n            JSON.stringify(newFoundItems),\r\n        );\r\n        localStorage.setItem(\r\n            'foundModifiers-' + game,\r\n            JSON.stringify(newFoundModifiers),\r\n        );\r\n    }, [game, foundModifiers, setContext]);\r\n\r\n    const updateNotesDisplay = useCallback(() => {\r\n        setContext({ showNotes: !showNotes });\r\n    }, [showNotes, setContext]);\r\n\r\n    const updateTrackerDisplay = useCallback(() => {\r\n        setContext({ showTracker: !showTracker });\r\n    }, [showTracker, setContext]);\r\n\r\n    const swapNotesAndTracker = useCallback(() => {\r\n        setContext({ showNotes: !showNotes, showTracker: !showTracker });\r\n    }, [showNotes, showTracker, setContext]);\r\n\r\n    let modeText = mode === 'presenter' ? 'List Mode' : 'Presenter Mode';\r\n\r\n    let previewButton = '';\r\n    if (props.preview) {\r\n        previewButton = (\r\n            <Button\r\n                text=\"Edit Route\"\r\n                size=\"medium\"\r\n                className={`${styles.btn}`}\r\n                onClick={props.swapPreview}\r\n            />\r\n        );\r\n    }\r\n\r\n    // If on mobile, use a different button layout where users can only swap notes and tracker.\r\n    if (useMatchMedia('(max-width: 600px)')) {\r\n        let notesText = showNotes ? 'Show Tracker' : 'Show Notes';\r\n        return (\r\n            <div className={`card ${styles.menu}`}>\r\n                <Button\r\n                    text=\"Reset Tracker\"\r\n                    className={`${styles.btn}`}\r\n                    onClick={resetTracker}\r\n                />\r\n                <Button\r\n                    text={notesText}\r\n                    className={`${styles.btn}`}\r\n                    onClick={swapNotesAndTracker}\r\n                />\r\n                <Button\r\n                    text={modeText}\r\n                    className={`${styles.btn}`}\r\n                    onClick={changeMode}\r\n                />\r\n                {previewButton}\r\n                <div className={styles.buffer} />\r\n                <div className={`${styles.row}`}>\r\n                    <div className={`${styles.label}`}>Folder Edit View</div>\r\n                    <select\r\n                        name=\"folderEditDisplay\"\r\n                        value={folderEditView}\r\n                        className={`${styles.select}`}\r\n                        onChange={(e) =>\r\n                            setContext({ folderEditView: e.target.value })\r\n                        }>\r\n                        <option value=\"Actions\">Actions</option>\r\n                        <option value=\"Differences\">Differences</option>\r\n                        <option value=\"Inputs\">Inputs</option>\r\n                    </select>\r\n                </div>\r\n                <div className={styles.buffer} />\r\n            </div>\r\n        );\r\n    } else {\r\n        let showNotesText = showNotes ? 'Hide Notes' : 'Show Notes';\r\n        let showTrackerText = showTracker ? 'Hide Tracker' : 'Show Tracker';\r\n\r\n        return (\r\n            <div className={`card ${styles.menu}`}>\r\n                <div className={`${styles.col}`}>\r\n                    <Button\r\n                        text={showNotesText}\r\n                        size=\"medium\"\r\n                        className={`${styles.btn}`}\r\n                        onClick={updateNotesDisplay}\r\n                    />\r\n                    <Button\r\n                        text={showTrackerText}\r\n                        size=\"medium\"\r\n                        className={`${styles.btn}`}\r\n                        onClick={updateTrackerDisplay}\r\n                    />\r\n                    <Button\r\n                        text=\"Reset Tracker\"\r\n                        size=\"medium\"\r\n                        className={`${styles.btn}`}\r\n                        onClick={resetTracker}\r\n                    />\r\n                    <Button\r\n                        text={modeText}\r\n                        size=\"medium\"\r\n                        className={`${styles.btn}`}\r\n                        onClick={changeMode}\r\n                    />\r\n                </div>\r\n                <div className={`${styles.dropdown}`}>\r\n                    <div className={`${styles.label}`}>Folder Edit View</div>\r\n                    <div>\r\n                        <select\r\n                            name=\"folderEditDisplay\"\r\n                            value={folderEditView}\r\n                            className={`${styles.select}`}\r\n                            onChange={(e) =>\r\n                                setContext({ folderEditView: e.target.value })\r\n                            }>\r\n                            <option value=\"Actions\">Actions</option>\r\n                            <option value=\"Differences\">Differences</option>\r\n                            <option value=\"Inputs\">Inputs</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div className={`${styles.col}`}>{previewButton}</div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Menu;\r\n","/** @format */\r\n\r\nimport { useContext } from 'react';\r\nimport NotesContext from '../../../common/NotesContext';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport styles from './styles/Text.Module.css';\r\n\r\nfunction Text(props) {\r\n    const { foundItems, foundModifiers } = useContext(NotesContext);\r\n\r\n    if (props.text.item != null && foundItems.includes(props.text.item)) {\r\n        if (\r\n            props.text.modifier == null ||\r\n            foundModifiers[props.text.item].includes(props.text.modifier)\r\n        ) {\r\n            return (\r\n                <div className={`${styles.text} ${styles.found}`}>\r\n                    <ReactMarkdown children={props.text.text} />\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={`${styles.text}`}>\r\n            <ReactMarkdown children={props.text.text} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Text;\r\n","/** @format */\r\n\r\nimport { useContext } from 'react';\r\nimport styles from './styles/SmallModifiers.Module.css';\r\nimport themeMMBN from './styles/themes/MMBN/MMBN-SmallModifiers.Module.css';\r\nimport NotesContext from '../../../common/NotesContext';\r\n\r\nfunction Modifier(props) {\r\n    const {\r\n        notes: { game },\r\n        foundModifiers,\r\n    } = useContext(NotesContext);\r\n\r\n    const foundClass = foundModifiers[props.id].includes(props.modifier)\r\n        ? styles.found\r\n        : '';\r\n    return (\r\n        <div\r\n            id={'modifier-' + props.id + '-' + props.modifier}\r\n            className={`${styles.modifier} ${styles[game]} ${foundClass}`}\r\n            onClick={() => props.updateFound(props.modifier)}>\r\n            {props.modifier}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction SmallModifiers(props) {\r\n    const {\r\n        notes: { game },\r\n    } = useContext(NotesContext);\r\n\r\n    let theme = {};\r\n    if (game.includes('MMBN')) {\r\n        theme = themeMMBN;\r\n    }\r\n\r\n    const updateFound = (modifier) => {\r\n        props.updateTracker(props.id, modifier);\r\n    };\r\n\r\n    if (props.modifiers != null && props.modifiers.length > 0) {\r\n        return (\r\n            <div className={`${styles.modifiers} ${theme.modifiers}`}>\r\n                {props.modifiers.map((modifier) => (\r\n                    <Modifier\r\n                        key={'small-modifier-' + modifier}\r\n                        id={props.id}\r\n                        modifier={modifier}\r\n                        updateFound={updateFound}\r\n                    />\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n    return null;\r\n}\r\n\r\nexport default SmallModifiers;\r\n","/** @format */\r\n\r\nimport { useContext } from 'react';\r\nimport styles from './styles/SmallItem.Module.css';\r\nimport themeMMBN from './styles/themes/MMBN/MMBN-SmallItem.Module.css';\r\nimport themeMMSF from './styles/themes/MMSF/MMSF-SmallItem.Module.css';\r\nimport SmallModifiers from './SmallModifiers';\r\nimport NotesContext from '../../../common/NotesContext';\r\n\r\nfunction SmallItem(props) {\r\n    const {\r\n        notes: { game },\r\n    } = useContext(NotesContext);\r\n\r\n    let theme = {};\r\n    if (game.includes('MMBN')) {\r\n        theme = themeMMBN;\r\n    } else if (game.includes('MMSF')) {\r\n        theme = themeMMSF;\r\n    }\r\n\r\n    let Items = require('../../../../resources/' + game + '/ItemNames.json');\r\n\r\n    const updateFound = () => {\r\n        props.updateTracker(props.id, null);\r\n    };\r\n\r\n    const foundClass = props.found ? styles.found : '';\r\n    let typeClass = '';\r\n    for (let i = 0; i < Items.types.length; i++) {\r\n        let type = Items.types[i];\r\n        if (props.id >= type.low && props.id <= type.high) {\r\n            typeClass = type.id;\r\n            break;\r\n        }\r\n    }\r\n    return (\r\n        <div className={`${styles.wrapper}`}>\r\n            <div\r\n                id={props.id}\r\n                className={`${styles.item} ${theme.item} ${theme[typeClass]} ${foundClass}`}\r\n                onClick={updateFound}>\r\n                <div className={`${styles.title} ${theme.title}`}>\r\n                    {Items.Items[props.id].name}\r\n                </div>\r\n                <img\r\n                    className={`${styles.itemArt} ${theme.itemArt}`}\r\n                    src={'/items/' + game + '/' + props.id + '.png'}\r\n                    alt={Items.Items[props.id] + ' art'}\r\n                />\r\n            </div>\r\n            <SmallModifiers\r\n                id={props.id}\r\n                modifiers={props.modifiers}\r\n                updateTracker={props.updateTracker}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SmallItem;\r\n","/** @format */\r\n\r\nimport { useContext } from 'react';\r\nimport SmallItem from './SmallItem';\r\nimport NotesContext from '../../../common/NotesContext';\r\nimport styles from './styles/ItemsList.Module.css';\r\n\r\nfunction ItemsList(props) {\r\n    const {\r\n        notes: { game },\r\n        foundItems,\r\n        foundModifiers,\r\n    } = useContext(NotesContext);\r\n\r\n    let Items = require('../../../../resources/' + game + '/ItemNames.json');\r\n\r\n    let itemsList;\r\n\r\n    if (Items.modifiers) {\r\n        let completedItems = [];\r\n\r\n        for (let i = 0; i < props.items.length; i++) {\r\n            let item = props.items[i];\r\n\r\n            if (!completedItems.some((o) => o.value === item.value)) {\r\n                let modifiers = [];\r\n\r\n                for (let j = 0; j < props.items.length; j++) {\r\n                    let item2 = props.items[j];\r\n\r\n                    if (\r\n                        item2.value === item.value &&\r\n                        item2.modifier &&\r\n                        item2.modifier !== '' &&\r\n                        item2.modifier != null\r\n                    ) {\r\n                        modifiers.push(item2.modifier);\r\n                    }\r\n                }\r\n\r\n                completedItems.push({\r\n                    value: item.value,\r\n                    modifiers: modifiers,\r\n                });\r\n            }\r\n        }\r\n\r\n        itemsList = completedItems.map((item) => (\r\n            <SmallItem\r\n                key={'small-item-' + item.value}\r\n                id={item.value}\r\n                updateTracker={props.updateTracker}\r\n                modifiers={item.modifiers}\r\n                found={foundItems.includes(item.value)}\r\n                foundModifiers={foundModifiers}\r\n            />\r\n        ));\r\n    } else {\r\n        itemsList = props.items.map((item) => (\r\n            <SmallItem\r\n                key={'small-item-' + item.value}\r\n                id={item.value}\r\n                updateTracker={props.updateTracker}\r\n                found={foundItems.includes(item.value)}\r\n                foundModifiers={foundModifiers}\r\n            />\r\n        ));\r\n    }\r\n\r\n    if (props.items.length > 0) {\r\n        return (\r\n            <div className={styles.itemContainer}>\r\n                <div className={styles.label}>Potential {Items.name + 's'}</div>\r\n                <div className={styles.itemList}>{itemsList}</div>\r\n            </div>\r\n        );\r\n    }\r\n    return null;\r\n}\r\n\r\nexport default ItemsList;\r\n","/** @format */\r\n\r\nimport styles from './styles/Image.Module.css';\r\n\r\nfunction Image(props) {\r\n    if (props.image != null) {\r\n        return (\r\n            <div className={`${styles.imageContainer}`}>\r\n                <img\r\n                    className={styles.image}\r\n                    src={props.image}\r\n                    alt=\"\"\r\n                    onClick={() => props.onClick(props.image)}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport default Image;\r\n","/** @format */\r\n\r\nimport styles from './styles/State.Module.css';\r\n\r\nfunction State(props) {\r\n    if (props.state != null) {\r\n        return (\r\n            <div className={`${styles.stateContainer}`}>\r\n                <div className={`${styles.label}`}>State</div>\r\n                <div className={styles.wrapper}>\r\n                    {props.state.keys.map((key) => (\r\n                        <div\r\n                            className={`${styles.stateField} ${\r\n                                !props.state[key].shown ? styles.hidden : ''\r\n                            }`}\r\n                            key={key}>\r\n                            <div className={`${styles.keyLabel}`}>{key}</div>\r\n                            <div className=\"col-2\">\r\n                                {props.state[key].value}\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport default State;\r\n","/** @format */\r\n\r\nimport performFolderEditSort from './performFolderEditSort';\r\n\r\nexport default function performFolderEditAction(folder, action, gameInfo) {\r\n    const newFolder = JSON.parse(JSON.stringify(folder));\r\n\r\n    if (action.item1 !== -1) {\r\n        if (action.action === 'Remove') {\r\n            newFolder[action.item1].item = -1;\r\n            newFolder[action.item1].modifier = null;\r\n        } else if (action.action === 'Add') {\r\n            for (const item of folder) {\r\n                if (item.item === -1) {\r\n                    newFolder[item.slot].item = action.item1;\r\n                    newFolder[item.slot].modifier = action.modifier1;\r\n                    break;\r\n                }\r\n            }\r\n        } else if (action.action === 'Swap') {\r\n            if (action.item2 !== -1) {\r\n                const slot1 = newFolder[action.item1];\r\n                const slot2 = newFolder[action.item2];\r\n\r\n                // Swap the slots.\r\n                slot1.slot = action.item2;\r\n                slot2.slot = action.item1;\r\n\r\n                //Swap positions in array\r\n                newFolder[action.item1] = slot2;\r\n                newFolder[action.item2] = slot1;\r\n            }\r\n        } else if (action.action === 'Replace') {\r\n            if (action.item2 !== -1) {\r\n                newFolder[action.item1].item = action.item2;\r\n                newFolder[action.item1].modifier = action.modifier2;\r\n            }\r\n        } else if (action.action === 'Reg' || action.action === 'Default') {\r\n            // Unreg everything else\r\n            for (let i = 0; i < newFolder.length; i++) {\r\n                newFolder[i].regged = false;\r\n            }\r\n            newFolder[action.item1].regged = true;\r\n        } else if (action.action === 'Tag') {\r\n            // Tag only does something if 2 items are selected.\r\n            if (action.item1 !== -1 && action.item2 !== -1) {\r\n                // Untag everything else\r\n                for (let i = 0; i < newFolder.length; i++) {\r\n                    newFolder[i].tagged = false;\r\n                }\r\n                // Mark items as tagged first. Then, move items around to put them next to each other.\r\n                newFolder[action.item1].tagged = true;\r\n                newFolder[action.item2].tagged = true;\r\n\r\n                // Whichever item is picked first goes on top. However, if item1 is above item2 in the folder, item1 will not\r\n                // move. But if item 2 is above item1, item1 moves up one slot because of item2 moving below.\r\n                if (parseInt(action.item1) < parseInt(action.item2)) {\r\n                    for (\r\n                        let i = parseInt(action.item2);\r\n                        i > parseInt(action.item1) + 1;\r\n                        i--\r\n                    ) {\r\n                        let tempItem = newFolder[i];\r\n                        newFolder[i] = newFolder[i - 1];\r\n                        newFolder[i].slot = newFolder[i].slot + 1;\r\n                        newFolder[i - 1] = tempItem;\r\n                        newFolder[i - 1].slot = newFolder[i - 1].slot - 1;\r\n                    }\r\n                } else {\r\n                    for (\r\n                        let i = parseInt(action.item2);\r\n                        i < parseInt(action.item1);\r\n                        i++\r\n                    ) {\r\n                        let tempItem = newFolder[i];\r\n                        newFolder[i] = newFolder[i + 1];\r\n                        newFolder[i].slot = newFolder[i].slot - 1;\r\n                        newFolder[i + 1] = tempItem;\r\n                        newFolder[i + 1].slot = newFolder[i + 1].slot + 1;\r\n                    }\r\n                }\r\n            }\r\n        } else if (action.action === 'Sort') {\r\n            performFolderEditSort(\r\n                newFolder,\r\n                action.item1,\r\n                action.item2,\r\n                gameInfo,\r\n            );\r\n        }\r\n        // TODO: Implement Favorites\r\n    }\r\n\r\n    return newFolder;\r\n}\r\n","/** @format */\r\n\r\nexport default function performFolderEditSort(\r\n    folder,\r\n    sortType,\r\n    reverse,\r\n    gameInfo,\r\n) {\r\n    if (sortType === 'ID') {\r\n        folder.sort((slot1, slot2) => {\r\n            if (reverse) {\r\n                if (slot1.item === slot2.item) {\r\n                    return slot1.modifier > slot2.modifier ? 1 : -1;\r\n                } else {\r\n                    return slot1.item < slot2.item ? 1 : -1;\r\n                }\r\n            } else {\r\n                if (slot1.item === slot2.item) {\r\n                    return slot1.modifier > slot2.modifier ? 1 : -1;\r\n                } else {\r\n                    return slot1.item > slot2.item ? 1 : -1;\r\n                }\r\n            }\r\n        });\r\n    } else if (sortType === 'Alphabet') {\r\n        folder.sort((slot1, slot2) => {\r\n            if (reverse) {\r\n                if (slot1.item === slot2.item) {\r\n                    return slot1.modifier > slot2.modifier ? 1 : -1;\r\n                } else {\r\n                    return gameInfo.Items[slot1.item].name <\r\n                        gameInfo.Items[slot2.item].name\r\n                        ? 1\r\n                        : -1;\r\n                }\r\n            } else {\r\n                if (slot1.item === slot2.item) {\r\n                    return slot1.modifier > slot2.modifier ? 1 : -1;\r\n                } else {\r\n                    return gameInfo.Items[slot1.item].name >\r\n                        gameInfo.Items[slot2.item].name\r\n                        ? 1\r\n                        : -1;\r\n                }\r\n            }\r\n        });\r\n    } else if (sortType === 'Alphabet (JP)') {\r\n        folder.sort((slot1, slot2) => {\r\n            if (reverse) {\r\n                if (slot1.item === slot2.item) {\r\n                    return slot1.modifier > slot2.modifier ? 1 : -1;\r\n                } else {\r\n                    return gameInfo.Items[slot1.item].nameJP <\r\n                        gameInfo.Items[slot2.item].nameJP\r\n                        ? 1\r\n                        : -1;\r\n                }\r\n            } else {\r\n                if (slot1.item === slot2.item) {\r\n                    return slot1.modifier > slot2.modifier ? 1 : -1;\r\n                } else {\r\n                    return gameInfo.Items[slot1.item].nameJP >\r\n                        gameInfo.Items[slot2.item].nameJP\r\n                        ? 1\r\n                        : -1;\r\n                }\r\n            }\r\n        });\r\n    } else if (sortType === 'Code') {\r\n        folder.sort((slot1, slot2) => {\r\n            if (reverse) {\r\n                if (slot1.modifier === slot2.modifier) {\r\n                    return slot1.item > slot2.item ? 1 : -1;\r\n                } else {\r\n                    return slot1.modifier < slot2.modifier ? 1 : -1;\r\n                }\r\n            } else {\r\n                if (slot1.modifier === slot2.modifier) {\r\n                    return slot1.item > slot2.item ? 1 : -1;\r\n                } else {\r\n                    return slot1.modifier > slot2.modifier ? 1 : -1;\r\n                }\r\n            }\r\n        });\r\n    } else if (sortType === 'Attack') {\r\n        folder.sort((slot1, slot2) => {\r\n            if (reverse) {\r\n                if (\r\n                    gameInfo.Items[slot1.item].damageSort ===\r\n                    gameInfo.Items[slot2.item].damageSort\r\n                ) {\r\n                    if (slot1.item === slot2.item) {\r\n                        return slot1.modifier > slot2.modifier ? 1 : -1;\r\n                    } else {\r\n                        return slot1.item > slot2.item ? 1 : -1;\r\n                    }\r\n                } else {\r\n                    return gameInfo.Items[slot1.item].damageSort >\r\n                        gameInfo.Items[slot2.item].damageSort\r\n                        ? 1\r\n                        : -1;\r\n                }\r\n            } else {\r\n                if (\r\n                    gameInfo.Items[slot1.item].damageSort ===\r\n                    gameInfo.Items[slot2.item].damageSort\r\n                ) {\r\n                    if (slot1.item === slot2.item) {\r\n                        return slot1.modifier > slot2.modifier ? 1 : -1;\r\n                    } else {\r\n                        return slot1.item > slot2.item ? 1 : -1;\r\n                    }\r\n                } else {\r\n                    return gameInfo.Items[slot1.item].damageSort <\r\n                        gameInfo.Items[slot2.item].damageSort\r\n                        ? 1\r\n                        : -1;\r\n                }\r\n            }\r\n        });\r\n    } else if (sortType === 'Element') {\r\n        folder.sort((slot1, slot2) => {\r\n            if (reverse) {\r\n                if (\r\n                    gameInfo.elementOrder[\r\n                        gameInfo.Items[slot1.item].element\r\n                    ] ===\r\n                    gameInfo.elementOrder[gameInfo.Items[slot2.item].element]\r\n                ) {\r\n                    if (slot1.item === slot2.item) {\r\n                        return slot1.modifier > slot2.modifier ? 1 : -1;\r\n                    } else {\r\n                        return slot1.item > slot2.item ? 1 : -1;\r\n                    }\r\n                } else {\r\n                    return gameInfo.elementOrder[\r\n                        gameInfo.Items[slot1.item].element\r\n                    ] <\r\n                        gameInfo.elementOrder[\r\n                            gameInfo.Items[slot2.item].element\r\n                        ]\r\n                        ? 1\r\n                        : -1;\r\n                }\r\n            } else {\r\n                if (\r\n                    gameInfo.elementOrder[\r\n                        gameInfo.Items[slot1.item].element\r\n                    ] ===\r\n                    gameInfo.elementOrder[gameInfo.Items[slot2.item].element]\r\n                ) {\r\n                    if (slot1.item === slot2.item) {\r\n                        return slot1.modifier > slot2.modifier ? 1 : -1;\r\n                    } else {\r\n                        return slot1.item > slot2.item ? 1 : -1;\r\n                    }\r\n                } else {\r\n                    return gameInfo.elementOrder[\r\n                        gameInfo.Items[slot1.item].element\r\n                    ] >\r\n                        gameInfo.elementOrder[\r\n                            gameInfo.Items[slot2.item].element\r\n                        ]\r\n                        ? 1\r\n                        : -1;\r\n                }\r\n            }\r\n        });\r\n    } else if (sortType === 'Quantity') {\r\n        // Count number of each item in the folder\r\n        const counts = {};\r\n        for (const slot of folder) {\r\n            if (counts[slot.item]) {\r\n                counts[slot.item][slot.modifier] = counts[slot.item][\r\n                    slot.modifier\r\n                ]\r\n                    ? counts[slot.item][slot.modifier] + 1\r\n                    : 1;\r\n            } else {\r\n                counts[slot.item] = {};\r\n                counts[slot.item][slot.modifier] = 1;\r\n            }\r\n        }\r\n\r\n        folder.sort((slot1, slot2) => {\r\n            if (reverse) {\r\n                if (\r\n                    counts[slot1.item][slot1.modifier] ===\r\n                    counts[slot2.item][slot2.modifier]\r\n                ) {\r\n                    if (slot1.item === slot2.item) {\r\n                        return slot1.modifier > slot2.modifier ? 1 : -1;\r\n                    } else {\r\n                        return slot1.item > slot2.item ? 1 : -1;\r\n                    }\r\n                } else {\r\n                    return counts[slot1.item][slot1.modifier] >\r\n                        counts[slot2.item][slot2.modifier]\r\n                        ? 1\r\n                        : -1;\r\n                }\r\n            } else {\r\n                if (\r\n                    counts[slot1.item][slot1.modifier] ===\r\n                    counts[slot2.item][slot2.modifier]\r\n                ) {\r\n                    if (slot1.item === slot2.item) {\r\n                        return slot1.modifier > slot2.modifier ? 1 : -1;\r\n                    } else {\r\n                        return slot1.item > slot2.item ? 1 : -1;\r\n                    }\r\n                } else {\r\n                    return counts[slot1.item][slot1.modifier] <\r\n                        counts[slot2.item][slot2.modifier]\r\n                        ? 1\r\n                        : -1;\r\n                }\r\n            }\r\n        });\r\n    } else if (sortType === 'Capacity' || sortType === 'MB') {\r\n        folder.sort((slot1, slot2) => {\r\n            if (reverse) {\r\n                if (\r\n                    gameInfo.Items[slot1.item].capacity ===\r\n                    gameInfo.Items[slot2.item].capacity\r\n                ) {\r\n                    if (slot1.item === slot2.item) {\r\n                        return slot1.modifier > slot2.modifier ? 1 : -1;\r\n                    } else {\r\n                        return slot1.item > slot2.item ? 1 : -1;\r\n                    }\r\n                } else {\r\n                    return gameInfo.Items[slot1.item].capacity <\r\n                        gameInfo.Items[slot2.item].capacity\r\n                        ? 1\r\n                        : -1;\r\n                }\r\n            } else {\r\n                if (\r\n                    gameInfo.Items[slot1.item].capacity ===\r\n                    gameInfo.Items[slot2.item].capacity\r\n                ) {\r\n                    if (slot1.item === slot2.item) {\r\n                        return slot1.modifier > slot2.modifier ? 1 : -1;\r\n                    } else {\r\n                        return slot1.item > slot2.item ? 1 : -1;\r\n                    }\r\n                } else {\r\n                    return gameInfo.Items[slot1.item].capacity >\r\n                        gameInfo.Items[slot2.item].capacity\r\n                        ? 1\r\n                        : -1;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // Actually update the slots based on the new order\r\n    let i = 0;\r\n    for (const slot of folder) {\r\n        slot.slot = i;\r\n        i = i + 1;\r\n    }\r\n}\r\n","/** @format */\r\n\r\nexport default function getPathsToSlot(game, cursor, cursorPosition, goal) {\r\n    const gameInfo = require('../../../resources/' + game + '/ItemNames.json');\r\n    const pathsToSlot = [\r\n        {\r\n            path: '',\r\n            cursor: cursor,\r\n            cursorPosition: cursorPosition,\r\n        },\r\n    ];\r\n\r\n    for (const path of pathsToSlot) {\r\n        let numInputs = 0;\r\n        while (parseInt(path.cursor) !== parseInt(goal) && numInputs <= 100) {\r\n            // If the difference is negative, we're moving the cursor down. If its positive, we're moving the cursor up.\r\n            if (Math.sign(path.cursor - goal) === -1) {\r\n                // Check if pressing R will get you closer to the slot\r\n                if (\r\n                    path.cursor -\r\n                        path.cursorPosition +\r\n                        2 * gameInfo.itemsShown -\r\n                        1 <=\r\n                        29 &&\r\n                    Math.abs(path.cursor + gameInfo.itemsShown - goal) + 1 <=\r\n                        Math.abs(path.cursor - goal)\r\n                ) {\r\n                    // If pressing R will be equal in inputs to pressing just down, create a new path to track with the R press, then move on with a down input.\r\n                    if (\r\n                        Math.abs(path.cursor + gameInfo.itemsShown - goal) +\r\n                            1 ===\r\n                        Math.abs(path.cursor - goal)\r\n                    ) {\r\n                        pathsToSlot.push({\r\n                            path: path.path + 'R ',\r\n                            cursor: path.cursor + gameInfo.itemsShown,\r\n                            cursorPosition: path.cursorPosition,\r\n                        });\r\n                        path.path = path.path + 'V ';\r\n                        path.cursor = path.cursor + 1;\r\n                        path.cursorPosition = Math.min(\r\n                            path.cursorPosition + 1,\r\n                            gameInfo.itemsShown - 1,\r\n                        );\r\n                    } else {\r\n                        path.path = path.path + 'R ';\r\n                        path.cursor = path.cursor + gameInfo.itemsShown;\r\n                    }\r\n                } else {\r\n                    // Check if pressing R will get you closer to the slot in the situation that you're close to the bottom of the folder\r\n                    if (\r\n                        path.cursor -\r\n                            path.cursorPosition +\r\n                            2 * gameInfo.itemsShown -\r\n                            1 >\r\n                            29 &&\r\n                        Math.abs(\r\n                            30 -\r\n                                gameInfo.itemsShown +\r\n                                path.cursorPosition -\r\n                                goal,\r\n                        ) +\r\n                            1 <=\r\n                            Math.abs(path.cursor - goal) &&\r\n                        path.cursor !==\r\n                            30 - gameInfo.itemsShown + path.cursorPosition\r\n                    ) {\r\n                        // If pressing R will be equal in inputs to pressing just down, create a new path to track with the R press, then move on with a down input.\r\n                        if (\r\n                            Math.abs(\r\n                                30 -\r\n                                    gameInfo.itemsShown +\r\n                                    path.cursorPosition -\r\n                                    goal,\r\n                            ) +\r\n                                1 ===\r\n                            Math.abs(path.cursor - goal)\r\n                        ) {\r\n                            pathsToSlot.push({\r\n                                path: path.path + 'R ',\r\n                                cursor:\r\n                                    30 -\r\n                                    gameInfo.itemsShown +\r\n                                    path.cursorPosition,\r\n                                cursorPosition: path.cursorPosition,\r\n                            });\r\n                            path.path = path.path + 'V ';\r\n                            path.cursor = path.cursor + 1;\r\n                            path.cursorPosition = Math.min(\r\n                                path.cursorPosition + 1,\r\n                                gameInfo.itemsShown - 1,\r\n                            );\r\n                        } else {\r\n                            path.path = path.path + 'R ';\r\n                            path.cursor =\r\n                                30 - gameInfo.itemsShown + path.cursorPosition;\r\n                        }\r\n                    } else {\r\n                        // If we get here, pressing R will not be helpful, so just press down.\r\n                        console.log('Attempting to move down once');\r\n                        path.path = path.path + 'V ';\r\n                        path.cursor = path.cursor + 1;\r\n                        path.cursorPosition = Math.min(\r\n                            path.cursorPosition + 1,\r\n                            gameInfo.itemsShown - 1,\r\n                        );\r\n                    }\r\n                }\r\n            } else if (Math.sign(path.cursor - goal) === 1) {\r\n                // Check if pressing L will get you closer to the slot\r\n                if (\r\n                    path.cursor - path.cursorPosition - gameInfo.itemsShown >=\r\n                        0 &&\r\n                    Math.abs(path.cursor - gameInfo.itemsShown - goal) + 1 <=\r\n                        Math.abs(path.cursor - goal)\r\n                ) {\r\n                    // If pressing L will be equal in inputs to pressing just down, create a new path to track with the R press, then move on with a down input.\r\n                    if (\r\n                        Math.abs(path.cursor - gameInfo.itemsShown - goal) +\r\n                            1 ===\r\n                        Math.abs(path.cursor - goal)\r\n                    ) {\r\n                        pathsToSlot.push({\r\n                            path: path.path + 'L ',\r\n                            cursor: path.cursor - gameInfo.itemsShown,\r\n                            cursorPosition: path.cursorPosition,\r\n                        });\r\n                        path.path = path.path + '^ ';\r\n                        path.cursor = path.cursor - 1;\r\n                        path.cursorPosition = Math.max(\r\n                            path.cursorPosition - 1,\r\n                            0,\r\n                        );\r\n                    } else {\r\n                        path.path = path.path + 'L ';\r\n                        path.cursor = path.cursor - gameInfo.itemsShown;\r\n                    }\r\n                } else {\r\n                    // Check if pressing L will get you closer to the slot in the situation that you're close to the bottom of the folder\r\n                    if (\r\n                        path.cursor -\r\n                            path.cursorPosition -\r\n                            gameInfo.itemsShown <\r\n                            0 &&\r\n                        Math.abs(path.cursorPosition - goal) + 1 <=\r\n                            Math.abs(path.cursor - goal) &&\r\n                        path.cursor !== cursorPosition\r\n                    ) {\r\n                        // If pressing R will be equal in inputs to pressing just down, create a new path to track with the R press, then move on with a down input.\r\n                        if (\r\n                            Math.abs(path.cursorPosition - goal) + 1 <=\r\n                            Math.abs(path.cursor - goal)\r\n                        ) {\r\n                            pathsToSlot.push({\r\n                                path: path.path + 'L ',\r\n                                cursor: 0 + path.cursorPosition,\r\n                                cursorPosition: path.cursorPosition,\r\n                            });\r\n                            path.path = path.path + '^ ';\r\n                            path.cursor = path.cursor - 1;\r\n                            path.cursorPosition = Math.max(\r\n                                path.cursorPosition - 1,\r\n                                0,\r\n                            );\r\n                        } else {\r\n                            path.path = path.path + 'L ';\r\n                            path.cursor = 0 + path.cursorPosition;\r\n                        }\r\n                    } else {\r\n                        // If we get here, pressing R will not be helpful, so just press down.\r\n                        path.path = path.path + '^ ';\r\n                        path.cursor = path.cursor - 1;\r\n                        path.cursorPosition = Math.max(\r\n                            path.cursorPosition - 1,\r\n                            0,\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n            numInputs = numInputs + 1;\r\n        }\r\n        if (numInputs >= 100) {\r\n            break;\r\n        }\r\n    }\r\n\r\n    return pathsToSlot;\r\n}\r\n","/** @format */\r\n\r\nimport getPathsToSlot from './getPathsToSlot';\r\n\r\nfunction getNumInputs(inputs) {\r\n    let count = 0;\r\n    for (const action of inputs) {\r\n        if (action != null) {\r\n            const actionInputs = action.split(' ');\r\n            for (const input of actionInputs) {\r\n                if (\r\n                    input === 'V' ||\r\n                    input === '^' ||\r\n                    input === '<' ||\r\n                    input === '>' ||\r\n                    input === 'A' ||\r\n                    input === 'Start' ||\r\n                    input === 'Select'\r\n                ) {\r\n                    count = count + 1;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return count;\r\n}\r\n\r\nexport default function getFolderEditInputs(\r\n    folderEdit,\r\n    game,\r\n    actionIndex = 0,\r\n    cursor = 0,\r\n    cursorPosition = 0,\r\n    sortCursor = 0,\r\n    state = 'folder',\r\n) {\r\n    // If actionIndex equals the length of the folder edit, there are no more actions to test. Return an empty list.\r\n    if (actionIndex === folderEdit.length) {\r\n        return [];\r\n    }\r\n    const gameInfo = require('../../../resources/' + game + '/ItemNames.json');\r\n    const action = folderEdit[actionIndex];\r\n\r\n    let inputs = new Array(folderEdit.length);\r\n    let actionInputs = '';\r\n    if (action.item1 !== -1) {\r\n        if (action.action === 'Remove') {\r\n            if (state === 'pack') {\r\n                actionInputs = actionInputs + '< ';\r\n                state = 'folder';\r\n            }\r\n\r\n            const paths = getPathsToSlot(\r\n                game,\r\n                cursor,\r\n                cursorPosition,\r\n                action.item1,\r\n            );\r\n            // If multiple paths returned, we need to test which one works better with the rest of the edit.\r\n            if (paths.length > 1) {\r\n                let bestInputs = Number.MAX_VALUE;\r\n                let bestPath = {};\r\n                for (const path of paths) {\r\n                    const tempInputs = getFolderEditInputs(\r\n                        folderEdit,\r\n                        game,\r\n                        actionIndex + 1,\r\n                        path.cursor,\r\n                        path.cursorPosition,\r\n                        sortCursor,\r\n                        state,\r\n                    );\r\n                    if (bestInputs > getNumInputs(tempInputs)) {\r\n                        bestInputs = getNumInputs(tempInputs);\r\n                        bestPath = path;\r\n                        inputs = tempInputs;\r\n                    }\r\n                }\r\n                actionInputs = actionInputs + bestPath.path + 'A A ';\r\n            } else {\r\n                actionInputs = actionInputs + paths[0].path + 'A A ';\r\n                inputs = getFolderEditInputs(\r\n                    folderEdit,\r\n                    game,\r\n                    actionIndex + 1,\r\n                    paths[0].cursor,\r\n                    paths[0].cursorPosition,\r\n                    sortCursor,\r\n                    state,\r\n                );\r\n            }\r\n            inputs[actionIndex] = actionInputs;\r\n        } else if (action.action === 'Add') {\r\n            if (state === 'folder') {\r\n                actionInputs = actionInputs + '> ';\r\n                state = 'pack';\r\n            }\r\n\r\n            actionInputs =\r\n                actionInputs +\r\n                '(Press A A on ' +\r\n                gameInfo.Items[action.item1].name +\r\n                ' ' +\r\n                action.modifier1 +\r\n                ')';\r\n            inputs = getFolderEditInputs(\r\n                folderEdit,\r\n                game,\r\n                actionIndex + 1,\r\n                cursor,\r\n                cursorPosition,\r\n                sortCursor,\r\n                state,\r\n            );\r\n            inputs[actionIndex] = actionInputs;\r\n        } else if (action.action === 'Swap') {\r\n            if (state === 'pack') {\r\n                actionInputs = actionInputs + '< ';\r\n                state = 'folder';\r\n            }\r\n\r\n            const pathsToFirstItem = getPathsToSlot(\r\n                game,\r\n                cursor,\r\n                cursorPosition,\r\n                action.item1,\r\n            );\r\n            // If multiple paths returned, we need to test which one works better with the rest of the edit.\r\n            if (pathsToFirstItem.length > 1) {\r\n                let bestInputs = Number.MAX_VALUE;\r\n                let bestPath1 = {};\r\n                let bestPath2 = {};\r\n                console.log(pathsToFirstItem);\r\n                for (const path of pathsToFirstItem) {\r\n                    const pathsToSecondItem = getPathsToSlot(\r\n                        game,\r\n                        path.cursor,\r\n                        path.cursorPosition,\r\n                        action.item2,\r\n                    );\r\n                    if (pathsToSecondItem.length > 1) {\r\n                        for (const path2 of pathsToSecondItem) {\r\n                            const tempInputs = getFolderEditInputs(\r\n                                folderEdit,\r\n                                game,\r\n                                actionIndex + 1,\r\n                                path2.cursor,\r\n                                path2.cursorPosition,\r\n                                sortCursor,\r\n                                state,\r\n                            );\r\n                            tempInputs[actionIndex] =\r\n                                actionInputs +\r\n                                path.path +\r\n                                'A ' +\r\n                                path2.path +\r\n                                'A ';\r\n\r\n                            console.log(getNumInputs(tempInputs));\r\n                            if (bestInputs > getNumInputs(tempInputs)) {\r\n                                bestInputs = getNumInputs(tempInputs);\r\n                                bestPath1 = path;\r\n                                bestPath2 = path2;\r\n                                inputs = tempInputs;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        const tempInputs = getFolderEditInputs(\r\n                            folderEdit,\r\n                            game,\r\n                            actionIndex + 1,\r\n                            pathsToSecondItem[0].cursor,\r\n                            pathsToSecondItem[0].cursorPosition,\r\n                            sortCursor,\r\n                            state,\r\n                        );\r\n\r\n                        console.log(bestInputs);\r\n                        console.log(bestInputs > getNumInputs(tempInputs));\r\n                        if (bestInputs > getNumInputs(tempInputs)) {\r\n                            bestInputs = getNumInputs(tempInputs);\r\n                            bestPath1 = path;\r\n                            bestPath2 = pathsToSecondItem[0];\r\n                            inputs = tempInputs;\r\n                        }\r\n                    }\r\n                }\r\n                actionInputs =\r\n                    actionInputs +\r\n                    bestPath1.path +\r\n                    'A ' +\r\n                    bestPath2.path +\r\n                    'A ';\r\n            } else {\r\n                actionInputs = actionInputs + pathsToFirstItem[0].path + 'A ';\r\n\r\n                const pathsToSecondItem = getPathsToSlot(\r\n                    game,\r\n                    pathsToFirstItem[0].cursor,\r\n                    pathsToFirstItem[0].cursorPosition,\r\n                    action.item2,\r\n                );\r\n                if (pathsToSecondItem.length > 1) {\r\n                    let bestInputs = Number.MAX_VALUE;\r\n                    let bestPath = {};\r\n                    for (const path of pathsToSecondItem) {\r\n                        const tempInputs = getFolderEditInputs(\r\n                            folderEdit,\r\n                            game,\r\n                            actionIndex + 1,\r\n                            path.cursor,\r\n                            path.cursorPosition,\r\n                            sortCursor,\r\n                            state,\r\n                        );\r\n\r\n                        if (bestInputs > getNumInputs(tempInputs)) {\r\n                            bestInputs = getNumInputs(tempInputs);\r\n                            bestPath = path;\r\n                            inputs = tempInputs;\r\n                        }\r\n                    }\r\n                    actionInputs = actionInputs + bestPath.path + 'A ';\r\n                } else {\r\n                    actionInputs =\r\n                        actionInputs + pathsToSecondItem[0].path + 'A ';\r\n\r\n                    inputs = getFolderEditInputs(\r\n                        folderEdit,\r\n                        game,\r\n                        actionIndex + 1,\r\n                        pathsToSecondItem[0].cursor,\r\n                        pathsToSecondItem[0].cursorPosition,\r\n                        sortCursor,\r\n                        state,\r\n                    );\r\n                }\r\n            }\r\n            inputs[actionIndex] = actionInputs;\r\n        } else if (action.action === 'Replace') {\r\n            // If in folder, find the chip to be replaced, swap to pack, and select the new chip\r\n            // If in pack, find the new chip, swap to folder, and select the chip to be replaced.\r\n            if (state === 'folder') {\r\n                state = 'pack';\r\n                const paths = getPathsToSlot(\r\n                    game,\r\n                    cursor,\r\n                    cursorPosition,\r\n                    action.item1,\r\n                );\r\n                // If multiple paths returned, we need to test which one works better with the rest of the edit.\r\n                if (paths.length > 1) {\r\n                    let bestInputs = Number.MAX_VALUE;\r\n                    let bestPath = {};\r\n                    for (const path of paths) {\r\n                        const tempInputs = getFolderEditInputs(\r\n                            folderEdit,\r\n                            game,\r\n                            actionIndex + 1,\r\n                            path.cursor,\r\n                            path.cursorPosition,\r\n                            sortCursor,\r\n                            state,\r\n                        );\r\n                        if (bestInputs > getNumInputs(tempInputs)) {\r\n                            bestInputs = getNumInputs(tempInputs);\r\n                            bestPath = path;\r\n                            inputs = tempInputs;\r\n                        }\r\n                    }\r\n                    actionInputs = actionInputs + bestPath.path + 'A ';\r\n                } else {\r\n                    actionInputs = actionInputs + paths[0].path + 'A ';\r\n                    inputs = getFolderEditInputs(\r\n                        folderEdit,\r\n                        game,\r\n                        actionIndex + 1,\r\n                        paths[0].cursor,\r\n                        paths[0].cursorPosition,\r\n                        sortCursor,\r\n                        state,\r\n                    );\r\n                }\r\n\r\n                actionInputs =\r\n                    actionInputs +\r\n                    '> (Press A on ' +\r\n                    gameInfo.Items[action.item2].name +\r\n                    ' ' +\r\n                    action.modifier2 +\r\n                    ') ';\r\n            } else if (state === 'pack') {\r\n                state = 'folder';\r\n                actionInputs =\r\n                    actionInputs +\r\n                    '(Press A on ' +\r\n                    gameInfo.Items[action.item2].name +\r\n                    ' ' +\r\n                    action.modifier2 +\r\n                    ') < ';\r\n\r\n                const paths = getPathsToSlot(\r\n                    game,\r\n                    cursor,\r\n                    cursorPosition,\r\n                    action.item1,\r\n                );\r\n                // If multiple paths returned, we need to test which one works better with the rest of the edit.\r\n                if (paths.length > 1) {\r\n                    let bestInputs = Number.MAX_VALUE;\r\n                    let bestPath = {};\r\n                    for (const path of paths) {\r\n                        const tempInputs = getFolderEditInputs(\r\n                            folderEdit,\r\n                            game,\r\n                            actionIndex + 1,\r\n                            path.cursor,\r\n                            path.cursorPosition,\r\n                            sortCursor,\r\n                            state,\r\n                        );\r\n                        if (bestInputs > getNumInputs(tempInputs)) {\r\n                            bestInputs = getNumInputs(tempInputs);\r\n                            bestPath = path;\r\n                            inputs = tempInputs;\r\n                        }\r\n                    }\r\n                    actionInputs = actionInputs + bestPath.path + 'A ';\r\n                } else {\r\n                    actionInputs = actionInputs + paths[0].path + 'A ';\r\n                    inputs = getFolderEditInputs(\r\n                        folderEdit,\r\n                        game,\r\n                        actionIndex + 1,\r\n                        paths[0].cursor,\r\n                        paths[0].cursorPosition,\r\n                        sortCursor,\r\n                        state,\r\n                    );\r\n                }\r\n            }\r\n\r\n            inputs[actionIndex] = actionInputs;\r\n        } else if (action.action === 'Reg' || action.action === 'Default') {\r\n            if (state === 'pack') {\r\n                actionInputs = actionInputs + '< ';\r\n                state = 'folder';\r\n            }\r\n\r\n            const paths = getPathsToSlot(\r\n                game,\r\n                cursor,\r\n                cursorPosition,\r\n                action.item1,\r\n            );\r\n            // If multiple paths returned, we need to test which one works better with the rest of the edit.\r\n            if (paths.length > 1) {\r\n                let bestInputs = Number.MAX_VALUE;\r\n                let bestPath = {};\r\n                for (const path of paths) {\r\n                    const tempInputs = getFolderEditInputs(\r\n                        folderEdit,\r\n                        game,\r\n                        actionIndex + 1,\r\n                        path.cursor,\r\n                        path.cursorPosition,\r\n                        sortCursor,\r\n                        state,\r\n                    );\r\n                    if (bestInputs > getNumInputs(tempInputs)) {\r\n                        bestInputs = getNumInputs(tempInputs);\r\n                        bestPath = path;\r\n                        inputs = tempInputs;\r\n                    }\r\n                }\r\n                // BN6 requires extra inputs after Select. SF3 is instead Y.\r\n                if (game === 'MMBN6') {\r\n                    actionInputs = actionInputs + bestPath.path + 'Select ';\r\n                } else if (game === 'MMSF3') {\r\n                    actionInputs = actionInputs + bestPath.path + 'Y ';\r\n                } else {\r\n                    actionInputs = actionInputs + bestPath.path + 'Select ';\r\n                }\r\n            } else {\r\n                // BN6 requires extra inputs after Select. SF3 is instead Y.\r\n                if (game === 'MMBN6') {\r\n                    actionInputs =\r\n                        actionInputs +\r\n                        paths[0].path +\r\n                        'Select A (advance text) A';\r\n                } else if (game === 'MMSF3') {\r\n                    actionInputs = actionInputs + paths[0].path + 'Y ';\r\n                } else {\r\n                    actionInputs = actionInputs + paths[0].path + 'Select ';\r\n                }\r\n                inputs = getFolderEditInputs(\r\n                    folderEdit,\r\n                    game,\r\n                    actionIndex + 1,\r\n                    paths[0].cursor,\r\n                    paths[0].cursorPosition,\r\n                    sortCursor,\r\n                    state,\r\n                );\r\n            }\r\n            inputs[actionIndex] = actionInputs;\r\n        } else if (action.action === 'Sort') {\r\n            if (state === 'pack') {\r\n                actionInputs = actionInputs + '< ';\r\n                state = 'folder';\r\n            }\r\n\r\n            actionInputs = actionInputs + 'Start ';\r\n\r\n            const sortTypes = [...gameInfo.sortTypes];\r\n            // We need to remove one of the Alphabet sorts from the list, since the game can only sort by one Alphabet.\r\n            if (action.item1 === 'Alphabet (JP)') {\r\n                sortTypes.splice(sortTypes.indexOf('Alphabet'), 1);\r\n            } else {\r\n                sortTypes.splice(sortTypes.indexOf('Alphabet (JP)'), 1);\r\n            }\r\n\r\n            // If the distance between the cursor and the desired sort is less than half the number of possible\r\n            // sorts, go directly to it. Otherwise, wrap around.\r\n            const numInputs = sortCursor - sortTypes.indexOf(action.item1);\r\n            if (Math.abs(numInputs) <= sortTypes.length / 2) {\r\n                // If positive difference, go up. Otherwise, go down.\r\n                if (Math.sign(numInputs) > 0) {\r\n                    for (let i = 0; i < Math.abs(numInputs); i++) {\r\n                        actionInputs = actionInputs + '^ ';\r\n                    }\r\n                } else if (Math.sign(numInputs) < 0) {\r\n                    for (let i = 0; i < Math.abs(numInputs); i++) {\r\n                        actionInputs = actionInputs + 'V ';\r\n                    }\r\n                }\r\n            } else {\r\n                const inverseInputs = sortTypes.length - Math.abs(numInputs);\r\n                // If positive difference, go down. Otherwise, go up. (Opposite of other situation).\r\n                if (Math.sign(numInputs) > 0) {\r\n                    for (let i = 0; i < Math.abs(inverseInputs); i++) {\r\n                        actionInputs = actionInputs + 'V ';\r\n                    }\r\n                } else if (Math.sign(numInputs) < 0) {\r\n                    for (let i = 0; i < Math.abs(inverseInputs); i++) {\r\n                        actionInputs = actionInputs + '^ ';\r\n                    }\r\n                }\r\n            }\r\n            actionInputs = actionInputs + 'A ';\r\n            // For reverse sorts, press A a 2nd time.\r\n            if (action.item2) {\r\n                actionInputs = actionInputs + 'A ';\r\n            }\r\n            actionInputs = actionInputs + 'B ';\r\n            inputs = getFolderEditInputs(\r\n                folderEdit,\r\n                game,\r\n                actionIndex + 1,\r\n                cursor,\r\n                cursorPosition,\r\n                sortTypes.indexOf(action.item1),\r\n                state,\r\n            );\r\n            inputs[actionIndex] = actionInputs;\r\n        } else if (action.action === 'Tag') {\r\n            if (state === 'pack') {\r\n                actionInputs = actionInputs + '< ';\r\n                state = 'folder';\r\n            }\r\n            actionInputs = actionInputs + 'Select V A (advance text) ';\r\n\r\n            const pathsToFirstItem = getPathsToSlot(\r\n                game,\r\n                cursor,\r\n                cursorPosition,\r\n                action.item1,\r\n            );\r\n            // If multiple paths returned, we need to test which one works better with the rest of the edit.\r\n            if (pathsToFirstItem.length > 1) {\r\n                let bestInputs = Number.MAX_VALUE;\r\n                let bestPath1 = {};\r\n                let bestPath2 = {};\r\n                console.log(pathsToFirstItem);\r\n                for (const path of pathsToFirstItem) {\r\n                    const pathsToSecondItem = getPathsToSlot(\r\n                        game,\r\n                        path.cursor,\r\n                        path.cursorPosition,\r\n                        action.item2,\r\n                    );\r\n                    if (pathsToSecondItem.length > 1) {\r\n                        for (const path2 of pathsToSecondItem) {\r\n                            const tempInputs = getFolderEditInputs(\r\n                                folderEdit,\r\n                                game,\r\n                                actionIndex + 1,\r\n                                path2.cursor,\r\n                                path2.cursorPosition,\r\n                                sortCursor,\r\n                                state,\r\n                            );\r\n                            tempInputs[actionIndex] =\r\n                                actionInputs +\r\n                                path.path +\r\n                                'A ' +\r\n                                path2.path +\r\n                                'A ';\r\n\r\n                            console.log(getNumInputs(tempInputs));\r\n                            if (bestInputs > getNumInputs(tempInputs)) {\r\n                                bestInputs = getNumInputs(tempInputs);\r\n                                bestPath1 = path;\r\n                                bestPath2 = path2;\r\n                                inputs = tempInputs;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        const tempInputs = getFolderEditInputs(\r\n                            folderEdit,\r\n                            game,\r\n                            actionIndex + 1,\r\n                            pathsToSecondItem[0].cursor,\r\n                            pathsToSecondItem[0].cursorPosition,\r\n                            sortCursor,\r\n                            state,\r\n                        );\r\n\r\n                        console.log(bestInputs);\r\n                        console.log(bestInputs > getNumInputs(tempInputs));\r\n                        if (bestInputs > getNumInputs(tempInputs)) {\r\n                            bestInputs = getNumInputs(tempInputs);\r\n                            bestPath1 = path;\r\n                            bestPath2 = pathsToSecondItem[0];\r\n                            inputs = tempInputs;\r\n                        }\r\n                    }\r\n                }\r\n                actionInputs =\r\n                    actionInputs +\r\n                    bestPath1.path +\r\n                    'A (advance text) ' +\r\n                    bestPath2.path +\r\n                    'A ';\r\n            } else {\r\n                actionInputs =\r\n                    actionInputs +\r\n                    pathsToFirstItem[0].path +\r\n                    'A (advance text) ';\r\n\r\n                const pathsToSecondItem = getPathsToSlot(\r\n                    game,\r\n                    pathsToFirstItem[0].cursor,\r\n                    pathsToFirstItem[0].cursorPosition,\r\n                    action.item2,\r\n                );\r\n                if (pathsToSecondItem.length > 1) {\r\n                    let bestInputs = Number.MAX_VALUE;\r\n                    let bestPath = {};\r\n                    for (const path of pathsToSecondItem) {\r\n                        const tempInputs = getFolderEditInputs(\r\n                            folderEdit,\r\n                            game,\r\n                            actionIndex + 1,\r\n                            path.cursor,\r\n                            path.cursorPosition,\r\n                            sortCursor,\r\n                            state,\r\n                        );\r\n\r\n                        if (bestInputs > getNumInputs(tempInputs)) {\r\n                            bestInputs = getNumInputs(tempInputs);\r\n                            bestPath = path;\r\n                            inputs = tempInputs;\r\n                        }\r\n                    }\r\n                    actionInputs = actionInputs + bestPath.path + 'A ';\r\n                } else {\r\n                    actionInputs =\r\n                        actionInputs + pathsToSecondItem[0].path + 'A ';\r\n\r\n                    inputs = getFolderEditInputs(\r\n                        folderEdit,\r\n                        game,\r\n                        actionIndex + 1,\r\n                        pathsToSecondItem[0].cursor,\r\n                        pathsToSecondItem[0].cursorPosition,\r\n                        sortCursor,\r\n                        state,\r\n                    );\r\n                }\r\n            }\r\n            inputs[actionIndex] = actionInputs;\r\n        } else if (action.action === 'Favorite') {\r\n            // Currently ignoring Favorite, as the inputs are different between SF1 and 2, and is not currently\r\n            // super important to optimizing folder edits.\r\n            // TODO: Implement Favorites\r\n        }\r\n        return inputs;\r\n    } else {\r\n        // Return an empty list of inputs if item1 is invalid.\r\n        return [];\r\n    }\r\n}\r\n","/** @format */\r\n\r\nimport { useContext } from 'react';\r\nimport styles from './styles/FolderEdit.Module.css';\r\nimport NotesContext from '../../../common/NotesContext';\r\nimport performFolderEditAction from '../../../common/functions/performFolderEditAction';\r\nimport getFolderEditInputs from '../../../common/functions/getFolderEditInputs';\r\n\r\nfunction Action(props) {\r\n    const {\r\n        notes: { game },\r\n    } = useContext(NotesContext);\r\n\r\n    const gameInfo = require('../../../../resources/' +\r\n        game +\r\n        '/ItemNames.json');\r\n\r\n    // Determine the text for the action based on the action type.\r\n    let text = '';\r\n    if (props.action.action === 'Add') {\r\n        text =\r\n            'Add ' +\r\n            gameInfo.Items[props.action.item1].name +\r\n            (gameInfo.modifiers ? ' ' + props.action.modifier1 : '');\r\n    } else if (props.action.action === 'Remove') {\r\n        console.log(props.folder);\r\n        text =\r\n            'Remove slot ' +\r\n            (parseInt(props.action.item1) + 1) +\r\n            ' (' +\r\n            gameInfo.Items[props.folder[props.action.item1].item].name +\r\n            (gameInfo.modifiers\r\n                ? ' ' + props.folder[props.action.item1].modifier\r\n                : '') +\r\n            ')';\r\n    } else if (props.action.action === 'Swap') {\r\n        text =\r\n            'Swap slot ' +\r\n            (parseInt(props.action.item1) + 1) +\r\n            ' (' +\r\n            gameInfo.Items[props.folder[props.action.item1].item].name +\r\n            (gameInfo.modifiers\r\n                ? ' ' + props.folder[props.action.item1].modifier\r\n                : '') +\r\n            ') with slot ' +\r\n            (parseInt(props.action.item2) + 1) +\r\n            ' (' +\r\n            gameInfo.Items[props.folder[props.action.item2].item].name +\r\n            (gameInfo.modifiers\r\n                ? ' ' + props.folder[props.action.item2].modifier\r\n                : '') +\r\n            ')';\r\n    } else if (props.action.action === 'Replace') {\r\n        text =\r\n            'Replace slot ' +\r\n            (parseInt(props.action.item1) + 1) +\r\n            ' (' +\r\n            gameInfo.Items[props.folder[props.action.item1].item].name +\r\n            (gameInfo.modifiers\r\n                ? ' ' + props.folder[props.action.item1].modifier\r\n                : '') +\r\n            ') with ' +\r\n            gameInfo.Items[props.action.item2].name +\r\n            (gameInfo.modifiers ? ' ' + props.action.modifier2 : '');\r\n    } else if (props.action.action === 'Reg') {\r\n        text =\r\n            'Reg slot ' +\r\n            (parseInt(props.action.item1) + 1) +\r\n            ' (' +\r\n            gameInfo.Items[props.folder[props.action.item1].item].name +\r\n            (gameInfo.modifiers\r\n                ? ' ' + props.folder[props.action.item1].modifier\r\n                : '') +\r\n            ')';\r\n    } else if (props.action.action === 'Default') {\r\n        text =\r\n            'Default slot ' +\r\n            (parseInt(props.action.item1) + 1) +\r\n            ' (' +\r\n            gameInfo.Items[props.folder[props.action.item1].item].name +\r\n            (gameInfo.modifiers\r\n                ? ' ' + props.folder[props.action.item1].modifier\r\n                : '') +\r\n            ')';\r\n    } else if (props.action.action === 'Sort') {\r\n        text =\r\n            'Sort by ' +\r\n            (props.action.item2 ? 'Reverse ' : '') +\r\n            props.action.item1;\r\n    } else if (props.action.action === 'Tag') {\r\n        text =\r\n            'Tag slot ' +\r\n            (parseInt(props.action.item1) + 1) +\r\n            ' (' +\r\n            gameInfo.Items[props.folder[props.action.item1].item].name +\r\n            (gameInfo.modifiers\r\n                ? ' ' + props.folder[props.action.item1].modifier\r\n                : '') +\r\n            ') with slot ' +\r\n            (parseInt(props.action.item2) + 1) +\r\n            ' (' +\r\n            gameInfo.Items[props.folder[props.action.item2].item].name +\r\n            (gameInfo.modifiers\r\n                ? ' ' + props.folder[props.action.item2].modifier\r\n                : '') +\r\n            ')';\r\n    }\r\n\r\n    return <div className={`${styles.action}`}>{text}</div>;\r\n}\r\n\r\nfunction FolderEdit(props) {\r\n    const {\r\n        notes: { game },\r\n        folderEditView,\r\n    } = useContext(NotesContext);\r\n\r\n    const gameInfo = require('../../../../resources/' +\r\n        game +\r\n        '/ItemNames.json');\r\n\r\n    if (props.folderEdit != null) {\r\n        if (folderEditView === 'Actions') {\r\n            // Create a list of Actions. Use the initial folder in order to list the appropriate information per action\r\n            const actionsList = [];\r\n            let tempFolder = JSON.parse(\r\n                JSON.stringify(props.folderEdit.prevFolder),\r\n            );\r\n\r\n            for (const action of props.folderEdit.value) {\r\n                actionsList.push(\r\n                    <Action\r\n                        key={action.id}\r\n                        action={action}\r\n                        folder={tempFolder}\r\n                    />,\r\n                );\r\n\r\n                tempFolder = performFolderEditAction(\r\n                    tempFolder,\r\n                    action,\r\n                    gameInfo,\r\n                );\r\n            }\r\n\r\n            return (\r\n                <div className={`${styles.folderEditContainer}`}>\r\n                    <div className={`${styles.label}`}>Folder Edit</div>\r\n                    {actionsList}\r\n                </div>\r\n            );\r\n        } else if (folderEditView === 'Differences') {\r\n            console.log(props.folderEdit.folder);\r\n            return (\r\n                <div className={`${styles.folderEditContainer}`}>\r\n                    <div className={`${styles.label}`}>Folder Edit</div>\r\n                    <div className={`${styles.wrapper}`}>\r\n                        <div className=\"col-5\">\r\n                            <div className={`${styles.label}`}>Previous</div>\r\n                            {props.folderEdit.prevFolder.map((slot) => (\r\n                                <div\r\n                                    className={`${\r\n                                        slot.regged ? styles.regged : ''\r\n                                    } ${slot.tagged ? styles.tagged : ''}`}>\r\n                                    {(parseInt(slot.slot) + 1)\r\n                                        .toString()\r\n                                        .padStart(2, '0')}\r\n                                    . {gameInfo.Items[slot.item].name}{' '}\r\n                                    {gameInfo.modifiers ? slot.modifier : ''}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        <div className=\"col-2\">-></div>\r\n                        <div className=\"col-5\">\r\n                            <div className={`${styles.label}`}>Next</div>\r\n                            {props.folderEdit.folder.map((slot) => (\r\n                                <div\r\n                                    className={`${\r\n                                        slot.regged ? styles.regged : ''\r\n                                    } ${slot.tagged ? styles.tagged : ''}`}>\r\n                                    {(parseInt(slot.slot) + 1)\r\n                                        .toString()\r\n                                        .padStart(2, '0')}\r\n                                    . {gameInfo.Items[slot.item].name}{' '}\r\n                                    {gameInfo.modifiers ? slot.modifier : ''}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else if (folderEditView === 'Inputs') {\r\n            return (\r\n                <div className={`${styles.folderEditContainer}`}>\r\n                    <div className={`${styles.label}`}>Folder Edit</div>\r\n                    {getFolderEditInputs(props.folderEdit.value, game).map(\r\n                        (action) => (\r\n                            <div className=\"col-12\">{action}</div>\r\n                        ),\r\n                    )}\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport default FolderEdit;\r\n","/** @format */\r\n\r\nimport { useContext, memo } from 'react';\r\nimport styles from './styles/NoteSection.Module.css';\r\nimport Text from './Text';\r\nimport ItemsList from './ItemsList';\r\nimport Image from './Image';\r\nimport State from './State';\r\nimport FolderEdit from './FolderEdit';\r\nimport Icon from '../../../common/Icon';\r\nimport NotesContext from '../../../common/NotesContext';\r\nimport areShallowEqual from 'are-shallow-equal';\r\n\r\nfunction shouldUpdate(oldProps, newProps) {\r\n    if (areShallowEqual(oldProps, newProps)) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nconst NoteSection = memo((props) => {\r\n    const {\r\n        notes: { game },\r\n        mode,\r\n        foundItems,\r\n        foundModifiers,\r\n    } = useContext(NotesContext);\r\n\r\n    if (mode === 'list') {\r\n        return (\r\n            <div\r\n                id={'section-' + props.section.id}\r\n                className={`${styles.section} card`}\r\n                ref={props.noteRef}>\r\n                <div className={`${styles.textContainer} col-m-12`}>\r\n                    {props.section.text.map((text) => (\r\n                        <Text\r\n                            key={'text-' + text.id}\r\n                            text={text}\r\n                            foundItems={foundItems}\r\n                            foundModifiers={foundModifiers}\r\n                        />\r\n                    ))}\r\n                </div>\r\n                <Image\r\n                    image={props.section.image}\r\n                    onClick={props.fullscreenImage}\r\n                />\r\n                <ItemsList\r\n                    items={props.section.items}\r\n                    updateTracker={props.updateTracker}\r\n                    game={game}\r\n                    foundItems={foundItems}\r\n                    foundModifiers={foundModifiers}\r\n                />\r\n                <State state={props.section.state} game={game} />\r\n                <FolderEdit folderEdit={props.section.folderEdit} />\r\n            </div>\r\n        );\r\n    } else if (mode === 'presenter') {\r\n        return (\r\n            <div\r\n                id={'section-' + props.section.id}\r\n                className={`${styles.section} card`}\r\n                ref={props.noteRef}>\r\n                <div className=\"col-12 col-m-12\">\r\n                    <Icon\r\n                        src=\"/icons/previous.png\"\r\n                        size=\"large\"\r\n                        altText=\"Previous\"\r\n                        hover={true}\r\n                        hidden={false}\r\n                        onClick={props.previousSection}\r\n                    />\r\n                    <Icon\r\n                        src=\"/icons/next.png\"\r\n                        size=\"large\"\r\n                        altText=\"Next\"\r\n                        hover={true}\r\n                        hidden={false}\r\n                        float={'right'}\r\n                        onClick={props.nextSection}\r\n                    />\r\n                </div>\r\n                <div className={`${styles.textContainer} col-m-12`}>\r\n                    {props.section.text.map((text) => (\r\n                        <Text\r\n                            key={'text-' + text.id}\r\n                            text={text}\r\n                            foundItems={foundItems}\r\n                            foundModifiers={foundModifiers}\r\n                        />\r\n                    ))}\r\n                </div>\r\n                <Image\r\n                    image={props.section.image}\r\n                    onClick={props.fullscreenImage}\r\n                />\r\n                <ItemsList\r\n                    items={props.section.items}\r\n                    updateTracker={props.updateTracker}\r\n                    game={game}\r\n                    foundItems={foundItems}\r\n                    foundModifiers={foundModifiers}\r\n                />\r\n                <State state={props.section.state} game={game} />\r\n                <FolderEdit folderEdit={props.section.folderEdit} />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return null;\r\n}, shouldUpdate);\r\n\r\nexport default NoteSection;\r\n","/** @format */\r\n\r\nimport {\r\n    useState,\r\n    useEffect,\r\n    useCallback,\r\n    useContext,\r\n    useMemo,\r\n    createRef,\r\n} from 'react';\r\nimport NoteSection from './NoteSection';\r\nimport NotesContext from '../../../common/NotesContext';\r\nimport styles from './styles/Notes.Module.css';\r\n\r\nfunction Notes(props) {\r\n    const { notes, showNotes, showTracker, mode } = useContext(NotesContext);\r\n\r\n    const [state, setState] = useState({\r\n        section: 0,\r\n        sectionTop: 5,\r\n        scrollPosition: 0,\r\n    });\r\n\r\n    const [numSections, setNumSections] = useState(\r\n        Math.min(10, notes.sections.length),\r\n    );\r\n\r\n    const notesRef = createRef();\r\n\r\n    const sectionRefs = useMemo(() => {\r\n        const refsArray = new Array(notes.sections.length);\r\n        notes.sections.map((section) => (refsArray[section.id] = createRef()));\r\n        return refsArray;\r\n    }, [notes]);\r\n\r\n    const renderNewSections = useCallback(\r\n        (entries, observer) => {\r\n            const [entry] = entries;\r\n\r\n            if (entry.isIntersecting && numSections !== notes.sections.length) {\r\n                setNumSections(\r\n                    Math.min(numSections + 10, notes.sections.length),\r\n                );\r\n            }\r\n        },\r\n        [numSections, notes, setNumSections],\r\n    );\r\n\r\n    const observer = useMemo(() => {\r\n        const options = {\r\n            root: null,\r\n            rootMargin: '0px',\r\n            threshold: 0.2,\r\n        };\r\n\r\n        return new IntersectionObserver(renderNewSections, options);\r\n    }, [renderNewSections]);\r\n\r\n    useEffect(() => {\r\n        if (mode === 'list' && showNotes) {\r\n            // TODO: Find a solution to scroll to the expected section when switching from presenter to list mode.\r\n            if (sectionRefs[state.section].current != null) {\r\n                sectionRefs[state.section].current.scrollIntoView({\r\n                    behavior: 'instant',\r\n                });\r\n            } else {\r\n                setState({ ...state, section: 0 });\r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [mode, showNotes]);\r\n\r\n    useEffect(() => {\r\n        observer.disconnect();\r\n        if (\r\n            numSections < notes.sections.length &&\r\n            mode === 'list' &&\r\n            showNotes\r\n        ) {\r\n            observer.observe(sectionRefs[numSections - 1].current);\r\n        }\r\n    }, [mode, showNotes, sectionRefs, numSections, observer, notes]);\r\n\r\n    const onScroll = (e) => {\r\n        let scrollPosition = e.target.scrollTop;\r\n        let newSectionTop = state.sectionTop;\r\n\r\n        let i = 0;\r\n        if (\r\n            scrollPosition > state.scrollPosition &&\r\n            state.section !== notes.sections.length\r\n        ) {\r\n            while (\r\n                scrollPosition >=\r\n                Math.floor(\r\n                    newSectionTop +\r\n                        sectionRefs[\r\n                            state.section + i\r\n                        ].current.getBoundingClientRect().height +\r\n                        10,\r\n                )\r\n            ) {\r\n                newSectionTop =\r\n                    newSectionTop +\r\n                    Math.floor(\r\n                        sectionRefs[\r\n                            state.section + i\r\n                        ].current.getBoundingClientRect().height + 10,\r\n                    );\r\n                i++;\r\n\r\n                if (state.section + i === notes.sections.length) {\r\n                    break;\r\n                }\r\n            }\r\n        } else if (\r\n            scrollPosition < state.scrollPosition &&\r\n            state.section !== 0\r\n        ) {\r\n            while (scrollPosition < newSectionTop) {\r\n                i--;\r\n                newSectionTop =\r\n                    newSectionTop -\r\n                    sectionRefs[\r\n                        state.section + i\r\n                    ].current.getBoundingClientRect().height -\r\n                    10;\r\n\r\n                if (state.section + i === 0) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        setState({\r\n            ...state,\r\n            section: state.section + i,\r\n            sectionTop: newSectionTop,\r\n            scrollPosition: scrollPosition,\r\n        });\r\n    };\r\n\r\n    const handleKeyPress = (e) => {\r\n        let keyPress = e.key;\r\n        if (\r\n            keyPress === 'ArrowLeft' ||\r\n            keyPress === 'ArrowRight' ||\r\n            keyPress === ' '\r\n        ) {\r\n            e.preventDefault();\r\n        }\r\n\r\n        if (keyPress === 'ArrowLeft' && state.section !== 0) {\r\n            if (mode === 'list') {\r\n                sectionRefs[state.section - 1].current.scrollIntoView({\r\n                    behavior: 'smooth',\r\n                });\r\n            } else if (mode === 'presenter') {\r\n                setState({\r\n                    ...state,\r\n                    section: state.section - 1,\r\n                });\r\n            }\r\n        } else if (\r\n            (keyPress === ' ' || keyPress === 'ArrowRight') &&\r\n            state.section !== notes.sections.length - 1\r\n        ) {\r\n            if (mode === 'list') {\r\n                sectionRefs[state.section + 1].current.scrollIntoView({\r\n                    behavior: 'smooth',\r\n                });\r\n            } else if (mode === 'presenter') {\r\n                setState({\r\n                    ...state,\r\n                    section: state.section + 1,\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    const previousSection = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (state.section !== 0) {\r\n            setState({\r\n                ...state,\r\n                section: state.section - 1,\r\n            });\r\n        }\r\n    };\r\n\r\n    const nextSection = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (state.section !== notes.sections.length - 1) {\r\n            setState({\r\n                ...state,\r\n                section: state.section + 1,\r\n            });\r\n        }\r\n    };\r\n\r\n    const fullSizeClass = !showTracker ? styles.fullSize : '';\r\n\r\n    if (showNotes) {\r\n        if (mode === 'list') {\r\n            return (\r\n                <div\r\n                    onScroll={onScroll}\r\n                    onKeyDown={handleKeyPress}\r\n                    className={`${styles.notes} ${fullSizeClass}`}\r\n                    ref={notesRef}\r\n                    tabIndex=\"0\">\r\n                    {notes.sections.slice(0, numSections).map((section) => (\r\n                        <NoteSection\r\n                            key={'section-' + section.id}\r\n                            noteRef={sectionRefs[section.id]}\r\n                            section={section}\r\n                            updateTracker={props.updateTracker}\r\n                            fullscreenImage={props.fullscreenImage}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            );\r\n        } else if (mode === 'presenter') {\r\n            const section = notes.sections[state.section];\r\n\r\n            return (\r\n                <div\r\n                    onKeyDown={handleKeyPress}\r\n                    className={`${styles.notes} ${fullSizeClass}`}\r\n                    ref={notesRef}\r\n                    tabIndex=\"0\">\r\n                    <NoteSection\r\n                        key={'section-' + section.id}\r\n                        noteRef={sectionRefs[section.id]}\r\n                        section={section}\r\n                        updateTracker={props.updateTracker}\r\n                        previousSection={previousSection}\r\n                        nextSection={nextSection}\r\n                        fullscreenImage={props.fullscreenImage}\r\n                    />\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport default Notes;\r\n","/** @format */\r\n\r\nimport { useContext } from 'react';\r\nimport NotesContext from '../../../common/NotesContext';\r\nimport styles from './styles/Modifiers.Module.css';\r\nimport themeMMBN from './styles/themes/MMBN/MMBN-Modifiers.Module.css';\r\n\r\nfunction Modifier(props) {\r\n    const foundClass = props.foundModifiers[props.id].includes(props.modifier)\r\n        ? styles.found\r\n        : '';\r\n    return (\r\n        <div\r\n            id={'modifier-' + props.id + '-' + props.modifier}\r\n            className={`${styles.modifier} ${styles[props.game]} ${foundClass}`}\r\n            onClick={() => props.updateFound(props.modifier)}>\r\n            {props.modifier}{' '}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Modifiers(props) {\r\n    const {\r\n        notes: { game },\r\n        foundModifiers,\r\n    } = useContext(NotesContext);\r\n\r\n    let theme = {};\r\n    if (game.includes('MMBN') || game.includes('OSS')) {\r\n        theme = themeMMBN;\r\n    }\r\n\r\n    const updateFound = (modifier) => {\r\n        props.updateTracker(props.id, modifier);\r\n    };\r\n\r\n    if (props.modifiers != null && props.modifiers.length > 0) {\r\n        return (\r\n            <div className={`${styles.modifiers} ${theme.modifiers}`}>\r\n                {props.modifiers.map((modifier) => (\r\n                    <Modifier\r\n                        key={'modifier-' + modifier}\r\n                        id={props.id}\r\n                        modifier={modifier}\r\n                        foundModifiers={foundModifiers}\r\n                        game={game}\r\n                        updateFound={updateFound}\r\n                    />\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n    return null;\r\n}\r\n\r\nexport default Modifiers;\r\n","/** @format */\r\n\r\nimport { useContext } from 'react';\r\nimport Modifiers from './Modifiers';\r\nimport NotesContext from '../../../common/NotesContext';\r\nimport styles from './styles/Item.Module.css';\r\nimport themeMMBN from './styles/themes/MMBN/MMBN-Item.Module.css';\r\nimport themeMMSF from './styles/themes/MMSF/MMSF-Item.Module.css';\r\n\r\nfunction Item(props) {\r\n    const {\r\n        notes: { game },\r\n    } = useContext(NotesContext);\r\n\r\n    let theme = {};\r\n    if (game.includes('MMBN') || game.includes('OSS')) {\r\n        theme = themeMMBN;\r\n    } else if (game.includes('MMSF')) {\r\n        theme = themeMMSF;\r\n    }\r\n\r\n    const updateFound = () => {\r\n        props.updateTracker(props.id, null);\r\n    };\r\n\r\n    if (props.id >= props.type.low && props.id <= props.type.high) {\r\n        const foundClass = props.found ? styles.found : '';\r\n\r\n        return (\r\n            <div>\r\n                <div\r\n                    id={props.id}\r\n                    className={`${styles.item} ${theme[props.type.id]} ${\r\n                        theme.item\r\n                    } ${foundClass}`}\r\n                    onClick={updateFound}>\r\n                    <div className={`${styles.title} ${theme.title}`}>\r\n                        {(props.id - props.low + 1).toString().padStart(3, '0')}{' '}\r\n                        {props.name}\r\n                    </div>\r\n                    <img\r\n                        className={`${styles.itemArt} ${theme.itemArt}`}\r\n                        src={'/items/' + game + '/' + props.id + '.png'}\r\n                        alt={props.name + ' art'}\r\n                    />\r\n                </div>\r\n                <Modifiers\r\n                    id={props.id}\r\n                    modifiers={props.modifiers}\r\n                    updateTracker={props.updateTracker}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport default Item;\r\n","/** @format */\r\n\r\nimport { useContext } from 'react';\r\nimport styles from './styles/Tracker.Module.css';\r\nimport Item from './Item';\r\nimport NotesContext from '../../../common/NotesContext';\r\n\r\nfunction Tracker(props) {\r\n    const {\r\n        notes: { game },\r\n        showNotes,\r\n        showTracker,\r\n        foundItems,\r\n    } = useContext(NotesContext);\r\n\r\n    const fullSizeClass = !showNotes ? styles.fullSize : '';\r\n\r\n    let Items = require('../../../../resources/' + game + '/ItemNames.json');\r\n\r\n    if (showTracker) {\r\n        return (\r\n            <div className={`${styles.tracker} ${fullSizeClass}`}>\r\n                {Items.types.map((type) => (\r\n                    <div\r\n                        key={'type-' + type.name}\r\n                        className={`card ${styles.section}`}>\r\n                        <div className={styles.header}>{type.name}</div>\r\n                        <div id=\"Items\" className={styles.list}>\r\n                            {Items.Items.map((item) => (\r\n                                <Item\r\n                                    key={'item-' + item.id}\r\n                                    id={item.id}\r\n                                    name={item.name}\r\n                                    type={type}\r\n                                    low={type.low}\r\n                                    modifiers={item.modifiers}\r\n                                    updateTracker={props.updateTracker}\r\n                                    found={foundItems.includes(item.id)}\r\n                                />\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport default Tracker;\r\n","/** @format */\r\n\r\nimport styles from './styles/LargeImage.Module.css';\r\n\r\nfunction LargeImage(props) {\r\n    const onClick = (e) => {\r\n        if (e.target.tagName !== 'IMG') {\r\n            props.fullscreenImage(null);\r\n        }\r\n    };\r\n\r\n    if (props.image != null) {\r\n        return (\r\n            <div className={styles.fullscreenPreview} onClick={onClick}>\r\n                <img className={styles.image} src={props.image} alt=\"\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport default LargeImage;\r\n","/** @format */\r\n\r\nimport { createContext } from 'react';\r\n\r\nconst RouteContext = createContext({});\r\n\r\nexport default RouteContext;\r\n","/** @format */\r\n\r\nimport { useState, useCallback, useContext, Suspense } from 'react';\r\nimport styles from './styles/Route.Module.css';\r\nimport Menu from './Menu';\r\nimport Notes from './notes/Notes';\r\nimport Tracker from './tracker/Tracker';\r\nimport LargeImage from './LargeImage';\r\nimport useMatchMedia from '../../common/functions/useMatchMedia';\r\nimport RouteContext from '../../common/RouteContext';\r\nimport NotesContext from '../../common/NotesContext';\r\nimport useSuspenseResource from '../../common/functions/useSuspense';\r\n\r\nfunction Route(props) {\r\n    let path = '';\r\n    if (props.match != null) {\r\n        path = props.match.params.routePath;\r\n    }\r\n\r\n    const notesResource = useSuspenseResource(async () => {\r\n        const response = await fetch(\r\n            `${process.env.PUBLIC_URL}/notes/${path}.json`,\r\n        );\r\n\r\n        return await response.json();\r\n    }, [path]);\r\n\r\n    return (\r\n        <Suspense fallback=\"Loading...\">\r\n            <RouteImpl {...props} notesResource={notesResource} />\r\n        </Suspense>\r\n    );\r\n}\r\n\r\nconst getInitialState = (notes, isMobile) => {\r\n    let initialTrackerDisplay = true;\r\n    let initialMode = 'list';\r\n    // If on mobile, swap to presenter mode by default and hide the tracker\r\n    if (isMobile) {\r\n        initialTrackerDisplay = false;\r\n        initialMode = 'presenter';\r\n    }\r\n\r\n    const Items = require('../../../resources/' +\r\n        notes.game +\r\n        '/ItemNames.json');\r\n\r\n    let initialFoundItems = JSON.parse(\r\n        localStorage.getItem('foundItems-' + notes.game),\r\n    );\r\n    let initialFoundModifiers = JSON.parse(\r\n        localStorage.getItem('foundModifiers-' + notes.game),\r\n    );\r\n\r\n    // Update foundItems and foundModifiers if nothing was in local storage\r\n    if (initialFoundItems == null || initialFoundItems.length === 0) {\r\n        initialFoundItems = JSON.parse(\r\n            JSON.stringify(\r\n                require('../../../resources/' +\r\n                    notes.game +\r\n                    '/DefaultFoundItems.json'),\r\n            ),\r\n        );\r\n    }\r\n\r\n    if (Items.modifiers && initialFoundModifiers == null) {\r\n        initialFoundModifiers = JSON.parse(\r\n            JSON.stringify(\r\n                require('../../../resources/' +\r\n                    notes.game +\r\n                    '/DefaultFoundModifiers.json'),\r\n            ),\r\n        );\r\n    }\r\n\r\n    return {\r\n        notes: notes,\r\n        showNotes: true,\r\n        showTracker: initialTrackerDisplay,\r\n        mode: initialMode,\r\n        foundItems: initialFoundItems,\r\n        foundModifiers: initialFoundModifiers,\r\n        folderEditView: 'Actions',\r\n    };\r\n};\r\n\r\nfunction RouteImpl(props) {\r\n    const routeContext = useContext(RouteContext);\r\n    let notes;\r\n    if (routeContext.route != null) {\r\n        notes = routeContext.route;\r\n    } else {\r\n        notes = props.notesResource.read();\r\n    }\r\n\r\n    const [state, setState] = useState(\r\n        getInitialState(notes, useMatchMedia('(max-width: 600px)')),\r\n    );\r\n\r\n    const setContext = useCallback(\r\n        (updates) => {\r\n            setState({ ...state, ...updates });\r\n        },\r\n        [state, setState],\r\n    );\r\n\r\n    const getContextValue = useCallback(\r\n        () => ({\r\n            ...state,\r\n            setContext,\r\n        }),\r\n        [state, setContext],\r\n    );\r\n\r\n    const updateTracker = useCallback(\r\n        (id, modifier) => {\r\n            let newFoundItems = [...state.foundItems];\r\n            let newFoundModifiers =\r\n                state.foundModifiers !== null\r\n                    ? [...state.foundModifiers]\r\n                    : null;\r\n            if (modifier == null) {\r\n                if (newFoundItems.includes(id)) {\r\n                    newFoundItems.splice(newFoundItems.indexOf(id), 1);\r\n                    if (newFoundModifiers != null) {\r\n                        newFoundModifiers[id] = [];\r\n                    }\r\n                } else {\r\n                    newFoundItems.push(id);\r\n                }\r\n            } else {\r\n                if (newFoundModifiers[id].includes(modifier)) {\r\n                    newFoundModifiers[id].splice(\r\n                        newFoundModifiers[id].indexOf(modifier),\r\n                        1,\r\n                    );\r\n                    if (newFoundModifiers[id].length === 0) {\r\n                        newFoundItems.splice(newFoundItems.indexOf(id), 1);\r\n                    }\r\n                } else {\r\n                    newFoundModifiers[id].push(modifier);\r\n                    if (!newFoundItems.includes(id)) {\r\n                        newFoundItems.push(id);\r\n                    }\r\n                }\r\n            }\r\n\r\n            setState({\r\n                ...state,\r\n                foundItems: newFoundItems,\r\n                foundModifiers: newFoundModifiers,\r\n            });\r\n\r\n            localStorage.setItem(\r\n                'foundItems-' + state.notes.game,\r\n                JSON.stringify(newFoundItems),\r\n            );\r\n            localStorage.setItem(\r\n                'foundModifiers-' + state.notes.game,\r\n                JSON.stringify(newFoundModifiers),\r\n            );\r\n        },\r\n        [state, setState],\r\n    );\r\n\r\n    const fullscreenImage = useCallback(\r\n        (image) => {\r\n            setState({ ...state, fullscreenImage: image });\r\n        },\r\n        [state, setState],\r\n    );\r\n\r\n    return (\r\n        <div className={`${styles.wrapper}`}>\r\n            <LargeImage\r\n                image={state.fullscreenImage}\r\n                fullscreenImage={fullscreenImage}\r\n            />\r\n            <NotesContext.Provider value={getContextValue()}>\r\n                <div className={`${styles.rightColumn}`}>\r\n                    <Menu\r\n                        preview={routeContext.preview}\r\n                        swapPreview={props.swapPreview}\r\n                    />\r\n                    <Tracker updateTracker={updateTracker} />\r\n                </div>\r\n                <Notes\r\n                    updateTracker={updateTracker}\r\n                    fullscreenImage={fullscreenImage}\r\n                />\r\n            </NotesContext.Provider>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Route;\r\n","/** @format */\r\n\r\nimport { createContext } from 'react';\r\n\r\nconst GameContext = createContext('');\r\n\r\nexport default GameContext;\r\n","/** @format */\r\n\r\nimport { useContext, memo } from 'react';\r\nimport GameContext from '../../../common/GameContext';\r\nimport styles from './styles/ItemDropdown.Module.css';\r\nimport Button from '../../../common/Button';\r\n\r\nfunction shouldUpdate(oldProps, newProps) {\r\n    if (oldProps.item !== newProps.item) {\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nconst ItemDropdown = memo((props) => {\r\n    const gameInfo = useContext(GameContext);\r\n\r\n    const onUpdateItem = (e) => {\r\n        let value = e.target.value;\r\n\r\n        if (value !== '') {\r\n            value = parseInt(value);\r\n        }\r\n\r\n        props.updateItem.current(value);\r\n    };\r\n\r\n    const addDropdown = (e) => {\r\n        e.preventDefault();\r\n\r\n        props.updateItem.current(0);\r\n    };\r\n\r\n    if (props.item != null) {\r\n        if (props.type === 'text') {\r\n            return (\r\n                <select\r\n                    className={`${styles.select}`}\r\n                    value={props.item}\r\n                    onChange={onUpdateItem}>\r\n                    <option value=\"\">Remove {gameInfo.name}</option>\r\n                    {gameInfo.Items.map((item) => (\r\n                        <option value={item.id} key={'text-item-' + item.id}>\r\n                            {item.name}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            );\r\n        } else if (props.type === 'section') {\r\n            return (\r\n                <select\r\n                    className={`${styles.select}`}\r\n                    value={props.item}\r\n                    onChange={onUpdateItem}>\r\n                    <option value=\"\">Select {gameInfo.name}</option>\r\n                    {gameInfo.Items.map((item) => (\r\n                        <option value={item.id} key={'section-item-' + item.id}>\r\n                            {item.name}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            );\r\n        }\r\n    } else {\r\n        if (props.type === 'text') {\r\n            return (\r\n                <span className={`${styles.buffer}`}>\r\n                    <Button\r\n                        text={'Add ' + gameInfo.name}\r\n                        size=\"medium\"\r\n                        onClick={addDropdown}\r\n                    />\r\n                </span>\r\n            );\r\n        }\r\n    }\r\n\r\n    return null;\r\n}, shouldUpdate);\r\n\r\nexport default ItemDropdown;\r\n","/** @format */\r\n\r\nimport { useContext } from 'react';\r\nimport GameContext from '../../../common/GameContext';\r\nimport styles from './styles/ModifierDropdown.Module.css';\r\n\r\nfunction ModifierDropdown(props) {\r\n    const gameInfo = useContext(GameContext);\r\n\r\n    const onModifierUpdate = (e) => {\r\n        let value = e.target.value;\r\n        props.updateModifier.current(value);\r\n    };\r\n\r\n    if (!gameInfo.modifiers) {\r\n        return null;\r\n    }\r\n\r\n    if (props.item != null) {\r\n        if (gameInfo.Items[props.item] == null) {\r\n            return (\r\n                <select\r\n                    className={`${styles.select}`}\r\n                    value={props.modifier}\r\n                    onChange={onModifierUpdate}>\r\n                    <option value=\"\"> </option>\r\n                </select>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <select\r\n                className={`${styles.select}`}\r\n                value={props.modifier}\r\n                onChange={onModifierUpdate}>\r\n                <option value=\"\"> </option>\r\n                {gameInfo.Items[props.item].modifiers.map((modifier) => (\r\n                    <option value={modifier} key={'text-modifier-' + modifier}>\r\n                        {modifier}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n        );\r\n    }\r\n\r\n    return <span className={`${styles.buffer}`} />;\r\n}\r\n\r\nexport default ModifierDropdown;\r\n","/** @format */\r\n\r\nimport { useState, useEffect, useRef, useContext, memo } from 'react';\r\nimport styles from './styles/SectionText.Module.css';\r\nimport ItemDropdown from './ItemDropdown';\r\nimport ModifierDropdown from './ModifierDropdown';\r\nimport Icon from '../../../common/Icon';\r\nimport GameContext from '../../../common/GameContext';\r\n\r\nfunction shouldUpdate(oldProps, newProps) {\r\n    if (oldProps.text.id !== newProps.text.id) {\r\n        return false;\r\n    } else if (oldProps.text.text !== newProps.text.text) {\r\n        return false;\r\n    } else if (oldProps.text.item !== newProps.text.item) {\r\n        return false;\r\n    } else if (oldProps.text.modifier !== newProps.text.modifier) {\r\n        return false;\r\n    } else if (oldProps.max !== newProps.max) {\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nconst SectionText = memo((props) => {\r\n    const game = useContext(GameContext);\r\n\r\n    const [cursor, setCursor] = useState(null);\r\n    const ref = useRef(null);\r\n\r\n    useEffect(() => {\r\n        const input = ref.current;\r\n        if (input) {\r\n            input.setSelectionRange(cursor, cursor);\r\n        }\r\n    }, [ref, cursor, props.text.text]);\r\n\r\n    const onTextUpdate = (e) => {\r\n        // Remember cursor position\r\n        setCursor(e.target.selectionStart);\r\n\r\n        const newText = JSON.parse(JSON.stringify(props.text));\r\n        newText.text = e.target.value;\r\n        props.updateText.current(newText, props.text.id);\r\n    };\r\n\r\n    const updateItem = (item) => {\r\n        const newText = JSON.parse(JSON.stringify(props.text));\r\n        if (item !== '') {\r\n            newText.item = item;\r\n        } else {\r\n            newText.item = null;\r\n        }\r\n        props.updateText.current(newText, props.text.id);\r\n    };\r\n    const updateItemRef = useRef();\r\n    updateItemRef.current = updateItem;\r\n\r\n    const updateModifier = (modifier) => {\r\n        const newText = JSON.parse(JSON.stringify(props.text));\r\n        newText.modifier = modifier;\r\n        props.updateText.current(newText, props.text.id);\r\n    };\r\n    const updateModifierRef = useRef();\r\n    updateModifierRef.current = updateModifier;\r\n\r\n    return (\r\n        <div className={`${styles.wrapper}`}>\r\n            <textarea\r\n                ref={ref}\r\n                className={`${styles.textarea}`}\r\n                value={props.text.text}\r\n                placeholder=\"Text\"\r\n                onChange={onTextUpdate}\r\n            />\r\n            <ItemDropdown\r\n                type=\"text\"\r\n                item={props.text.item}\r\n                game={game}\r\n                updateItem={updateItemRef}\r\n            />\r\n            <ModifierDropdown\r\n                type=\"text\"\r\n                item={props.text.item}\r\n                modifier={props.text.modifier}\r\n                updateModifier={updateModifierRef}\r\n            />\r\n            <Icon\r\n                src=\"/icons/up.png\"\r\n                id={'moveTextUp-' + props.text.id}\r\n                size=\"small\"\r\n                hover={true}\r\n                hidden={props.text.id === 0}\r\n                altText=\"Up\"\r\n                onClick={() => props.moveTextUp.current(props.text.id)}\r\n            />\r\n            <Icon\r\n                src=\"/icons/down.png\"\r\n                id={'moveTextDown-' + props.text.id}\r\n                size=\"small\"\r\n                hover={true}\r\n                hidden={props.text.id === props.max}\r\n                altText=\"Down\"\r\n                onClick={() => props.moveTextDown.current(props.text.id)}\r\n            />\r\n            <Icon\r\n                src=\"/icons/delete.png\"\r\n                id={'deleteText-' + props.text.id}\r\n                size=\"small\"\r\n                hover={true}\r\n                hidden={false}\r\n                grayscale={true}\r\n                altText=\"X\"\r\n                onClick={() => props.deleteText.current(props.text.id)}\r\n            />\r\n        </div>\r\n    );\r\n}, shouldUpdate);\r\n\r\nexport default SectionText;\r\n","/** @format */\r\n\r\nimport { useRef, memo } from 'react';\r\nimport styles from './styles/SectionItem.Module.css';\r\nimport ItemDropdown from './ItemDropdown';\r\nimport ModifierDropdown from './ModifierDropdown';\r\nimport Icon from '../../../common/Icon';\r\n\r\nfunction shouldUpdate(oldProps, newProps) {\r\n    if (oldProps.item.id !== newProps.item.id) {\r\n        return false;\r\n    } else if (oldProps.item.value !== newProps.item.value) {\r\n        return false;\r\n    } else if (oldProps.item.modifier !== newProps.item.modifier) {\r\n        return false;\r\n    } else if (oldProps.max !== newProps.max) {\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nconst SectionItem = memo((props) => {\r\n    const updateItem = (item) => {\r\n        const newItem = JSON.parse(JSON.stringify(props.item));\r\n        newItem.value = item;\r\n        props.updateItem.current(newItem, props.item.id);\r\n    };\r\n    const updateItemRef = useRef();\r\n    updateItemRef.current = updateItem;\r\n\r\n    const updateModifier = (modifier) => {\r\n        const newItem = JSON.parse(JSON.stringify(props.item));\r\n        newItem.modifier = modifier;\r\n        props.updateItem.current(newItem, props.item.id);\r\n    };\r\n    const updateModifierRef = useRef();\r\n    updateModifierRef.current = updateModifier;\r\n\r\n    return (\r\n        <div className={`${styles.wrapper}`}>\r\n            <ItemDropdown\r\n                type=\"section\"\r\n                item={props.item.value}\r\n                updateItem={updateItemRef}\r\n            />\r\n            <ModifierDropdown\r\n                type=\"section\"\r\n                item={props.item.value}\r\n                modifier={props.item.modifier}\r\n                updateModifier={updateModifierRef}\r\n            />\r\n            <Icon\r\n                src=\"/icons/up.png\"\r\n                size=\"small\"\r\n                hover={true}\r\n                hidden={props.item.id === 0}\r\n                altText=\"Up\"\r\n                onClick={() => props.moveItemUp.current(props.item.id)}\r\n            />\r\n            <Icon\r\n                src=\"/icons/down.png\"\r\n                size=\"small\"\r\n                hover={true}\r\n                hidden={props.item.id === props.max}\r\n                altText=\"Down\"\r\n                onClick={() => props.moveItemDown.current(props.item.id)}\r\n            />\r\n            <Icon\r\n                src=\"/icons/delete.png\"\r\n                size=\"small\"\r\n                hover={true}\r\n                hidden={false}\r\n                grayscale={true}\r\n                altText=\"X\"\r\n                onClick={() => props.deleteItem.current(props.item.id)}\r\n            />\r\n        </div>\r\n    );\r\n}, shouldUpdate);\r\n\r\nexport default SectionItem;\r\n","/** @format */\r\n\r\nimport React from 'react';\r\nimport styles from './styles/PreviewImage.Module.css';\r\n\r\nclass PreviewImage extends React.Component {\r\n    render() {\r\n        if (this.props.image == null || this.props.image === '') {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <img className={`${styles.img}`} src={this.props.image} alt=\"\" />\r\n        );\r\n    }\r\n}\r\n\r\nexport default PreviewImage;\r\n","/** @format */\r\n\r\nimport React from 'react';\r\nimport PreviewImage from './PreviewImage';\r\nimport Icon from '../../../common/Icon';\r\nimport styles from './styles/SectionImage.Module.css';\r\n\r\nfunction shouldUpdate(oldProps, newProps) {\r\n    if (oldProps.image !== newProps.image) {\r\n        return false;\r\n    } else if (oldProps.updateImage !== newProps.updateImage) {\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nconst SectionImage = React.memo((props) => {\r\n    const getBase64 = (file, callback) => {\r\n        let reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = function () {\r\n            callback(reader.result);\r\n        };\r\n        reader.onerror = function (error) {\r\n            console.log('Error: ', error);\r\n        };\r\n    };\r\n\r\n    let deleteIcon;\r\n    if (props.image != null) {\r\n        deleteIcon = (\r\n            <Icon\r\n                src=\"/icons/delete.png\"\r\n                size=\"small\"\r\n                hover={true}\r\n                grayscale={true}\r\n                altText=\"X\"\r\n                onClick={props.deleteImage}\r\n            />\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className={`${styles.wrapper}`}>\r\n            <div className={`${styles.input}`}>\r\n                <input\r\n                    type=\"file\"\r\n                    onChange={(e) => {\r\n                        getBase64(e.target.files[0], props.updateImage);\r\n                    }}\r\n                />\r\n                {deleteIcon}\r\n            </div>\r\n            <PreviewImage image={props.image} />\r\n        </div>\r\n    );\r\n}, shouldUpdate);\r\n\r\nexport default SectionImage;\r\n","/** @format */\r\n\r\nimport { memo } from 'react';\r\nimport Button from '../../../common/Button';\r\nimport styles from './styles/SectionState.Module.css';\r\nimport areShallowEqual from 'are-shallow-equal';\r\n\r\nfunction shouldUpdate(oldProps, newProps) {\r\n    if (areShallowEqual(oldProps, newProps)) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nconst SectionState = memo((props) => {\r\n    const onStateValueChange = (key, value) => {\r\n        // JSON stringify, then JSON parse to make a deep copy.\r\n        let newState = JSON.parse(JSON.stringify(props.state));\r\n        newState[key].value = value;\r\n        props.updateState(newState);\r\n    };\r\n\r\n    const onStateShownChange = (key, value) => {\r\n        // JSON stringify, then JSON parse to make a deep copy.\r\n        let newState = JSON.parse(JSON.stringify(props.state));\r\n        newState[key].shown = value;\r\n        props.updateState(newState);\r\n    };\r\n\r\n    if (props.state != null) {\r\n        return (\r\n            <div>\r\n                <div className={`${styles.wrapper}`}>\r\n                    {props.state.keys.map((key) => (\r\n                        <div className={`${styles.stateField}`} key={key}>\r\n                            <label\r\n                                className={`${styles.label}`}\r\n                                htmlFor={\r\n                                    'state-' + key + '-' + props.sectionId\r\n                                }>\r\n                                {key}\r\n                            </label>\r\n                            <div className={`${styles.inputs}`}>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    className={styles.textInput}\r\n                                    defaultValue={props.state[key].value}\r\n                                    onChange={(e) => {\r\n                                        onStateValueChange(key, e.target.value);\r\n                                    }}\r\n                                />\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    className={styles.checkbox}\r\n                                    checked={props.state[key].shown}\r\n                                    onChange={(e) => {\r\n                                        onStateShownChange(\r\n                                            key,\r\n                                            e.target.checked,\r\n                                        );\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n                <div className=\"col-2\">\r\n                    <Button\r\n                        text=\"Delete State\"\r\n                        size=\"medium\"\r\n                        onClick={props.deleteState}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    return <Button text=\"Add State\" size=\"medium\" onClick={props.addState} />;\r\n}, shouldUpdate);\r\n\r\nexport default SectionState;\r\n","/** @format */\r\n\r\nimport performFolderEditAction from './performFolderEditAction';\r\n\r\nexport default function getNewFolder(folderEdit, folder, gameInfo) {\r\n    let newFolder = JSON.parse(JSON.stringify(folder));\r\n    for (const action of folderEdit.value) {\r\n        newFolder = performFolderEditAction(newFolder, action, gameInfo);\r\n    }\r\n\r\n    return newFolder;\r\n}\r\n","/** @format */\r\n\r\nimport { useContext, memo } from 'react';\r\nimport Icon from '../../../common/Icon';\r\nimport Button from '../../../common/Button';\r\nimport GameContext from '../../../common/GameContext';\r\nimport performFolderEditAction from '../../../common/functions/performFolderEditAction';\r\nimport getNewFolder from '../../../common/functions/getNewFolder';\r\nimport styles from './styles/SectionFolderEdit.Module.css';\r\nimport areShallowEqual from 'are-shallow-equal';\r\n\r\nfunction shouldUpdate(oldProps, newProps) {\r\n    if (areShallowEqual(oldProps, newProps)) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction ItemOption(props) {\r\n    const gameInfo = useContext(GameContext);\r\n\r\n    if (props.item !== -1) {\r\n        return (\r\n            <option value={props.slot} key={props.slot}>\r\n                {parseInt(props.slot) + 1}. {gameInfo.Items[props.item].name}{' '}\r\n                {props.modifier}\r\n            </option>\r\n        );\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nfunction ItemDropdown(props) {\r\n    const gameInfo = useContext(GameContext);\r\n\r\n    // For Reg/Default and Remove, return a list of items in the folder\r\n    // For Add, return a list of all possible items\r\n    // For Swap and Tag, return 2 lists of items in the folder\r\n    // For Replace, return a list of items in the folder, and a list of all possible items.\r\n    // For Sort, return a list of the sort types for the game, and a checkbox to reverse the sort.\r\n    if (\r\n        (props.action.action === 'Reg' && props.id === 1) ||\r\n        (props.action.action === 'Default' && props.id === 1) ||\r\n        (props.action.action === 'Remove' && props.id === 1) ||\r\n        props.action.action === 'Swap' ||\r\n        (props.action.action === 'Replace' && props.id === 1) ||\r\n        props.action.action === 'Tag'\r\n    ) {\r\n        return (\r\n            <select\r\n                value={props.action['item' + props.id]}\r\n                className={`${styles.select} ${styles.itemDropdown}`}\r\n                onChange={(e) => {\r\n                    props.onUpdate(props.action.id, e.target.value);\r\n                }}>\r\n                <option value={-1}> </option>\r\n                {props.folder.map((item) => (\r\n                    <ItemOption\r\n                        key={item.slot}\r\n                        slot={item.slot}\r\n                        item={item.item}\r\n                        modifier={item.modifier}\r\n                        game={props.game}\r\n                    />\r\n                ))}\r\n            </select>\r\n        );\r\n    } else if (\r\n        (props.action.action === 'Add' && props.id === 1) ||\r\n        (props.action.action === 'Replace' && props.id === 2)\r\n    ) {\r\n        // Generate a list of all items with modifiers\r\n        const itemList = [];\r\n        for (let item of gameInfo.Items) {\r\n            if (gameInfo.modifiers) {\r\n                for (let modifier of item.modifiers) {\r\n                    itemList.push({\r\n                        id: item.id,\r\n                        name: item.name,\r\n                        modifier: modifier,\r\n                    });\r\n                }\r\n            } else {\r\n                itemList.push({\r\n                    id: item.id,\r\n                    name: item.name,\r\n                });\r\n            }\r\n        }\r\n        return (\r\n            <select\r\n                value={\r\n                    props.action['item' + props.id] +\r\n                    (gameInfo.modifiers\r\n                        ? '-' + props.action['modifier' + props.id]\r\n                        : '')\r\n                }\r\n                className={`${styles.select} ${styles.itemDropdown}`}\r\n                onChange={(e) => {\r\n                    props.onUpdate(props.action.id, e.target.value);\r\n                }}>\r\n                <option value={-1}> </option>\r\n                {itemList.map((item) => (\r\n                    <option\r\n                        value={\r\n                            item.id +\r\n                            (gameInfo.modifiers ? '-' + item.modifier : '')\r\n                        }\r\n                        key={\r\n                            item.id + (gameInfo.modifiers ? item.modifier : '')\r\n                        }>\r\n                        {item.name} {item.modifier}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n        );\r\n    } else if (props.action.action === 'Sort' && props.id === 1) {\r\n        return (\r\n            <select\r\n                value={props.action.item1 + (props.action.item2 ? '-r' : '')}\r\n                className={`${styles.select} ${styles.itemDropdown}`}\r\n                onChange={(e) => {\r\n                    props.onUpdate(props.action.id, e.target.value);\r\n                }}>\r\n                <option value={''}> </option>\r\n                {gameInfo.sortTypes.map((sortType) => (\r\n                    <option value={sortType} key={sortType}>\r\n                        {sortType}\r\n                    </option>\r\n                ))}\r\n                {gameInfo.sortTypes.map((sortType) => (\r\n                    <option value={sortType + '-r'} key={sortType + '-r'}>\r\n                        R. {sortType}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n        );\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction Action(props) {\r\n    const gameInfo = useContext(GameContext);\r\n\r\n    // For formatting purposes, add an extra spacer div between the 2 dropdowns for actions that require both.\r\n    let spacer;\r\n    if (\r\n        props.action.action === 'Replace' ||\r\n        props.action.action === 'Swap' ||\r\n        props.action.action === 'Tag'\r\n    ) {\r\n        spacer = <div className={`${styles.spacer}`} />;\r\n    }\r\n\r\n    return (\r\n        <div className={`${styles.wrapper}`}>\r\n            <select\r\n                value={props.action.action}\r\n                className={`${styles.select}`}\r\n                onChange={(e) => {\r\n                    props.updateAction(props.action.id, e.target.value);\r\n                }}>\r\n                <option value=\"\"> </option>\r\n                {gameInfo.actionTypes.map((action) => (\r\n                    <option key={action} value={action}>\r\n                        {action}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n            <ItemDropdown\r\n                action={props.action}\r\n                id={1}\r\n                folder={props.folder}\r\n                onUpdate={props.updateItem1}\r\n            />\r\n            <Icon\r\n                src=\"/icons/delete.png\"\r\n                id={'deleteAction-' + props.action.id}\r\n                size=\"small\"\r\n                altText=\"X\"\r\n                hover={true}\r\n                grayscale={true}\r\n                onClick={() => {\r\n                    props.deleteAction(props.action.id);\r\n                }}\r\n            />\r\n            {spacer}\r\n            <ItemDropdown\r\n                action={props.action}\r\n                id={2}\r\n                folder={props.folder}\r\n                onUpdate={props.updateItem2}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ActionsList(props) {\r\n    const gameInfo = useContext(GameContext);\r\n    // JSON stringify, then JSON parse to make a deep copy.\r\n    let tempFolder = JSON.parse(JSON.stringify(props.folderEdit.prevFolder));\r\n    const actionsList = [];\r\n\r\n    for (const action of props.folderEdit.value) {\r\n        actionsList.push(\r\n            <Action\r\n                key={action.id}\r\n                action={action}\r\n                folder={tempFolder}\r\n                updateAction={props.updateAction}\r\n                updateItem1={props.updateItem1}\r\n                updateItem2={props.updateItem2}\r\n                deleteAction={props.deleteAction}\r\n            />,\r\n        );\r\n\r\n        tempFolder = performFolderEditAction(tempFolder, action, gameInfo);\r\n    }\r\n\r\n    return <div className={styles.wrapper}>{actionsList}</div>;\r\n}\r\n\r\nconst SectionFolderEdit = memo((props) => {\r\n    const gameInfo = useContext(GameContext);\r\n\r\n    const addAction = () => {\r\n        // JSON stringify, then JSON parse to make a deep copy.\r\n        let newFolderEdit = JSON.parse(JSON.stringify(props.folderEdit));\r\n\r\n        newFolderEdit.value.push({\r\n            id: newFolderEdit.value.length,\r\n            action: '',\r\n            item1: -1,\r\n            modifier1: '',\r\n            item2: -1,\r\n            modifier2: '',\r\n        });\r\n        newFolderEdit.shown = true;\r\n\r\n        props.updateFolderEdit(newFolderEdit);\r\n    };\r\n\r\n    const updateAction = (id, action) => {\r\n        const newFolderEdit = JSON.parse(JSON.stringify(props.folderEdit));\r\n\r\n        newFolderEdit.value[id].action = action;\r\n        // Reset items when a new action is selected.\r\n        newFolderEdit.value[id].item1 = -1;\r\n        newFolderEdit.value[id].modifier1 = null;\r\n        // For sorts, update item2 to be false to indicate it won't be a reverse sort\r\n        if (action === 'Sort') {\r\n            newFolderEdit.value[id].item2 = false;\r\n        } else {\r\n            newFolderEdit.value[id].item2 = -1;\r\n            newFolderEdit.value[id].modifier2 = null;\r\n        }\r\n\r\n        newFolderEdit.folder = getNewFolder(\r\n            newFolderEdit,\r\n            props.folderEdit.prevFolder,\r\n            gameInfo,\r\n        );\r\n\r\n        props.updateFolderEdit(newFolderEdit);\r\n    };\r\n\r\n    const updateItem1 = (id, item) => {\r\n        const newFolderEdit = JSON.parse(JSON.stringify(props.folderEdit));\r\n        // For the Add action, the value will be a combination of the item's ID and modifier\r\n        if (newFolderEdit.value[id].action === 'Add') {\r\n            if (gameInfo.modifiers) {\r\n                const itemParts = item.split('-');\r\n                newFolderEdit.value[id].item1 = itemParts[0];\r\n                newFolderEdit.value[id].modifier1 = itemParts[1];\r\n            } else {\r\n                newFolderEdit.value[id].item1 = item;\r\n            }\r\n        } else if (newFolderEdit.value[id].action === 'Sort') {\r\n            if (item.includes('-')) {\r\n                const itemParts = item.split('-');\r\n                newFolderEdit.value[id].item1 = itemParts[0];\r\n                newFolderEdit.value[id].item2 = true;\r\n            } else {\r\n                newFolderEdit.value[id].item1 = item;\r\n                newFolderEdit.value[id].item2 = false;\r\n            }\r\n        } else {\r\n            newFolderEdit.value[id].item1 = item;\r\n        }\r\n\r\n        newFolderEdit.folder = getNewFolder(\r\n            newFolderEdit,\r\n            props.folderEdit.prevFolder,\r\n            gameInfo,\r\n        );\r\n\r\n        props.updateFolderEdit(newFolderEdit);\r\n    };\r\n\r\n    const updateItem2 = (id, item) => {\r\n        const newFolderEdit = JSON.parse(JSON.stringify(props.folderEdit));\r\n        // For the Replace action, the value will be a combination of the item's ID and modifier\r\n        if (newFolderEdit.value[id].action === 'Replace') {\r\n            if (gameInfo.modifiers) {\r\n                const itemParts = item.split('-');\r\n                newFolderEdit.value[id].item2 = itemParts[0];\r\n                newFolderEdit.value[id].modifier2 = itemParts[1];\r\n            } else {\r\n                newFolderEdit.value[id].item2 = item;\r\n            }\r\n        } else {\r\n            newFolderEdit.value[id].item2 = item;\r\n        }\r\n\r\n        newFolderEdit.folder = getNewFolder(\r\n            newFolderEdit,\r\n            props.folderEdit.prevFolder,\r\n            gameInfo,\r\n        );\r\n\r\n        props.updateFolderEdit(newFolderEdit);\r\n    };\r\n\r\n    const deleteAction = (id) => {\r\n        const newFolderEdit = JSON.parse(JSON.stringify(props.folderEdit));\r\n        newFolderEdit.value.splice(id, 1);\r\n\r\n        newFolderEdit.folder = getNewFolder(\r\n            newFolderEdit,\r\n            props.folderEdit.prevFolder,\r\n            gameInfo,\r\n        );\r\n\r\n        props.updateFolderEdit(newFolderEdit);\r\n    };\r\n\r\n    if (props.folderEdit != null) {\r\n        return (\r\n            <div className={styles.wrapper}>\r\n                <ActionsList\r\n                    folderEdit={props.folderEdit}\r\n                    updateAction={updateAction}\r\n                    updateItem1={updateItem1}\r\n                    updateItem2={updateItem2}\r\n                    deleteAction={deleteAction}\r\n                />\r\n                <Button text=\"Add Action\" size=\"medium\" onClick={addAction} />\r\n                <Button\r\n                    text=\"Delete Folder Edit\"\r\n                    size=\"medium\"\r\n                    onClick={props.deleteFolderEdit}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    return (\r\n        <Button\r\n            text=\"Add Folder Edit\"\r\n            size=\"medium\"\r\n            onClick={props.addFolderEdit}\r\n        />\r\n    );\r\n}, shouldUpdate);\r\n\r\nexport default SectionFolderEdit;\r\n","/** @format */\r\n\r\nimport { useCallback, useRef, useContext, memo } from 'react';\r\nimport styles from './styles/Section.Module.css';\r\nimport GameContext from '../../../common/GameContext';\r\nimport Button from '../../../common/Button';\r\nimport Icon from '../../../common/Icon';\r\nimport SectionText from './SectionText';\r\nimport SectionItem from './SectionItem';\r\nimport SectionImage from './SectionImage';\r\nimport SectionState from './SectionState';\r\nimport SectionFolderEdit from './SectionFolderEdit';\r\nimport areShallowEqual from 'are-shallow-equal';\r\n\r\nfunction shouldUpdate(oldProps, newProps) {\r\n    if (areShallowEqual(oldProps.section, newProps.section)) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nconst Section = memo((props) => {\r\n    const gameInfo = useContext(GameContext);\r\n\r\n    const updateText = useCallback(\r\n        (text, id) => {\r\n            // Stringify then parse JSON to create deep copy.\r\n            let newSection = JSON.parse(JSON.stringify(props.section));\r\n            newSection.text[id] = text;\r\n            props.setSection.current(newSection, props.section.id);\r\n        },\r\n        [props],\r\n    );\r\n    const updateTextRef = useRef();\r\n    updateTextRef.current = updateText;\r\n\r\n    const addText = useCallback(\r\n        (e) => {\r\n            // Stringify then parse JSON to create deep copy.\r\n            e.preventDefault();\r\n\r\n            let newSection = JSON.parse(JSON.stringify(props.section));\r\n            newSection.text.push({\r\n                id: newSection.text.length,\r\n                text: '',\r\n            });\r\n            props.setSection.current(newSection, props.section.id);\r\n        },\r\n        [props],\r\n    );\r\n\r\n    const moveTextUp = useCallback(\r\n        (id) => {\r\n            // Stringify then parse JSON to create deep copy.\r\n            let newSection = JSON.parse(JSON.stringify(props.section));\r\n\r\n            let chosenText = newSection.text[id];\r\n            chosenText.id = id - 1;\r\n            let aboveText = newSection.text[id - 1];\r\n            aboveText.id = id;\r\n\r\n            newSection.text[id] = aboveText;\r\n            newSection.text[id - 1] = chosenText;\r\n\r\n            props.setSection.current(newSection, props.section.id);\r\n        },\r\n        [props],\r\n    );\r\n    const moveTextUpRef = useRef();\r\n    moveTextUpRef.current = moveTextUp;\r\n\r\n    const moveTextDown = useCallback(\r\n        (id) => {\r\n            // Stringify then parse JSON to create deep copy.\r\n            let newSection = JSON.parse(JSON.stringify(props.section));\r\n\r\n            let chosenText = newSection.text[id];\r\n            chosenText.id = id + 1;\r\n            let belowText = newSection.text[id + 1];\r\n            belowText.id = id;\r\n\r\n            newSection.text[id] = belowText;\r\n            newSection.text[id + 1] = chosenText;\r\n\r\n            props.setSection.current(newSection, props.section.id);\r\n        },\r\n        [props],\r\n    );\r\n    const moveTextDownRef = useRef();\r\n    moveTextDownRef.current = moveTextDown;\r\n\r\n    const deleteText = useCallback(\r\n        (id) => {\r\n            // Stringify then parse JSON to create deep copy.\r\n            let newSection = JSON.parse(JSON.stringify(props.section));\r\n\r\n            for (let i = id + 1; i < newSection.text.length; i++) {\r\n                newSection.text[i].id--;\r\n            }\r\n\r\n            newSection.text.splice(id, 1);\r\n\r\n            props.setSection.current(newSection, props.section.id);\r\n        },\r\n        [props],\r\n    );\r\n    const deleteTextRef = useRef();\r\n    deleteTextRef.current = deleteText;\r\n\r\n    const updateItem = useCallback(\r\n        (item, id) => {\r\n            // Stringify then parse JSON to create deep copy.\r\n            const newSection = JSON.parse(JSON.stringify(props.section));\r\n            newSection.items[id] = item;\r\n            props.setSection.current(newSection, props.section.id);\r\n        },\r\n        [props],\r\n    );\r\n    const updateItemRef = useRef();\r\n    updateItemRef.current = updateItem;\r\n\r\n    const addItem = useCallback(() => {\r\n        // Stringify then parse JSON to create deep copy.\r\n        let newSection = JSON.parse(JSON.stringify(props.section));\r\n        newSection.items.push({\r\n            id: newSection.items.length,\r\n            value: 0,\r\n        });\r\n        props.setSection.current(newSection, props.section.id);\r\n    }, [props]);\r\n\r\n    const moveItemUp = useCallback(\r\n        (id) => {\r\n            // Stringify then parse JSON to create deep copy.\r\n            let newSection = JSON.parse(JSON.stringify(props.section));\r\n\r\n            let chosenItem = newSection.items[id];\r\n            chosenItem.id = id - 1;\r\n            let aboveItem = newSection.items[id - 1];\r\n            aboveItem.id = id;\r\n\r\n            newSection.items[id] = aboveItem;\r\n            newSection.items[id - 1] = chosenItem;\r\n\r\n            props.setSection.current(newSection, props.section.id);\r\n        },\r\n        [props],\r\n    );\r\n    const moveItemUpRef = useRef();\r\n    moveItemUpRef.current = moveItemUp;\r\n\r\n    const moveItemDown = useCallback(\r\n        (id) => {\r\n            // Stringify then parse JSON to create deep copy.\r\n            let newSection = JSON.parse(JSON.stringify(props.section));\r\n\r\n            let chosenItem = newSection.items[id];\r\n            chosenItem.id = id + 1;\r\n            let belowItem = newSection.items[id + 1];\r\n            belowItem.id = id;\r\n\r\n            newSection.items[id] = belowItem;\r\n            newSection.items[id + 1] = chosenItem;\r\n\r\n            props.setSection.current(newSection, props.section.id);\r\n        },\r\n        [props],\r\n    );\r\n    const moveItemDownRef = useRef();\r\n    moveItemDownRef.current = moveItemDown;\r\n\r\n    const deleteItem = useCallback(\r\n        (id) => {\r\n            // Stringify then parse JSON to create deep copy.\r\n            let newSection = JSON.parse(JSON.stringify(props.section));\r\n\r\n            for (let i = id + 1; i < newSection.items.length; i++) {\r\n                newSection.items[i].id--;\r\n            }\r\n\r\n            newSection.items.splice(id, 1);\r\n\r\n            props.setSection.current(newSection, props.section.id);\r\n        },\r\n        [props],\r\n    );\r\n    const deleteItemRef = useRef();\r\n    deleteItemRef.current = deleteItem;\r\n\r\n    const updateImage = useCallback(\r\n        (image) => {\r\n            // Stringify then parse JSON to create deep copy.\r\n            let newSection = JSON.parse(JSON.stringify(props.section));\r\n            newSection.image = image;\r\n            props.setSection.current(newSection, props.section.id);\r\n        },\r\n        [props],\r\n    );\r\n\r\n    const deleteImage = useCallback(() => {\r\n        // Stringify then parse JSON to create deep copy.\r\n        let newSection = JSON.parse(JSON.stringify(props.section));\r\n        newSection.image = null;\r\n        props.setSection.current(newSection, props.section.id);\r\n    }, [props]);\r\n\r\n    const updateState = useCallback(\r\n        (state) => {\r\n            // Stringify then parse JSON to create deep copy.\r\n            let newSection = JSON.parse(JSON.stringify(props.section));\r\n            newSection.state = state;\r\n            props.setSection.current(newSection, props.section.id);\r\n        },\r\n        [props],\r\n    );\r\n\r\n    const addState = useCallback(\r\n        (e) => {\r\n            // Stringify then parse JSON to create deep copy.\r\n            let newSection = JSON.parse(JSON.stringify(props.section));\r\n            newSection.state = props.getLastState.current(props.section.id);\r\n            props.setSection.current(newSection, props.section.id);\r\n        },\r\n        [props],\r\n    );\r\n\r\n    const deleteState = useCallback(() => {\r\n        // Stringify then parse JSON to create deep copy.\r\n        let newSection = JSON.parse(JSON.stringify(props.section));\r\n        newSection.state = null;\r\n        props.setSection.current(newSection, props.section.id);\r\n    }, [props]);\r\n\r\n    const updateFolderEdit = (folderEdit) => {\r\n        // JSON stringify, then JSON parse to make a deep copy.\r\n        let newSection = JSON.parse(JSON.stringify(props.section));\r\n        newSection.folderEdit = folderEdit;\r\n        props.setSection.current(newSection, props.section.id);\r\n    };\r\n\r\n    const addFolderEdit = useCallback(\r\n        (e) => {\r\n            // Stringify then parse JSON to create deep copy.\r\n            let newSection = JSON.parse(JSON.stringify(props.section));\r\n            newSection.folderEdit = props.getLastFolderEdit.current(\r\n                props.section.id,\r\n            );\r\n            props.setSection.current(newSection, props.section.id);\r\n        },\r\n        [props],\r\n    );\r\n\r\n    const deleteFolderEdit = useCallback(\r\n        (e) => {\r\n            // Stringify then parse JSON to create deep copy.\r\n            let newSection = JSON.parse(JSON.stringify(props.section));\r\n            newSection.folderEdit = null;\r\n            props.setSection.current(newSection, props.section.id);\r\n        },\r\n        [props],\r\n    );\r\n\r\n    const insertSection = useCallback(\r\n        (e) => {\r\n            props.addSection.current(props.section.id + 1);\r\n        },\r\n        [props],\r\n    );\r\n\r\n    return (\r\n        <div id={'section-' + props.section.id} className={`${styles.section}`}>\r\n            <div className={`${styles.sectionHeader}`}>\r\n                <h3 className={`${styles.header}`}>\r\n                    Section {props.section.id + 1}\r\n                </h3>\r\n                <Icon\r\n                    src=\"/icons/up.png\"\r\n                    id={'moveSectionUp-' + props.section.id}\r\n                    size=\"small\"\r\n                    altText=\"Up\"\r\n                    hover={true}\r\n                    hidden={props.section.id === 0}\r\n                    onClick={() => {\r\n                        props.moveSectionUp.current(props.section.id);\r\n                    }}\r\n                />\r\n                <Icon\r\n                    src=\"/icons/down.png\"\r\n                    id={'moveSectionDown-' + props.section.id}\r\n                    size=\"small\"\r\n                    altText=\"Down\"\r\n                    hover={true}\r\n                    hidden={props.section.id === props.max}\r\n                    onClick={() => {\r\n                        props.moveSectionDown.current(props.section.id);\r\n                    }}\r\n                />\r\n                <Icon\r\n                    src=\"/icons/delete.png\"\r\n                    id={'deleteSection-' + props.section.id}\r\n                    size=\"small\"\r\n                    altText=\"X\"\r\n                    hover={true}\r\n                    grayscale={true}\r\n                    onClick={() => {\r\n                        props.deleteSection.current(props.section.id);\r\n                    }}\r\n                />\r\n            </div>\r\n            <div className={`${styles.wrapper}`}>\r\n                <div className={`${styles.textContainer}`}>\r\n                    <h4>Text</h4>\r\n                    {props.section.text.map((text) => (\r\n                        <SectionText\r\n                            key={'text-' + text.id}\r\n                            sectionId={props.section.id}\r\n                            text={text}\r\n                            max={props.section.text.length - 1}\r\n                            updateText={updateTextRef}\r\n                            moveTextUp={moveTextUpRef}\r\n                            moveTextDown={moveTextDownRef}\r\n                            deleteText={deleteTextRef}\r\n                        />\r\n                    ))}\r\n                    <Button text=\"Add Text\" size=\"medium\" onClick={addText} />\r\n                </div>\r\n                <div className={`${styles.itemsContainer}`}>\r\n                    <h4>{gameInfo.name}s</h4>\r\n                    {props.section.items.map((item) => (\r\n                        <SectionItem\r\n                            key={'item-' + item.id}\r\n                            item={item}\r\n                            max={props.section.items.length - 1}\r\n                            updateItem={updateItemRef}\r\n                            moveItemUp={moveItemUpRef}\r\n                            moveItemDown={moveItemDownRef}\r\n                            deleteItem={deleteItemRef}\r\n                        />\r\n                    ))}\r\n                    <Button\r\n                        text={'Add ' + gameInfo.name}\r\n                        size=\"medium\"\r\n                        onClick={addItem}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className={`${styles.wrapper}`}>\r\n                <div className={`${styles.imageContainer}`}>\r\n                    <h4>Image</h4>\r\n                    <SectionImage\r\n                        image={props.section.image}\r\n                        updateImage={updateImage}\r\n                        deleteImage={deleteImage}\r\n                    />\r\n                </div>\r\n                <div className={`${styles.stateContainer}`}>\r\n                    <h4>State</h4>\r\n                    <SectionState\r\n                        state={props.section.state}\r\n                        updateState={updateState}\r\n                        deleteState={deleteState}\r\n                        addState={addState}\r\n                    />\r\n                </div>\r\n                <div className={`${styles.folderEditContainer}`}>\r\n                    <h4>Folder Edit</h4>\r\n                    <SectionFolderEdit\r\n                        folderEdit={props.section.folderEdit}\r\n                        updateFolderEdit={updateFolderEdit}\r\n                        deleteFolderEdit={deleteFolderEdit}\r\n                        addFolderEdit={addFolderEdit}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <Button\r\n                text=\"Add Section\"\r\n                id={'addSection-' + (props.section.id + 1)}\r\n                size=\"medium\"\r\n                onClick={insertSection}\r\n            />\r\n        </div>\r\n    );\r\n}, shouldUpdate);\r\n\r\nexport default Section;\r\n","/** @format */\r\n\r\nimport { useState, useEffect, useCallback, useRef, useContext } from 'react';\r\nimport RouteContext from '../../common/RouteContext';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport Section from './Section/Section';\r\n\r\nimport styles from './styles/SectionList.Module.css';\r\n\r\nfunction SectionList(props) {\r\n    const { route, numSections, setContext } = useContext(RouteContext);\r\n\r\n    const [displayedSections, setDisplayedSections] = useState(\r\n        route.sections.slice(0, numSections),\r\n    );\r\n    const addMoreSections = () => {\r\n        setDisplayedSections(\r\n            route.sections.slice(\r\n                0,\r\n                Math.min(numSections + 10, route.sections.length),\r\n            ),\r\n        );\r\n        setContext({\r\n            numSections: Math.min(numSections + 10, route.sections.length),\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        setDisplayedSections(route.sections.slice(0, numSections));\r\n    }, [route.sections, numSections]);\r\n\r\n    const setSection = (section, id) => {\r\n        const newSections = [...route.sections];\r\n        newSections[id] = section;\r\n        setContext({ route: { ...route, sections: newSections } });\r\n    };\r\n    const setSectionRef = useRef();\r\n    setSectionRef.current = setSection;\r\n\r\n    const addSection = useCallback(\r\n        (id) => {\r\n            let newSections = [...route.sections];\r\n            let newSection = {\r\n                id: id,\r\n                text: [],\r\n                items: [],\r\n            };\r\n\r\n            newSections.splice(id, 0, newSection);\r\n\r\n            for (let i = id + 1; i < newSections.length; i++) {\r\n                newSections[i].id++;\r\n            }\r\n\r\n            setContext({\r\n                route: { ...route, sections: newSections },\r\n                numSections: numSections + 1,\r\n            });\r\n        },\r\n        [route, setContext, numSections],\r\n    );\r\n    const addSectionRef = useRef();\r\n    addSectionRef.current = addSection;\r\n\r\n    const moveSectionUp = useCallback(\r\n        (id) => {\r\n            // Stringify then parse JSON to create deep copy.\r\n            let newSections = JSON.parse(JSON.stringify(route.sections));\r\n\r\n            let chosenSection = newSections[id];\r\n            chosenSection.id = id - 1;\r\n            let aboveSection = newSections[id - 1];\r\n            aboveSection.id = id;\r\n\r\n            newSections[id] = aboveSection;\r\n            newSections[id - 1] = chosenSection;\r\n\r\n            setContext({ route: { ...route, sections: newSections } });\r\n        },\r\n        [route, setContext],\r\n    );\r\n    const moveSectionUpRef = useRef();\r\n    moveSectionUpRef.current = moveSectionUp;\r\n\r\n    const moveSectionDown = useCallback(\r\n        (id) => {\r\n            // Stringify then parse JSON to create deep copy.\r\n            let newSections = JSON.parse(JSON.stringify(route.sections));\r\n\r\n            let chosenSection = newSections[id];\r\n            chosenSection.id = id + 1;\r\n            let belowSection = newSections[id + 1];\r\n            belowSection.id = id;\r\n\r\n            newSections[id] = belowSection;\r\n            newSections[id + 1] = chosenSection;\r\n\r\n            setContext({ route: { ...route, sections: newSections } });\r\n        },\r\n        [route, setContext],\r\n    );\r\n    const moveSectionDownRef = useRef();\r\n    moveSectionDownRef.current = moveSectionDown;\r\n\r\n    const deleteSection = useCallback(\r\n        (id) => {\r\n            // JSON stringify, then JSON parse to make a deep copy.\r\n            let newSections = JSON.parse(JSON.stringify(route.sections));\r\n\r\n            for (let i = id + 1; i < newSections.length; i++) {\r\n                newSections[i].id--;\r\n            }\r\n\r\n            newSections.splice(id, 1);\r\n\r\n            setContext({ route: { ...route, sections: newSections } });\r\n        },\r\n        [route, setContext],\r\n    );\r\n    const deleteSectionRef = useRef();\r\n    deleteSectionRef.current = deleteSection;\r\n\r\n    const getLastState = useCallback(\r\n        (id) => {\r\n            // Check previous sections for the last state value\r\n            let state = null;\r\n            for (let i = id - 1; i >= 0; i--) {\r\n                if (route.sections[i].state != null) {\r\n                    state = JSON.parse(JSON.stringify(route.sections[i].state));\r\n                    break;\r\n                }\r\n            }\r\n\r\n            // If no state was found, use initialState\r\n            if (state == null) {\r\n                state = JSON.parse(JSON.stringify(route.initialState));\r\n            }\r\n\r\n            return state;\r\n        },\r\n        [route],\r\n    );\r\n    const getLastStateRef = useRef();\r\n    getLastStateRef.current = getLastState;\r\n\r\n    const getLastFolderEdit = useCallback(\r\n        (id) => {\r\n            // Check previous sections for the last folder edit value\r\n            let folderEdit = null;\r\n            for (let i = id - 1; i >= 0; i--) {\r\n                if (route.sections[i].folderEdit != null) {\r\n                    folderEdit = JSON.parse(\r\n                        JSON.stringify(route.sections[i].folderEdit),\r\n                    );\r\n                    break;\r\n                }\r\n            }\r\n\r\n            // If no state was found, use initialState\r\n            if (folderEdit == null) {\r\n                folderEdit = JSON.parse(\r\n                    JSON.stringify(route.initialFolderEdit),\r\n                );\r\n            }\r\n\r\n            // Setup the previous folder to be the same as the starting folder, and clear the folder edit.\r\n            folderEdit.prevFolder = folderEdit.folder;\r\n            folderEdit.value = [\r\n                {\r\n                    id: 0,\r\n                    action: '',\r\n                    item1: -1,\r\n                    modifier1: '',\r\n                    item2: -1,\r\n                    modifier2: '',\r\n                },\r\n            ];\r\n\r\n            return folderEdit;\r\n        },\r\n        [route],\r\n    );\r\n    const getLastFolderEditRef = useRef();\r\n    getLastFolderEditRef.current = getLastFolderEdit;\r\n\r\n    return (\r\n        <div id=\"scrollableDiv\" className={`${styles.sectionList}`}>\r\n            <InfiniteScroll\r\n                dataLength={displayedSections}\r\n                next={addMoreSections}\r\n                hasMore={route.sections.length > displayedSections.length}\r\n                loader={'Loading...'}\r\n                scrollableTarget={'scrollableDiv'}>\r\n                {displayedSections.map((section) => (\r\n                    <Section\r\n                        key={'section-' + section.id}\r\n                        section={section}\r\n                        setSection={setSectionRef}\r\n                        max={route.sections.length - 1}\r\n                        moveSectionUp={moveSectionUpRef}\r\n                        moveSectionDown={moveSectionDownRef}\r\n                        addSection={addSectionRef}\r\n                        deleteSection={deleteSectionRef}\r\n                        getLastState={getLastStateRef}\r\n                        getLastFolderEdit={getLastFolderEditRef}\r\n                    />\r\n                ))}\r\n                <div className=\"bottom-buffer\"> </div>\r\n            </InfiniteScroll>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SectionList;\r\n","/** @format */\r\n\r\nimport { useCallback, useContext } from 'react';\r\nimport { Buffer } from 'buffer';\r\nimport styles from './styles/RouteInfo.Module.css';\r\nimport RouteContext from '../../common/RouteContext';\r\nimport Button from '../../common/Button';\r\n\r\nconst equal = require('deep-equal');\r\n\r\nfunction RouteInfo(props) {\r\n    const { route, preview, setContext } = useContext(RouteContext);\r\n\r\n    const games = require('../../../resources/gamesList.json');\r\n    const routes = require('../../../notes/routes.json');\r\n\r\n    const generateDownload = useCallback(\r\n        (e) => {\r\n            e.preventDefault();\r\n\r\n            console.log(route);\r\n\r\n            let a = document.createElement('a');\r\n            a.href =\r\n                'data:text/json;base64;charset=utf-8,' +\r\n                Buffer.from(JSON.stringify(route)).toString('base64');\r\n            a.download = route.path + '.json';\r\n            a.click();\r\n        },\r\n        [route],\r\n    );\r\n\r\n    const importText = (text) => {\r\n        text = text.replace(/(\\r\\n|\\n|\\r)/gm, '\\n');\r\n        const lines = text.split('\\n');\r\n        let newSections = [];\r\n\r\n        let sectionId = 0;\r\n\r\n        for (let i = 0; i < lines.length; i++) {\r\n            let line = lines[i];\r\n            const section = {\r\n                id: sectionId,\r\n                text: [],\r\n                items: [],\r\n            };\r\n\r\n            let textId = 0;\r\n            while (line !== '') {\r\n                const text = {\r\n                    id: textId,\r\n                    text: line,\r\n                };\r\n\r\n                section.text.push(text);\r\n                i++;\r\n                textId++;\r\n\r\n                if (i < lines.length) {\r\n                    line = lines[i];\r\n                } else {\r\n                    line = '';\r\n                }\r\n            }\r\n\r\n            newSections.push(section);\r\n            sectionId++;\r\n        }\r\n\r\n        setContext({\r\n            route: { ...route, sections: newSections },\r\n            numSections: Math.min(10, newSections.length),\r\n        });\r\n    };\r\n\r\n    const importJSON = (file) => {\r\n        const route = JSON.parse(file);\r\n        const gameInfo = require('../../../resources/' +\r\n            route.game +\r\n            '/ItemNames.json');\r\n\r\n        // If initial state is different, the state variables need to be updated\r\n        if (!equal(route.initialState, gameInfo.initialState)) {\r\n            route.initialState = gameInfo.initialState;\r\n\r\n            for (const section of route.sections) {\r\n                if (section.state) {\r\n                    for (let key of gameInfo.initialState.keys) {\r\n                        if (!section.state.keys.includes(key)) {\r\n                            section.state[key] = gameInfo.initialState[key];\r\n                        }\r\n                    }\r\n\r\n                    section.state.keys = gameInfo.initialState.keys;\r\n                }\r\n            }\r\n        }\r\n\r\n        setContext({\r\n            route: route,\r\n            numSections: Math.min(10, route.sections.length),\r\n            gameInfo: gameInfo,\r\n        });\r\n    };\r\n\r\n    const handleUpload = (file, callback) => {\r\n        let reader = new FileReader();\r\n        reader.readAsText(file, 'UTF-8');\r\n        reader.onload = function () {\r\n            callback(reader.result);\r\n        };\r\n        reader.onerror = function (error) {\r\n            console.log('Error: ', error);\r\n        };\r\n    };\r\n\r\n    const updateGame = useCallback(\r\n        (newGame) => {\r\n            let gameInfo = require('../../../resources/ItemNames.json');\r\n            if (newGame !== '' && newGame != null) {\r\n                gameInfo = require('../../../resources/' +\r\n                    newGame +\r\n                    '/ItemNames.json');\r\n            }\r\n\r\n            setContext({\r\n                route: {\r\n                    ...route,\r\n                    game: newGame,\r\n                    initialState: gameInfo.initialState,\r\n                    initialFolderEdit: gameInfo.initialFolderEdit,\r\n                },\r\n                gameInfo: gameInfo,\r\n            });\r\n        },\r\n        [route, setContext],\r\n    );\r\n\r\n    return (\r\n        <div className={`${styles.routeInfo}`}>\r\n            <h2 className={`${styles.header}`}>Update your Route</h2>\r\n\r\n            <label htmlFor=\"title\" className={`${styles.label}`}>\r\n                Route Name\r\n            </label>\r\n            <input\r\n                type=\"text\"\r\n                name=\"title\"\r\n                className={`${styles.textInput}`}\r\n                defaultValue={route.title}\r\n                onBlur={(e) =>\r\n                    setContext({ route: { ...route, title: e.target.value } })\r\n                }\r\n            />\r\n\r\n            <label htmlFor=\"path\" className={`${styles.label}`}>\r\n                Path\r\n            </label>\r\n            <input\r\n                type=\"text\"\r\n                name=\"path\"\r\n                className={`${styles.textInput}`}\r\n                defaultValue={route.path}\r\n                onBlur={(e) =>\r\n                    setContext({ route: { ...route, path: e.target.value } })\r\n                }\r\n            />\r\n\r\n            <label htmlFor=\"game\" className={`${styles.label}`}>\r\n                Game\r\n            </label>\r\n            <select\r\n                name=\"game\"\r\n                className={`${styles.select}`}\r\n                value={route.game}\r\n                onChange={(e) => updateGame(e.target.value)}>\r\n                <option value=\"\"> </option>\r\n                {games.map((game) => (\r\n                    <option key={game} value={game}>\r\n                        {routes[game].name}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n\r\n            <label htmlFor=\"textImport\" className={`${styles.label}`}>\r\n                Import Text\r\n            </label>\r\n            <input\r\n                type=\"file\"\r\n                name={'textImport'}\r\n                className={`${styles.fileInput}`}\r\n                onChange={(e) => handleUpload(e.target.files[0], importText)}\r\n            />\r\n            <label htmlFor=\"jsonImport\" className={`${styles.label}`}>\r\n                Import JSON\r\n            </label>\r\n            <input\r\n                type=\"file\"\r\n                name={'jsonImport'}\r\n                className={`${styles.fileInput}`}\r\n                onChange={(e) => handleUpload(e.target.files[0], importJSON)}\r\n            />\r\n\r\n            <div className={`${styles.wrapper}`}>\r\n                <Button\r\n                    text=\"Load Last Edit\"\r\n                    size=\"medium\"\r\n                    className={`${styles.btn}`}\r\n                    onClick={props.loadLastRouteEdit}\r\n                />\r\n                <Button\r\n                    text=\"Save JSON File\"\r\n                    size=\"medium\"\r\n                    className={`${styles.btn}`}\r\n                    onClick={generateDownload}\r\n                />\r\n                <Button\r\n                    text=\"Preview\"\r\n                    size=\"medium\"\r\n                    className={`${styles.btn}`}\r\n                    onClick={() => setContext({ preview: !preview })}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RouteInfo;\r\n","/** @format */\r\n\r\nimport { useState, useCallback, useMemo, Suspense } from 'react';\r\nimport styles from './styles/RouteForm.Module.css';\r\nimport Route from '../route/Route';\r\nimport SectionList from './SectionList';\r\nimport RouteInfo from './RouteInfo';\r\nimport useSuspenseResource from '../../common/functions/useSuspense';\r\nimport RouteContext from '../../common/RouteContext';\r\nimport GameContext from '../../common/GameContext';\r\n\r\nconst equal = require('deep-equal');\r\n\r\nfunction RouteForm(props) {\r\n    const path = props.match.params.path;\r\n\r\n    const notesResource = useSuspenseResource(async () => {\r\n        const response = await fetch(\r\n            `${process.env.PUBLIC_URL}/notes/${path}.json`,\r\n        );\r\n\r\n        return await response.json();\r\n    }, [path]);\r\n\r\n    return (\r\n        <Suspense fallback=\"Loading...\">\r\n            <RouteFormImpl {...props} notesResource={notesResource} />\r\n        </Suspense>\r\n    );\r\n}\r\n\r\nconst getInitialState = (path, game, route) => {\r\n    // If no game is specified, try setting the game based on the initial route object.\r\n    if (game == null) {\r\n        game = route.game;\r\n    }\r\n\r\n    let gameInfo = require('../../../resources/ItemNames.json');\r\n    if (game !== '' && game != null) {\r\n        gameInfo = require('../../../resources/' + game + '/ItemNames.json');\r\n    }\r\n\r\n    // If initial state is different, the state variables need to be updated in the route.\r\n    if (\r\n        route.game != null &&\r\n        !equal(route.initialState, gameInfo.initialState)\r\n    ) {\r\n        route.initialState = gameInfo.initialState;\r\n\r\n        // Update state variables in each section to add new keys.\r\n        for (const section of route.sections) {\r\n            if (section.state) {\r\n                for (let key of gameInfo.initialState.keys) {\r\n                    if (!section.state.keys.includes(key)) {\r\n                        section.state[key] = gameInfo.initialState[key];\r\n                    }\r\n                }\r\n\r\n                section.state.keys = gameInfo.initialState.keys;\r\n            }\r\n        }\r\n    }\r\n\r\n    return {\r\n        route: {\r\n            title: path != null ? route.title : '',\r\n            path: path,\r\n            game: path != null ? route.game : game,\r\n            version: path != null ? route.version : '1.0',\r\n            initialState: game != null ? gameInfo.initialState : {},\r\n            initialFolderEdit: game != null ? gameInfo.initialFolderEdit : {},\r\n            sections:\r\n                path != null\r\n                    ? route.sections\r\n                    : [\r\n                          {\r\n                              id: 0,\r\n                              text: [],\r\n                              items: [],\r\n                          },\r\n                      ],\r\n        },\r\n        gameInfo: gameInfo,\r\n        preview: false,\r\n        numSections: path != null ? Math.min(10, route.sections.length) : 1,\r\n    };\r\n};\r\n\r\nfunction RouteFormImpl(props) {\r\n    let initialPath = props.match.params.path;\r\n    let initialGame = props.match.params.gameId;\r\n    let initialRoute = {};\r\n    if (initialPath != null) {\r\n        initialRoute = props.notesResource.read();\r\n    }\r\n\r\n    const [state, setState] = useState(\r\n        getInitialState(initialPath, initialGame, initialRoute),\r\n    );\r\n    const gameContext = useMemo(() => {\r\n        return state.gameInfo;\r\n    }, [state.gameInfo]);\r\n\r\n    const setContext = useCallback(\r\n        (updates) => {\r\n            setState({ ...state, ...updates });\r\n        },\r\n        [state, setState],\r\n    );\r\n\r\n    const getContextValue = useCallback(\r\n        () => ({\r\n            ...state,\r\n            setContext,\r\n        }),\r\n        [state, setContext],\r\n    );\r\n\r\n    const setNewRoute = (newRoute) => {\r\n        newRoute.preview = false;\r\n        newRoute.numSections = Math.min(10, newRoute.sections.length);\r\n\r\n        // If initial state is different, the state variables need to be updated\r\n        if (!equal(newRoute.initialState, state.gameInfo.initialState)) {\r\n            newRoute.initialState = state.gameInfo.initialState;\r\n\r\n            // Update state variables in each section to add new keys.\r\n            for (const section of newRoute.sections) {\r\n                if (section.state) {\r\n                    for (let key of state.gameInfo.initialState.keys) {\r\n                        if (!section.state.keys.includes(key)) {\r\n                            section.state[key] =\r\n                                state.gameInfo.initialState[key];\r\n                        }\r\n                    }\r\n\r\n                    section.state.keys = state.gameInfo.initialState.keys;\r\n                }\r\n            }\r\n        }\r\n\r\n        setState({ ...state, route: newRoute });\r\n    };\r\n\r\n    const loadLastRouteEdit = (e) => {\r\n        e.preventDefault();\r\n\r\n        let newRoute = JSON.parse(localStorage.getItem('lastRouteEdit'));\r\n\r\n        if (newRoute != null) {\r\n            setNewRoute(newRoute);\r\n        } else {\r\n            alert(\r\n                'Error: No route found in local storage. Either there is nothing to load, or your route may have been too large. When your route gets large, try downloading the JSON file periodically to save your progress.',\r\n            );\r\n        }\r\n    };\r\n\r\n    const swapPreview = () => {\r\n        setState((prevState) => ({\r\n            ...state,\r\n            preview: !prevState.preview,\r\n        }));\r\n    };\r\n\r\n    if (state.preview) {\r\n        return (\r\n            <div>\r\n                <RouteContext.Provider value={getContextValue()}>\r\n                    <Route swapPreview={swapPreview} />\r\n                </RouteContext.Provider>\r\n            </div>\r\n        );\r\n    } else {\r\n        return (\r\n            <form className={`${styles.wrapper} ${styles.form}`}>\r\n                <RouteContext.Provider value={getContextValue()}>\r\n                    <GameContext.Provider value={gameContext}>\r\n                        <RouteInfo\r\n                            loadLastRouteEdit={loadLastRouteEdit}\r\n                            swapPreview={swapPreview}\r\n                        />\r\n\r\n                        <SectionList sections={state.route.sections} />\r\n                    </GameContext.Provider>\r\n                </RouteContext.Provider>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default RouteForm;\r\n","/** @format */\r\n\r\nimport React from 'react';\r\nimport styles from './styles/NotesHome.Module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport Button from '../common/Button';\r\n\r\nlet games = require('../../resources/gamesList.json');\r\nlet routes = require('../../notes/routes.json');\r\n\r\nclass NotesHome extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.createRoute = this.createRoute.bind(this);\r\n    }\r\n\r\n    createRoute() {\r\n        this.props.history.push('/notes/createRoute');\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"page\">\r\n                <div className={'card ' + styles.wrapper}>\r\n                    <h1>Games</h1>\r\n                    <div className={`${styles.wrapper}`}>\r\n                        {games.map((gameId) => (\r\n                            <div\r\n                                className=\"col-2 col-t-3 col-m-6\"\r\n                                key={'routesList' + gameId}>\r\n                                <Link\r\n                                    to={'/notes/game/' + gameId}\r\n                                    className={`${styles.link}`}>\r\n                                    <img\r\n                                        className={`${styles.img}`}\r\n                                        src={'/gameArt/' + gameId + '.png'}\r\n                                        alt={gameId + '.png'}\r\n                                    />\r\n                                    <h4 className=\"gameLink\">\r\n                                        {routes[gameId].name}\r\n                                    </h4>\r\n                                </Link>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                    <Button\r\n                        text=\"Create New Route\"\r\n                        size=\"medium\"\r\n                        onClick={this.createRoute}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NotesHome;\r\n","/** @format */\r\n\r\nimport React from 'react';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport { Switch } from 'react-router-dom';\r\nimport { Route as BrowserRoute } from 'react-router-dom';\r\n\r\nimport RoutesList from './RoutesList';\r\nimport Route from './route/Route';\r\nimport RouteForm from './routeForm/RouteForm';\r\nimport NotesHome from './NotesHome';\r\n\r\nclass NotesTool extends React.Component {\r\n    render() {\r\n        return (\r\n            <HashRouter>\r\n                <Switch>\r\n                    <BrowserRoute\r\n                        path={'/notes/game/:gameId/route/:routePath'}\r\n                        component={Route}\r\n                    />\r\n                    <BrowserRoute\r\n                        path={'/notes/game/:gameId'}\r\n                        component={RoutesList}\r\n                    />\r\n                    <BrowserRoute\r\n                        path={'/notes/editRoute/:path'}\r\n                        component={RouteForm}\r\n                    />\r\n                    <BrowserRoute\r\n                        path={'/notes/createRoute/:gameId'}\r\n                        component={RouteForm}\r\n                    />\r\n                    <BrowserRoute\r\n                        path={'/notes/createRoute'}\r\n                        component={RouteForm}\r\n                    />\r\n                    <BrowserRoute path={'/notes'} component={NotesHome} />\r\n                </Switch>\r\n            </HashRouter>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NotesTool;\r\n","/** @format */\r\n\r\nimport React from 'react';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport { Switch } from 'react-router-dom';\r\nimport { Route as BrowserRoute } from 'react-router-dom';\r\nimport NotesTool from './notes/NotesTool';\r\n\r\nclass App extends React.Component {\r\n    render() {\r\n        return (\r\n            <HashRouter>\r\n                <Switch>\r\n                    <BrowserRoute path=\"/notes\" component={NotesTool} />\r\n                </Switch>\r\n            </HashRouter>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","/** @format */\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport './styles/main.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <BrowserRouter>\r\n            <App />\r\n        </BrowserRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}