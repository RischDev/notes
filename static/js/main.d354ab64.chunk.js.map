{"version":3,"sources":["components/notes/route/notes/styles/NoteSection.Module.css","resources sync /^/.*/ItemNames/.json$","components/notes/styles/RoutesListItem.Module.css","components/common/styles/Icon.Module.css","components/notes/route/tracker/styles/Tracker.Module.css","components/notes/routeForm/styles/RouteInfo.Module.css","components/notes/styles/RoutesList.Module.css","components/notes/route/notes/styles/SmallItem.Module.css","components/notes/route/notes/styles/SmallModifiers.Module.css","components/notes/route/tracker/styles/Modifiers.Module.css","components/notes/route/tracker/styles/Item.Module.css","components/notes/routeForm/Section/styles/Section.Module.css","components/notes/routeForm/Section/styles/SectionState.Module.css","components/notes/styles/NotesHome.Module.css","components/notes/route/notes/styles/Notes.Module.css","components/notes/routeForm/Section/styles/ItemDropdown.Module.css","components/notes/routeForm/Section/styles/ModifierDropdown.Module.css","components/common/styles/Button.Module.css","components/notes/route/styles/Menu.Module.css","components/notes/routeForm/styles/RouteForm.Module.css","resources sync /^/.*/DefaultFoundItems/.json$","resources sync /^/.*/DefaultFoundModifiers/.json$","components/notes/route/styles/Route.Module.css","components/notes/route/notes/styles/themes/MMBN/MMBN-SmallItem.Module.css","components/notes/route/notes/styles/themes/MMSF/MMSF-SmallItem.Module.css","components/notes/route/notes/styles/themes/MMBN/MMBN-SmallModifiers.Module.css","components/notes/route/tracker/styles/themes/MMBN/MMBN-Modifiers.Module.css","components/notes/route/tracker/styles/themes/MMBN/MMBN-Item.Module.css","components/notes/route/tracker/styles/themes/MMSF/MMSF-Item.Module.css","components/notes/routeForm/Section/styles/SectionText.Module.css","components/notes/routeForm/Section/styles/PreviewImage.Module.css","components/notes/routeForm/styles/SectionList.Module.css","reportWebVitals.js","components/common/Icon.js","components/common/useSuspense.js","components/notes/RoutesListItem.js","components/common/Button.js","components/notes/RoutesList.js","components/common/Functions.js","components/notes/route/Menu.js","components/notes/route/notes/SmallModifiers.js","components/notes/route/notes/SmallItem.js","components/notes/route/notes/NoteSection.js","components/notes/route/notes/Notes.js","components/notes/route/tracker/Modifiers.js","components/notes/route/tracker/Item.js","components/notes/route/tracker/Tracker.js","components/notes/route/Route.js","components/common/RouteContext.js","components/common/GameContext.js","components/notes/routeForm/Section/ItemDropdown.js","components/notes/routeForm/Section/ModifierDropdown.js","components/notes/routeForm/Section/SectionText.js","components/notes/routeForm/Section/SectionItem.js","components/notes/routeForm/Section/PreviewImage.js","components/notes/routeForm/Section/SectionImage.js","components/notes/routeForm/Section/SectionState.js","components/notes/routeForm/Section/Section.js","components/notes/routeForm/SectionList.js","components/notes/routeForm/RouteInfo.js","components/notes/routeForm/RouteForm.js","components/notes/NotesHome.js","components/notes/NotesTool.js","components/App.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Icon","hoverClass","this","props","hover","styles","hiddenClass","hidden","floatClass","float","right","src","className","icon","size","onClick","alt","altText","React","Component","useSuspenseResource","promiseCallback","deps","useMemo","promise","result","status","suspender","r","read","createSuspenseResource","RoutesListItemImpl","notes","notesResource","wrapper","to","gameId","path","link","title","category","author","version","RoutesListItem","a","fetch","process","response","json","fallback","Button","btn","type","text","routes","require","RoutesList","match","params","gameRoutes","history","push","state","gameName","name","createRoute","bind","gameArt","header","route","useMatchMedia","query","useState","window","matchMedia","matches","setMatches","useEffect","mediaQueryList","callback","addListener","removeListener","Menu","modeText","mode","previewButton","preview","swapPreview","notesText","showNotes","menu","resetTracker","swapNotesAndTracker","changeMode","showNotesText","showTrackerText","showTracker","updateNotesDisplay","updateTrackerDisplay","Modifier","foundClass","foundModifiers","includes","modifier","found","game","SmallModifiers","theme","themeMMBN","updateFound","target","split","updateTracker","modifiers","length","SmallItem","themeMMSF","Items","i","types","low","high","class","item","itemArt","Text","foundItems","ItemsList","itemsList","items","completedItems","some","value","j","item2","itemList","Image","image","State","console","log","key","shown","NoteSection","sectionId","ref","noteRef","previousSection","nextSection","Notes","section","sectionTop","scrollPosition","numSections","Math","min","sections","notesRef","createRef","sectionRefs","Array","observer","IntersectionObserver","entries","isIntersecting","setState","root","rootMargin","threshold","onScroll","handleKeyPress","observe","current","prevProps","display","scrollIntoView","behavior","disconnect","scrollTop","newSectionTop","floor","getBoundingClientRect","height","keyPress","preventDefault","fullSizeClass","fullSize","onKeyDown","tabIndex","slice","Modifiers","Item","toString","padStart","Tracker","tracker","list","RouteImpl","defaultMode","defaultTrackerDisplay","setShowNotes","setShowTracker","setMode","JSON","parse","localStorage","getItem","setFoundItems","setFoundModifiers","stringify","useCallback","prevMode","newFoundItems","newFoundModifiers","splice","indexOf","setItem","prevShowNotes","prevShowTracker","Route","routePath","RouteContext","createContext","GameContext","shouldUpdate","oldProps","newProps","ItemDropdown","memo","useContext","onUpdateItem","parseInt","updateItem","select","onChange","buffer","ModifierDropdown","onModifierUpdate","updateModifier","updateText","SectionText","textarea","placeholder","newText","moveTextUp","max","moveTextDown","deleteText","SectionItem","newItem","moveItemUp","moveItemDown","deleteItem","PreviewImage","img","SectionImage","getBase64","file","reader","FileReader","readAsDataURL","onload","updateImage","onerror","error","files","deleteImage","SectionState","htmlFor","textInput","defaultValue","newState","updateState","onStateValueChange","checkbox","checked","onStateShownChange","deleteState","Section","newSection","setSection","addText","chosenText","aboveText","belowText","addItem","chosenItem","aboveItem","belowItem","addState","getLastState","addStateButton","moveSectionUp","moveSectionDown","deleteSection","addSection","SectionList","setContext","setNumSections","displayedSections","setDisplayedSections","newSections","chosenSection","aboveSection","belowSection","initialState","PrevFolder","Folder","sectionList","dataLength","next","hasMore","loader","scrollableTarget","RouteInfo","games","generateDownload","document","createElement","href","btoa","download","click","importText","lines","replace","line","textId","importJSON","handleUpload","readAsText","routeInfo","onBlur","loadLastRouteEdit","instructions","rel","equal","RouteFormImpl","initialPath","initialGame","initialRoute","gameContext","updates","getContextValue","prevState","form","Provider","newRoute","setNewRoute","alert","RouteForm","NotesHome","NotesTool","component","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d354ab64.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"_1jIyQSD8glXDx_L_oIbg-c\",\"itemList\":\"_1UjwBUq9nWBHAFO1oYEQdu\",\"image\":\"Dll74vKPfCu-VUW30ypN4\",\"wrapper\":\"_3y4r6Cu3THaebzd49UbY5o\",\"found\":\"_3c3_Ktp-BEMIC50p21i7WT\",\"hidden\":\"DHY3XZhcNwF5q5wTY-BTE\"};","var map = {\n\t\"./MMBN1/ItemNames.json\": 99,\n\t\"./MMBN2/ItemNames.json\": 100,\n\t\"./MMBN3/ItemNames.json\": 101,\n\t\"./MMBN4/ItemNames.json\": 102,\n\t\"./MMBN5/ItemNames.json\": 103,\n\t\"./MMBN6/ItemNames.json\": 104,\n\t\"./MMSF1/ItemNames.json\": 105,\n\t\"./MMSF2/ItemNames.json\": 106,\n\t\"./MMSF3/ItemNames.json\": 107,\n\t\"./OSS/ItemNames.json\": 108\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 18;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"_1Gfx-KJJhpNYvZB3fuqAEQ\",\"link\":\"_3lUeuLlNSrlTGL24QOi9vq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"_2ebSqB1zSOZpbu0P70iE_N\",\"small\":\"_1VxycCKkdZPZwDZww5BdOs\",\"large\":\"_4-M6cg1D0jSMB5lSfUV_l\",\"right\":\"_2YhEPE7ZkeCLKiR3elUrgp\",\"hover\":\"_30nXSMO_WEHIp05G2VaaUD\",\"hidden\":\"_1kLaYogDv2Ol2FhqBkqYY3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tracker\":\"wasTyY3t2nbo05iHstMBw\",\"section\":\"n6zieeB4plQkM8pzJzlYC\",\"fullSize\":\"_3_8UP1f10LeAFGz0f05oit\",\"header\":\"_1MAo-dI5I-lSXQ4MYAYZX5\",\"list\":\"_2sclbDRwGsRSRF5WOWMucw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"routeInfo\":\"_1juaIImYdU-JbBzrPmCSAn\",\"instructions\":\"_1KfAMuGUXQulC1J4R8HhxR\",\"textInput\":\"_2Ho51F0SyNvHB0bwoOpbH3\",\"select\":\"_4-bkCDhibfn5wpSemBqf4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"_2f5xYGQhp-azc5C5DNkhe-\",\"header\":\"_2XK71YKN9Q2Rk5OfsFWIe0\",\"gameArt\":\"_2UolUTnYnSC6dm2gJvEYa6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"_2moR0v1HIPor6hd1R9sVz3\",\"title\":\"jwpxBg795TErVIjNkyp8T\",\"itemArt\":\"_3gwXTZWJ23tlapONGg_G1N\",\"found\":\"_1RTpaypb0Zw9IyfJ7omkHk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modifiers\":\"_2vdSwDf6V60fMvp3O8T-Sd\",\"found\":\"_3MyI7rR_EE88QlWGwB0n9i\",\"modifier\":\"_34ptAqksO8Kq1AD_qij4Qk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modifiers\":\"_1ay16zeRtLGt0Vt0EIOwPm\",\"found\":\"_70wYgrZBluxK2JUYTCT7Q\",\"modifier\":\"_345MH3DXQdv31BFPU1WHsT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"-wNXkGLqMxqsYCsWRcE-C\",\"title\":\"_2cWJALW4wMrPWAfQ84mf45\",\"itemArt\":\"_1uzZKqHgppKOejemeKGzD5\",\"found\":\"_1KibNYq48RlaW2HWxkUnw2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"_2-hsbss4J3QlRfk3ivP3Bw\",\"section\":\"_36ZuHFP4iJc6VcMEoccY8-\",\"header\":\"_3w5G8bFi_yGUxAjAC2pSCS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"_2UWQKW8P27Uu6iHc_1tF3b\",\"textInput\":\"_2BP9rerYa_MuyjapxDp5g1\",\"checkbox\":\"_2HwQHlMVwfHiPCgEvkB7AP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"_1hshKmLSNmehZqCwlyuSUK\",\"link\":\"_lYVO_dtQUGqfyWqTxCJn\",\"img\":\"QnH9L4bevJrvbXnO2atjW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notes\":\"_1d4EuYVZALqX4OsDl0uXIf\",\"fullSize\":\"_198aSZ0uFki6-XgxoVbChD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select\":\"_3NLd3njWXD7xHFnwo_NiDa\",\"buffer\":\"bCxE4283Hbp2QK05V-lkE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select\":\"_1uqRo-xj86u9ZmhSJYf8Ot\",\"buffer\":\"RKPruD30EQuTfq7vtOFPI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"_2UgOcp4sPWdUJCkdYciMtO\",\"small\":\"_2hPSx-Wl-M9FtyP0LEk2RB\",\"medium\":\"_2oLe4va3rQ_NV3sEkHKHYP\",\"large\":\"_288TS1rF6o0bTdr4uKos8a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"_2QlPtxG-DBoxbNBzVhOT75\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"_1311JjnywyRPHhy9RC2sCr\",\"form\":\"_1zUkwZi9914YVksgdFVGeF\",\"textInput\":\"_8M5UV9XOq15YtoXfbKInZ\",\"textarea\":\"_3BPXZoUncxKiukENmEKGi_\",\"select\":\"jijtaAyobGhFQ7hrI-o5g\"};","var map = {\n\t\"./MMBN1/DefaultFoundItems.json\": 109,\n\t\"./MMBN2/DefaultFoundItems.json\": 110,\n\t\"./MMBN3/DefaultFoundItems.json\": 111,\n\t\"./MMBN4/DefaultFoundItems.json\": 112,\n\t\"./MMBN5/DefaultFoundItems.json\": 113,\n\t\"./MMBN6/DefaultFoundItems.json\": 114,\n\t\"./MMSF1/DefaultFoundItems.json\": 115,\n\t\"./MMSF2/DefaultFoundItems.json\": 116,\n\t\"./MMSF3/DefaultFoundItems.json\": 117,\n\t\"./OSS/DefaultFoundItems.json\": 118\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 58;","var map = {\n\t\"./MMBN1/DefaultFoundModifiers.json\": 119,\n\t\"./MMBN2/DefaultFoundModifiers.json\": 120,\n\t\"./MMBN3/DefaultFoundModifiers.json\": 121,\n\t\"./MMBN4/DefaultFoundModifiers.json\": 122,\n\t\"./MMBN5/DefaultFoundModifiers.json\": 123,\n\t\"./MMBN6/DefaultFoundModifiers.json\": 124,\n\t\"./OSS/DefaultFoundModifiers.json\": 125\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 59;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"_1-nOhQX6BqFmYOA_pKsjph\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"_10zEZsXHCIkxvPnOUDCg2k\",\"title\":\"_3VEu72ACtxmfGSF-PbYeUq\",\"itemArt\":\"_349B8E4M647QIkUqAAFGse\",\"Battlechips\":\"G89vqfMhV7Z2YfmQOemBt\",\"Standard\":\"_2aSgRJWfzSDZbRM5BraEhQ\",\"Mega\":\"_3KUKTem6Isff4T-wHnjrvr\",\"Giga\":\"_1401fzKXRC1B69Zp4WL4Fy\",\"PAs\":\"ZdaHb1e2gm1a5oEBhF0po\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"gRqACM8foVdzjpAQgRAMW\",\"title\":\"_1H2YCBV0fphDmW4_yI3MNk\",\"itemArt\":\"_1CoFTRYhg95JO0n6b_Sbzg\",\"Standard\":\"_2acuL-9sYQtFNSyd8_Wbmi\",\"Mega\":\"_1Bb-FlD3zoAgf_FDBJ1oso\",\"Giga\":\"_3_NSr3ihm8Mdjd36K9ZjVa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modifiers\":\"_3yaGrTeih_2ieKd7jYnE3F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modifiers\":\"_2jYGRmEuU_hdWUE1JDgbYQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"j0Pa_6xouyrIgxc1825nc\",\"title\":\"_1VvI_FNgk2AzOp8Ozkg9nl\",\"itemArt\":\"_3xeEJiL_pku09BL4JVFmE2\",\"BattleChip\":\"o-7bdtjD9NvCylSCG9G2B\",\"Standard\":\"_28mEt09wtgwGhZ6vY6gQHN\",\"Mega\":\"_2gGZArP7xTiKe0D2_hVLSD\",\"Giga\":\"_2-Qm-rHugozxHTxyKUaFem\",\"PAs\":\"XHZBrB2pGKfRUI8gtwGYo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"_55SBiwKNrrVucoYRi_QZw\",\"title\":\"QTTW1V82isy9EFNeYzAzE\",\"itemArt\":\"_3dt4BDq5kKXsZx4sDk5Trr\",\"Standard\":\"UzN2q3H4F54DVoVqhtmIT\",\"Mega\":\"EI7_TdJaiPTUGXpUsrMoC\",\"Giga\":\"_28CHFr1nwXF8dX-DDQbMwH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textarea\":\"Y1pb3YD5NREX1Ra3nA6uY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"B5SWRdwNaqWvNtfbjOzX3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sectionList\":\"_3fq2327GFalNEqNpmWGGAs\"};","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport styles from './styles/Icon.Module.css';\r\n\r\nclass Icon extends React.Component {\r\n\r\n    render() {\r\n        let hoverClass = this.props.hover ? styles.hover : '';\r\n        let hiddenClass = this.props.hidden ? styles.hidden : '';\r\n        let floatClass = this.props.float === \"right\" ? styles.right : '';\r\n\r\n        return (\r\n            <img src={this.props.src} id={this.props.id} className={`${styles.icon} ${styles[this.props.size]} ${hoverClass} ${hiddenClass} ${floatClass}`} onClick={this.props.onClick} alt={this.props.altText} />\r\n        )\r\n    }\r\n}\r\n\r\nexport default Icon;","import { useMemo } from 'react';\r\n\r\n// Converts a promise into something that works with React Suspense.\r\nfunction createSuspenseResource(promise) {\r\n\tlet status = 'pending';\r\n\tlet result;\r\n\tlet suspender = promise.then(\r\n\t\t(r) => {\r\n\t\t\tstatus = 'success';\r\n\t\t\tresult = r;\r\n\t\t},\r\n\t\t(e) => {\r\n\t\t\tstatus = 'error';\r\n\t\t\tresult = e;\r\n\t\t},\r\n\t);\r\n\treturn {\r\n\t\tread() {\r\n\t\t\tif (status === 'pending') {\r\n\t\t\t\tthrow suspender;\r\n\t\t\t} else if (status === 'error') {\r\n\t\t\t\tthrow result;\r\n\t\t\t} else if (status === 'success') {\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n}\r\n\r\nexport default function useSuspenseResource(promiseCallback, deps) {\r\n\treturn useMemo(\r\n\t\t() => createSuspenseResource(promiseCallback()),\r\n\t\t// Dynamic deps array because it's passed in from the caller.\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\tdeps,\r\n\t);\r\n}\r\n","import React, { Suspense } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport styles from './styles/RoutesListItem.Module.css';\r\nimport Icon from '../common/Icon';\r\nimport useSuspenseResource from '../common/useSuspense';\r\n\r\nfunction RoutesListItem(props) {\r\n    const path = props.path;\r\n    const notesResource = useSuspenseResource(async () => {\r\n        const response = await fetch(\r\n            `${process.env.PUBLIC_URL}/notes/${path}.json`,\r\n        );\r\n\r\n        return await response.json();\r\n    }, [path]);\r\n\r\n    return (\r\n        <Suspense fallback=\"Loading...\">\r\n            <RoutesListItemImpl {...props} notesResource={notesResource} gameId={props.gameId} path={props.path} />\r\n        </Suspense>\r\n    );\r\n}\r\n\r\nfunction RoutesListItemImpl(props) {\r\n    const notes = props.notesResource.read();\r\n\r\n    return(\r\n        <div className={styles.wrapper}>\r\n            <Link to={\"/notes/game/\" + props.gameId + \"/route/\" + props.path} className={`${styles.link} col-5 col-m-6`}>\r\n                <div>\r\n                    {notes.title}\r\n                </div>\r\n            </Link>\r\n            <Link to={\"/notes/game/\" + props.gameId + \"/route/\" + props.path} className={`${styles.link} col-2 hidden-mobile`}>\r\n                <div>\r\n                    {notes.category}\r\n                </div>\r\n            </Link>\r\n            <Link to={\"/notes/game/\" + props.gameId + \"/route/\" + props.path} className={`${styles.link} col-2 col-m-4`}>\r\n                <div>\r\n                    {notes.author}\r\n                </div>\r\n            </Link>\r\n            <Link to={\"/notes/game/\" + props.gameId + \"/route/\" + props.path} className={`${styles.link} col-2 hidden-mobile`}>\r\n                <div>\r\n                    {notes.version}\r\n                </div>\r\n            </Link>\r\n            <Link to={\"/notes/editRoute/\" + props.path} className={`${styles.link} col-1 col-m-2`}>\r\n                <Icon src=\"/icons/edit.png\" size=\"small\" altText=\"Edit\" hover={true} hidden={false} />\r\n            </Link>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RoutesListItem;","import React from 'react';\r\nimport styles from './styles/Button.Module.css';\r\n\r\nclass Button extends React.Component {\r\n    render() {\r\n        return (\r\n            <button id={this.props.id} className={`${styles.btn} ${styles[this.props.size]}`} type=\"button\" onClick={this.props.onClick}>{this.props.text}</button>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Button;","import React from 'react';\r\nimport styles from './styles/RoutesList.Module.css';\r\nimport RoutesListItem from \"./RoutesListItem\";\r\nimport Button from '../common/Button';\r\n\r\nlet routes = require('../../notes/routes.json');\r\n\r\nclass RoutesList extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let gameId = props.match.params.gameId;\r\n        let gameRoutes = routes[gameId];\r\n\r\n        if (gameRoutes == null) {\r\n            this.props.history.push(\"/notes\");\r\n        }\r\n\r\n        this.state = {\r\n            gameId: props.match.params.gameId,\r\n            gameName: gameRoutes.name,\r\n            routes: gameRoutes.routes\r\n        };\r\n\r\n        this.createRoute = this.createRoute.bind(this);\r\n    }\r\n\r\n    createRoute() {\r\n        this.props.history.push(\"/notes/createRoute/\" + this.state.gameId);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"page\">\r\n                <div className={styles.wrapper}>\r\n                    <div className={\"col-3 col-m-12 card\"}>\r\n                        <h3>{this.state.gameName}</h3>\r\n                        <img className={styles.gameArt} src={\"/gameArt/\" + this.state.gameId + \".png\"} alt={this.state.gameId + \".png\"} />\r\n                    </div>\r\n                    <div className={\"col-8 col-m-12 card\"}>\r\n                        <h1>Routes</h1>\r\n                        <div className={styles.wrapper + \" \" + styles.header}>\r\n                            <div className=\"col-5 col-m-6\">\r\n                                Route Name\r\n                            </div>\r\n                            <div className=\"col-2 hidden-mobile\">\r\n                                Category\r\n                            </div>\r\n                            <div className=\"col-2 col-m-4\">\r\n                                Author\r\n                            </div>\r\n                            <div className=\"col-2 hidden-mobile\">\r\n                                Version\r\n                            </div>\r\n                            <div className=\"col-1 col-m-2\">\r\n                                Edit\r\n                            </div>\r\n                        </div>\r\n                        {this.state.routes.map((route) =>\r\n                            <RoutesListItem gameId={this.state.gameId} key={route.path} path={route.path} />\r\n                        )}\r\n                        <Button text=\"Create New Route\" size=\"medium\" onClick={this.createRoute} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default RoutesList;","import { useState, useEffect } from 'react';\r\n\r\n/**\r\n * Example:\r\n *\r\n * const isSmallScreen = useMatchMedia('(max-width: 600px)');\r\n */\r\nexport default function useMatchMedia(query) {\r\n    const [matches, setMatches] = useState(\r\n        () => window.matchMedia(query).matches,\r\n    );\r\n\r\n    useEffect(() => {\r\n        const mediaQueryList = window.matchMedia(query);\r\n        const callback = (e) => setMatches(e.matches);\r\n\r\n        mediaQueryList.addListener(callback);\r\n        return function cleanup() {\r\n            mediaQueryList.removeListener(callback);\r\n        };\r\n    }, [query, setMatches]);\r\n\r\n    return matches;\r\n}","import React from 'react';\r\nimport styles from \"./styles/Menu.Module.css\";\r\nimport Button from \"../../common/Button\";\r\nimport useMatchMedia from '../../common/Functions';\r\n\r\nfunction Menu(props) {\r\n    let modeText = props.mode === \"presenter\" ? \"Swap to List Mode\" : \"Swap to Presenter Mode\";\r\n\r\n    let previewButton = \"\";\r\n    if (props.preview) {\r\n        previewButton = <Button text=\"Edit Route\" size=\"medium\" onClick={props.swapPreview} />;\r\n    }\r\n\r\n    // If on mobile, use a different button layout where users can only swap notes and tracker.\r\n    if (useMatchMedia('(max-width: 600px)')) {\r\n        let notesText = props.showNotes ? \"Show Tracker\" : \"Show Notes\";\r\n        return (\r\n            <div className={`card ${styles.menu}`}>\r\n                <Button text=\"Reset Tracker\" size=\"medium\" onClick={props.resetTracker} />\r\n                <Button text={notesText} size=\"medium\" onClick={props.swapNotesAndTracker} />\r\n                <Button text={modeText} size=\"large\" onClick={props.changeMode} />\r\n                {previewButton}\r\n            </div>\r\n        );\r\n    } else {\r\n        let showNotesText = props.showNotes ? \"Hide Notes\" : \"Show Notes\";\r\n        let showTrackerText = props.showTracker ? \"Hide Tracker\" : \"Show Tracker\";\r\n\r\n        return (\r\n            <div className={`card ${styles.menu}`}>\r\n                <Button text=\"Reset Tracker\" size=\"medium\" onClick={props.resetTracker} />\r\n                <Button text={showNotesText} size=\"medium\" onClick={props.updateNotesDisplay} />\r\n                <Button text={showTrackerText} size=\"medium\" onClick={props.updateTrackerDisplay} />\r\n                <Button text={modeText} size=\"large\" onClick={props.changeMode} />\r\n                {previewButton}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Menu;","import React from 'react';\r\nimport styles from './styles/SmallModifiers.Module.css';\r\nimport themeMMBN from './styles/themes/MMBN/MMBN-SmallModifiers.Module.css';\r\n\r\nfunction Modifier(props) {\r\n    const foundClass = props.foundModifiers[props.id].includes(props.modifier) ? styles.found : \"\";\r\n    return(\r\n        <div id={\"modifier-\" + props.id + \"-\" + props.modifier} className={`${styles.modifier} ${styles[props.game]} ${foundClass}`} onClick={props.onClick}>{props.modifier}</div>\r\n    );\r\n}\r\n\r\nclass SmallModifiers extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.theme = {};\r\n        if (props.game.includes(\"MMBN\")) {\r\n            this.theme = themeMMBN;\r\n        }\r\n\r\n        this.updateFound = this.updateFound.bind(this);\r\n    }\r\n\r\n    updateFound(e) {\r\n        let modifier = e.target.id.split(\"-\")[2];\r\n        this.props.updateTracker(this.props.id, modifier);\r\n    }\r\n\r\n    render() {\r\n       if (this.props.modifiers != null && this.props.modifiers.length > 0) {\r\n            return(\r\n                <div className={`${styles.modifiers} ${this.theme.modifiers}`}>\r\n                    {this.props.modifiers.map((modifier) =>\r\n                        <Modifier key={\"small-modifier-\" + modifier} id={this.props.id} modifier={modifier} game={this.props.game} foundModifiers={this.props.foundModifiers} onClick={this.updateFound} />\r\n                    )}\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\nexport default SmallModifiers;","import React from 'react';\r\nimport styles from './styles/SmallItem.Module.css';\r\nimport themeMMBN from './styles/themes/MMBN/MMBN-SmallItem.Module.css';\r\nimport themeMMSF from './styles/themes/MMSF/MMSF-SmallItem.Module.css';\r\nimport SmallModifiers from './SmallModifiers';\r\n\r\nclass SmallItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.theme = {};\r\n        if (props.game.includes(\"MMBN\")) {\r\n            this.theme = themeMMBN;\r\n        } else if (props.game.includes(\"MMSF\")) {\r\n            this.theme = themeMMSF;\r\n        }\r\n\r\n        let Items = require('../../../../resources/' + props.game + '/ItemNames.json');\r\n        let name = \"\";\r\n        let className = \"\";\r\n        if (Items.Items[props.id] != null) {\r\n            name = Items.Items[props.id].name;\r\n        }\r\n        for (let i = 0; i < Items.types.length; i++) {\r\n            let type = Items.types[i];\r\n            if (props.id >= type.low && props.id <= type.high) {\r\n                className = type.id;\r\n                break;\r\n            }\r\n        }\r\n\r\n        this.state = {\r\n            id: props.id,\r\n            name: name,\r\n            class: className,\r\n            game: props.game\r\n        }\r\n\r\n        this.updateFound = this.updateFound.bind(this);\r\n    }\r\n\r\n    updateFound() {\r\n        this.props.updateTracker(this.state.id, null);\r\n    }\r\n\r\n    render() {\r\n        const foundClass = this.props.found ? styles.found : \"\";\r\n        return(\r\n            <div>\r\n                <div id={this.state.id} className={`${styles.item} ${this.theme.item} ${this.theme[this.state.class]} ${foundClass}`} onClick={this.updateFound}>\r\n                    <div className={`${styles.title} ${this.theme.title}`}>{this.state.name}</div>\r\n                    <img className={`${styles.itemArt} ${this.theme.itemArt}`} src={\"/items/\" + this.state.game + \"/\" + this.state.id + \".png\"} alt={this.state.name + \" art\"} />\r\n                </div>\r\n                <SmallModifiers id={this.state.id} modifiers={this.props.modifiers} game={this.state.game} updateTracker={this.props.updateTracker} foundModifiers={this.props.foundModifiers} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SmallItem;","import React from 'react';\r\nimport styles from './styles/NoteSection.Module.css';\r\nimport SmallItem from './SmallItem';\r\nimport Icon from '../../../common/Icon';\r\n\r\nfunction Text(props) {\r\n    const text = props.text;\r\n    const foundItems = props.foundItems;\r\n    const foundModifiers = props.foundModifiers;\r\n\r\n    if (text.item != null && foundItems.includes(text.item)) {\r\n        if ((text.modifier == null) || foundModifiers[text.item].includes(text.modifier)) {\r\n            return (\r\n                <li className={`${styles.found}`}>{text.text}</li>\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <li>{text.text}</li>\r\n    );\r\n}\r\n\r\nfunction ItemsList(props) {\r\n    const items = props.items;\r\n\r\n    let Items = require('../../../../resources/' + props.game + '/ItemNames.json');\r\n\r\n    let itemsList;\r\n\r\n    if (Items.modifiers) {\r\n        let completedItems = [];\r\n\r\n        for (let i = 0; i < items.length; i++) {\r\n            let item = items[i];\r\n\r\n            if (!completedItems.some(o => o.value === item.value)) {\r\n                let modifiers = [];\r\n\r\n                for (let j = 0; j < items.length; j++) {\r\n                    let item2 = items[j];\r\n\r\n                    if (item2.value === item.value && item2.modifier && item2.modifier !== \"\" && item2.modifier != null) {\r\n                        modifiers.push(item2.modifier);\r\n                    }\r\n                }\r\n\r\n                completedItems.push({\r\n                    value: item.value,\r\n                    modifiers: modifiers\r\n                })\r\n            }\r\n        }\r\n\r\n        itemsList = completedItems.map((item) =>\r\n                        <SmallItem key={\"small-item-\" + item.value} id={item.value} updateTracker={props.updateTracker} game={props.game} modifiers={item.modifiers} found={props.foundItems.includes(item.value)} foundModifiers={props.foundModifiers} />\r\n                    );\r\n    } else {\r\n        itemsList = items.map((item) =>\r\n                        <SmallItem key={\"small-item-\" + item.value} id={item.value} updateTracker={props.updateTracker} game={props.game} found={props.foundItems.includes(item.value)} foundModifiers={props.foundModifiers} />\r\n                    );\r\n    }\r\n\r\n    if (items.length > 0) {\r\n        return (\r\n            <div className=\"col-2 col-m-12\">\r\n                <div className={styles.header}>\r\n                    Potential {Items.name + \"s\"}\r\n                </div>\r\n                <div className={styles.itemList}>\r\n                    {itemsList}\r\n                </div>\r\n           </div>\r\n        );\r\n    }\r\n    return (\r\n        <div className=\"col-2 col-m-12\"> </div>\r\n    );\r\n}\r\n\r\nfunction Image(props) {\r\n    if (props.image != null) {\r\n        return (\r\n            <img className={styles.image} src={props.image} alt=\"\" />\r\n        );\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nfunction State(props) {\r\n    if (props.state != null) {\r\n        console.log(props.state);\r\n        return (\r\n            <div className={styles.wrapper}>\r\n                {props.state.keys.map((key) =>\r\n                    <div className={`${styles.wrapper} ${!props.state[key].shown ? styles.hidden : ''}`} key={key}>\r\n                        <div className=\"col-3\">\r\n                            {key}\r\n                        </div>\r\n                        <div className=\"col-2\">\r\n                            {props.state[key].value}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nclass NoteSection extends React.Component {\r\n    render() {\r\n        if (this.props.mode === \"list\") {\r\n            return (\r\n                <div id={\"section-\" + this.props.sectionId} className={`${styles.wrapper} card`} ref={this.props.noteRef}>\r\n                    <div className=\"col-4 col-m-12\">\r\n                        <ul>\r\n                            {this.props.text.map((text) =>\r\n                                <Text key={\"text-\" + text.id} text={text} foundItems={this.props.foundItems} foundModifiers={this.props.foundModifiers} />\r\n                            )}\r\n                        </ul>\r\n                    </div>\r\n                    <ItemsList items={this.props.items} updateTracker={this.props.updateTracker} game={this.props.game} foundItems={this.props.foundItems} foundModifiers={this.props.foundModifiers} />\r\n                    <div className=\"col-6 col-m-12\">\r\n                        <Image image={this.props.image} />\r\n                        <State state={this.props.state} />\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else if (this.props.mode === \"presenter\") {\r\n            return (\r\n                <div id={\"section-\" + this.props.sectionId} className={`${styles.wrapper} card`} ref={this.props.noteRef}>\r\n                    <div className=\"col-12 col-m-12\">\r\n                        <Icon src=\"/icons/previous.png\" size=\"large\" altText=\"Previous\" hover={true} hidden={false} onClick={this.props.previousSection} />\r\n                        <Icon src=\"/icons/next.png\" size=\"large\" altText=\"Next\" hover={true} hidden={false} float={\"right\"} onClick={this.props.nextSection} />\r\n                    </div>\r\n                    <div className=\"col-4 col-m-12\">\r\n                        <ul>\r\n                            {this.props.text.map((text) =>\r\n                                <Text key={\"text-\" + text.id} text={text} foundItems={this.props.foundItems} foundModifiers={this.props.foundModifiers} />\r\n                            )}\r\n                        </ul>\r\n                    </div>\r\n                    <ItemsList items={this.props.items} updateTracker={this.props.updateTracker} game={this.props.game} foundItems={this.props.foundItems} foundModifiers={this.props.foundModifiers} />\r\n                    <div className=\"col-6 col-m-12\">\r\n                        <Image image={this.props.image} />\r\n                        <State state={this.props.state} />\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n\r\nexport default NoteSection;","import React from 'react';\r\nimport NoteSection from './NoteSection';\r\nimport styles from './styles/Notes.Module.css';\r\n/*\r\n// Create refs for each section. Needed for observer\r\n    const sectionRefs = new Array(notes.sections.length);\r\n    notes.sections.map((section) =>\r\n        sectionRefs[section.id] = React.createRef()\r\n    );\r\n\r\n    //Display only the first 20 sections. Once the final element is in view, increase the number by 20 until all sections are rendered\r\n    const [numSections, setNumSections] = useState(20);\r\n    const renderNewSections = (entries, observer) => {\r\n        const [ entry ] = entries;\r\n\r\n        if (entry.isIntersecting && numSections !== notes.sections.length) {\r\n            setNumSections(prevNumSections => Math.min(prevNumSection + 20, notes.sections.length));\r\n            observer.observe(sectionRefs[numSections - 1].current);\r\n        }\r\n    }\r\n    const options = {\r\n        root: null,\r\n        rootMargin: \"0px\",\r\n        threshold: 0.5\r\n    }\r\n    const observer = new IntersectionObserver(renderNewSections, options);\r\n    observer.observe(sectionRefs[19].current);\r\n    */\r\n\r\nclass Notes extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            section: 0,\r\n            sectionTop: 5,\r\n            scrollPosition: 0,\r\n            numSections: Math.min(10, this.props.notes.sections.length)\r\n        }\r\n\r\n        this.notesRef = React.createRef();\r\n\r\n        this.sectionRefs = new Array(this.props.notes.sections.length);\r\n        this.props.notes.sections.map((section) =>\r\n            this.sectionRefs[section.id] = React.createRef()\r\n        );\r\n\r\n        const renderNewSections = (entries, observer) => {\r\n            const [ entry ] = entries;\r\n\r\n            if (entry.isIntersecting && this.state.numSections !== this.props.notes.sections.length) {\r\n                this.setState({\r\n                    numSections: Math.min(this.state.numSections + 10, this.props.notes.sections.length)\r\n                })\r\n            }\r\n        }\r\n        const options = {\r\n            root: null,\r\n            rootMargin: \"0px\",\r\n            threshold: 0.2\r\n        }\r\n\r\n        this.observer = new IntersectionObserver(renderNewSections, options);\r\n\r\n        this.onScroll = this.onScroll.bind(this);\r\n        this.handleKeyPress = this.handleKeyPress.bind(this);\r\n        this.previousSection = this.previousSection.bind(this);\r\n        this.nextSection = this.nextSection.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        // Update observer to the latest. Only matter in list view\r\n        if (this.state.numSections < this.props.notes.sections.length && this.props.mode === \"list\") {\r\n            this.observer.observe(this.sectionRefs[this.state.numSections - 1].current);\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.mode === \"list\" && this.props.display && (this.props.mode !== prevProps.mode || !prevProps.display)) {\r\n            this.sectionRefs[this.state.section].current.scrollIntoView({behavior: 'instant'});\r\n        }\r\n\r\n        // Update observer to the latest. Only matter in list view\r\n        this.observer.disconnect();\r\n        if (this.state.numSections < this.props.notes.sections.length && this.props.mode === \"list\" && this.props.display) {\r\n            this.observer.observe(this.sectionRefs[this.state.numSections - 1].current);\r\n        }\r\n    }\r\n\r\n    onScroll(e) {\r\n        let scrollPosition = e.target.scrollTop;\r\n        let newSectionTop = this.state.sectionTop;\r\n\r\n        let i = 0;\r\n        if (scrollPosition > this.state.scrollPosition && this.state.section !== this.props.notes.sections.length) {\r\n            while (scrollPosition >= Math.floor(newSectionTop + this.sectionRefs[this.state.section + i].current.getBoundingClientRect().height + 10)) {\r\n                newSectionTop = newSectionTop + Math.floor(this.sectionRefs[this.state.section + i].current.getBoundingClientRect().height + 10);\r\n                i++;\r\n\r\n                if (this.state.section + i === this.props.notes.sections.length) {\r\n                    break;\r\n                }\r\n            }\r\n        } else if (scrollPosition < this.state.scrollPosition && this.state.section !== 0) {\r\n            while (scrollPosition < newSectionTop) {\r\n                i--;\r\n                newSectionTop = newSectionTop - this.sectionRefs[this.state.section + i].current.getBoundingClientRect().height - 10;\r\n\r\n                if (this.state.section + i === 0) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            section: this.state.section + i,\r\n            sectionTop: newSectionTop,\r\n            scrollPosition: scrollPosition\r\n        })\r\n    }\r\n\r\n    handleKeyPress(e) {\r\n        let keyPress = e.key;\r\n        if (keyPress === \"ArrowLeft\" || keyPress === \"ArrowRight\" || keyPress === \" \") {\r\n            e.preventDefault();\r\n        }\r\n\r\n        if (keyPress === \"ArrowLeft\" && this.state.section !== 0) {\r\n            if (this.props.mode === \"list\") {\r\n                this.sectionRefs[this.state.section - 1].current.scrollIntoView({behavior: 'smooth'});\r\n            } else if (this.props.mode === \"presenter\") {\r\n                this.setState({\r\n                    section: this.state.section - 1\r\n                });\r\n            }\r\n        } else if ((keyPress === \" \" || keyPress === \"ArrowRight\") && this.state.section !== this.props.notes.sections.length - 1) {\r\n            if (this.props.mode === \"list\") {\r\n                this.sectionRefs[this.state.section + 1].current.scrollIntoView({behavior: 'smooth'});\r\n            } else if (this.props.mode === \"presenter\") {\r\n                this.setState({\r\n                    section: this.state.section + 1\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    previousSection(e) {\r\n        e.preventDefault();\r\n\r\n        if (this.state.section !== 0) {\r\n            this.setState({\r\n                section: this.state.section - 1\r\n            });\r\n        }\r\n    }\r\n\r\n    nextSection(e) {\r\n        e.preventDefault();\r\n\r\n        if (this.state.section !== this.props.notes.sections.length - 1) {\r\n            this.setState({\r\n                section: this.state.section + 1\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const fullSizeClass = this.props.fullSize ? styles.fullSize : \"\";\r\n\r\n        if (this.props.display) {\r\n            if (this.props.mode === \"list\") {\r\n                return(\r\n                    <div onScroll={this.onScroll} onKeyDown={this.handleKeyPress} className={`${styles.notes} ${fullSizeClass}`} ref={this.notesRef} tabIndex=\"0\">\r\n                        {this.props.notes.sections.slice(0, this.state.numSections).map((section) =>\r\n                            <NoteSection\r\n                                key={\"section-\" + section.id}\r\n                                sectionId={section.id}\r\n                                noteRef={this.sectionRefs[section.id]}\r\n                                text={section.text}\r\n                                image={section.image}\r\n                                state={section.state}\r\n                                items={section.items}\r\n                                mode={this.props.mode}\r\n                                game={this.props.notes.game}\r\n                                foundItems={this.props.foundItems}\r\n                                foundModifiers={this.props.foundModifiers}\r\n                                updateTracker={this.props.updateTracker}\r\n                            />\r\n                        )}\r\n                    </div>\r\n                );\r\n            } else if (this.props.mode === \"presenter\") {\r\n                const section = this.props.notes.sections[this.state.section];\r\n\r\n                return(\r\n                    <div onKeyDown={this.handleKeyPress} className={`${styles.notes} ${fullSizeClass}`} ref={this.notesRef} tabIndex=\"0\">\r\n                        <NoteSection\r\n                            key={\"section-\" + section.id}\r\n                            sectionId={section.id}\r\n                            noteRef={this.sectionRefs[section.id]}\r\n                            text={section.text}\r\n                            image={section.image}\r\n                            state={section.state}\r\n                            items={section.items}\r\n                            mode={this.props.mode}\r\n                            game={this.props.notes.game}\r\n                            foundItems={this.props.foundItems}\r\n                            foundModifiers={this.props.foundModifiers}\r\n                            updateTracker={this.props.updateTracker}\r\n                            previousSection={this.previousSection}\r\n                            nextSection={this.nextSection}\r\n                        />\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n\r\nexport default Notes;","import React from 'react';\r\nimport styles from './styles/Modifiers.Module.css';\r\nimport themeMMBN from './styles/themes/MMBN/MMBN-Modifiers.Module.css';\r\n\r\nfunction Modifier(props) {\r\n    const foundClass = props.foundModifiers[props.id].includes(props.modifier) ? styles.found : \"\";\r\n    return(\r\n        <div id={\"modifier-\" + props.id + \"-\" + props.modifier} className={`${styles.modifier} ${styles[props.game]} ${foundClass}`} onClick={props.onClick}>{props.modifier} </div>\r\n    );\r\n}\r\n\r\nclass Modifiers extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.theme = {};\r\n        if (props.game.includes(\"MMBN\")) {\r\n            this.theme = themeMMBN;\r\n        }\r\n\r\n        this.updateFound = this.updateFound.bind(this);\r\n    }\r\n\r\n    updateFound(e) {\r\n        let modifier = e.target.id.split(\"-\")[2];\r\n        this.props.updateTracker(this.props.id, modifier);\r\n    }\r\n\r\n    render() {\r\n       if (this.props.modifiers != null && this.props.modifiers.length > 0) {\r\n            return(\r\n                <div className={`${styles.modifiers} ${this.theme.modifiers}`}>\r\n                    {this.props.modifiers.map((modifier) =>\r\n                        <Modifier key={\"modifier-\" + modifier} id={this.props.id} modifier={modifier} game={this.props.game} foundModifiers={this.props.foundModifiers} onClick={this.updateFound} />\r\n                    )}\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\nexport default Modifiers;","import React from 'react';\r\nimport Modifiers from './Modifiers';\r\nimport styles from './styles/Item.Module.css';\r\nimport themeMMBN from './styles/themes/MMBN/MMBN-Item.Module.css';\r\nimport themeMMSF from './styles/themes/MMSF/MMSF-Item.Module.css';\r\n\r\nclass Item extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.theme = {};\r\n        if (props.game.includes(\"MMBN\")) {\r\n            this.theme = themeMMBN;\r\n        } else if (props.game.includes(\"MMSF\")) {\r\n            this.theme = themeMMSF;\r\n        }\r\n\r\n        this.state = {\r\n            id: props.id,\r\n            name: props.name,\r\n            type: props.type,\r\n            game: props.game\r\n        }\r\n\r\n        this.updateFound = this.updateFound.bind(this);\r\n    }\r\n\r\n    updateFound() {\r\n        this.props.updateTracker(this.state.id, null);\r\n    }\r\n\r\n    render() {\r\n        if (this.state.id >= this.state.type.low && this.state.id <= this.state.type.high) {\r\n            const foundClass = this.props.found ? styles.found : \"\";\r\n\r\n            return(\r\n                <div>\r\n                    <div id={this.state.id} className={`${styles.item} ${this.theme[this.state.type.id]} ${this.theme.item} ${foundClass}`} onClick={this.updateFound}>\r\n                        <div className={`${styles.title} ${this.theme.title}`}>{(this.state.id - this.props.low + 1).toString().padStart(3, \"0\")} {this.state.name}</div>\r\n                        <img className={`${styles.itemArt} ${this.theme.itemArt}`} src={\"/items/\" + this.state.game + \"/\" + this.state.id + \".png\"} alt={this.state.name + \" art\"} />\r\n                    </div>\r\n                    <Modifiers id={this.state.id} modifiers={this.props.modifiers} game={this.state.game} updateTracker={this.props.updateTracker} foundModifiers={this.props.foundModifiers} />\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n\r\nexport default Item;","import React from 'react';\r\nimport styles from './styles/Tracker.Module.css';\r\nimport Item from './Item';\r\n\r\nclass Tracker extends React.Component {\r\n    render() {\r\n        const fullSizeClass = this.props.fullSize ? styles.fullSize : \"\";\r\n\r\n        let Items = require('../../../../resources/' + this.props.game + '/ItemNames.json');\r\n\r\n        if (this.props.display) {\r\n            return(\r\n                <div className={`${styles.tracker} ${fullSizeClass}`}>\r\n                    {Items.types.map((type) =>\r\n                        <div key={\"type-\" + type.name} className={`card ${styles.section}`}>\r\n                            <div className={styles.header}>\r\n                                <h2>{type.name}</h2>\r\n                            </div>\r\n                            <div id=\"Items\" className={styles.list}>\r\n                                {Items.Items.map((item) =>\r\n                                    <Item key={\"item-\" + item.id} id={item.id} name={item.name} type={type} low={type.low} modifiers={item.modifiers} updateTracker={this.props.updateTracker} game={this.props.game} found={this.props.foundItems.includes(item.id)} foundModifiers={this.props.foundModifiers} />\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n\r\nexport default Tracker;","import { useState, useCallback, Suspense } from 'react';\r\nimport styles from './styles/Route.Module.css';\r\nimport Menu from './Menu';\r\nimport Notes from './notes/Notes';\r\nimport Tracker from './tracker/Tracker';\r\nimport useMatchMedia from '../../common/Functions';\r\nimport useSuspenseResource from '../../common/useSuspense';\r\n\r\nfunction Route(props) {\r\n    let path = \"\";\r\n    if (props.match != null) {\r\n        path = props.match.params.routePath;\r\n    }\r\n\r\n    const notesResource = useSuspenseResource(async () => {\r\n        const response = await fetch(\r\n            `${process.env.PUBLIC_URL}/notes/${path}.json`,\r\n        );\r\n\r\n        return await response.json();\r\n    }, [path]);\r\n\r\n    return (\r\n        <Suspense fallback=\"Loading...\">\r\n            <RouteImpl {...props} notesResource={notesResource} />\r\n        </Suspense>\r\n    );\r\n}\r\n\r\nfunction RouteImpl(props) {\r\n    let notes;\r\n    if (props.preview) {\r\n        notes = props.notes;\r\n    } else {\r\n        notes = props.notesResource.read();\r\n    }\r\n    const Items = require('../../../resources/' + notes.game + '/ItemNames.json');\r\n\r\n    let defaultMode = \"list\";\r\n    let defaultTrackerDisplay = true;\r\n    // If on mobile, swap to presenter mode by default, and hide the tracker\r\n    if (useMatchMedia('(max-width: 600px)')) {\r\n        defaultMode = \"presenter\";\r\n        defaultTrackerDisplay = false;\r\n    }\r\n\r\n    const [showNotes, setShowNotes] = useState(true);\r\n    const [showTracker, setShowTracker] = useState(defaultTrackerDisplay);\r\n    const [mode, setMode] = useState(defaultMode);\r\n    const [foundItems, setFoundItems] = useState(JSON.parse(localStorage.getItem(\"foundItems-\" + notes.game)));\r\n    const [foundModifiers, setFoundModifiers] = useState(JSON.parse(localStorage.getItem(\"foundModifiers-\" + notes.game)));\r\n\r\n    // Update foundItems and foundModifiers if nothing was in local storage\r\n    if (foundItems == null || foundItems.length === 0) {\r\n        setFoundItems(JSON.parse(JSON.stringify(require('../../../resources/' + notes.game + '/DefaultFoundItems.json'))));\r\n    }\r\n\r\n    if (Items.modifiers && foundModifiers == null) {\r\n        setFoundModifiers(JSON.parse(JSON.stringify(require('../../../resources/' + notes.game + '/DefaultFoundModifiers.json'))));\r\n    }\r\n\r\n    const changeMode = useCallback(\r\n        () => {\r\n            setMode(prevMode => prevMode === \"list\" ? \"presenter\" : \"list\");\r\n        },\r\n        []\r\n    );\r\n\r\n    const updateTracker = useCallback(\r\n        (id, modifier) => {\r\n            let newFoundItems = [...foundItems];\r\n            let newFoundModifiers = foundModifiers !== null ? [...foundModifiers] : null;\r\n            if (modifier == null) {\r\n                if (newFoundItems.includes(id)) {\r\n                    newFoundItems.splice(newFoundItems.indexOf(id), 1);\r\n                    if (newFoundModifiers != null) {\r\n                        newFoundModifiers[id] = [];\r\n                    }\r\n                } else {\r\n                    newFoundItems.push(id);\r\n                }\r\n            } else {\r\n                if (newFoundModifiers[id].includes(modifier)) {\r\n                    newFoundModifiers[id].splice(newFoundModifiers[id].indexOf(modifier), 1);\r\n                    if (newFoundModifiers[id].length === 0) {\r\n                        newFoundItems.splice(newFoundItems.indexOf(id), 1);\r\n                    }\r\n                } else {\r\n                    newFoundModifiers[id].push(modifier);\r\n                    if (!newFoundItems.includes(id)) {\r\n                        newFoundItems.push(id);\r\n                    }\r\n                }\r\n            }\r\n\r\n            setFoundItems(newFoundItems);\r\n            setFoundModifiers(newFoundModifiers);\r\n\r\n            localStorage.setItem(\"foundItems-\" + notes.game, JSON.stringify(newFoundItems));\r\n            localStorage.setItem(\"foundModifiers-\" + notes.game, JSON.stringify(newFoundModifiers));\r\n        },\r\n        [foundItems, foundModifiers, notes]\r\n    );\r\n\r\n    const resetTracker = useCallback(\r\n        () => {\r\n            let newFoundItems = JSON.parse(JSON.stringify(require('../../../resources/' + notes.game + '/DefaultFoundItems.json')));\r\n            let newFoundModifiers = foundModifiers;\r\n            if (newFoundModifiers != null)  {\r\n                newFoundModifiers = JSON.parse(JSON.stringify(require('../../../resources/' + notes.game + '/DefaultFoundModifiers.json')));\r\n            }\r\n\r\n            setFoundItems(newFoundItems);\r\n            setFoundModifiers(newFoundModifiers);\r\n\r\n            localStorage.setItem(\"foundItems-\" + notes.game, JSON.stringify(newFoundItems));\r\n            localStorage.setItem(\"foundModifiers-\" + notes.game, JSON.stringify(newFoundModifiers));\r\n        },\r\n        [foundModifiers, notes]\r\n    );\r\n\r\n    const updateNotesDisplay = useCallback(\r\n        () => {\r\n            setShowNotes(prevShowNotes => !prevShowNotes);\r\n        },\r\n        []\r\n    );\r\n\r\n    const updateTrackerDisplay = useCallback(\r\n        () => {\r\n            setShowTracker(prevShowTracker => !prevShowTracker);\r\n        },\r\n        []\r\n    );\r\n\r\n    const swapNotesAndTracker = useCallback(\r\n        () => {\r\n            setShowNotes(prevShowNotes => !prevShowNotes);\r\n            setShowTracker(prevShowTracker => !prevShowTracker);\r\n        },\r\n        []\r\n    );\r\n\r\n    return (\r\n        <div className={`${styles.wrapper}`}>\r\n            <Menu\r\n                showNotes={showNotes}\r\n                showTracker={showTracker}\r\n                resetTracker={resetTracker}\r\n                mode={mode}\r\n                preview={props.preview}\r\n                changeMode={changeMode}\r\n                updateNotesDisplay={updateNotesDisplay}\r\n                updateTrackerDisplay={updateTrackerDisplay}\r\n                swapNotesAndTracker={swapNotesAndTracker}\r\n                swapPreview={props.swapPreview}\r\n            />\r\n            <Notes\r\n                display={showNotes}\r\n                fullSize={!showTracker}\r\n                mode={mode}\r\n                notes={notes}\r\n                foundItems={foundItems}\r\n                foundModifiers={foundModifiers}\r\n                updateTracker={updateTracker}\r\n            />\r\n\r\n            <Tracker\r\n                display={showTracker}\r\n                fullSize={!showNotes}\r\n                game={notes.game}\r\n                foundItems={foundItems}\r\n                foundModifiers={foundModifiers}\r\n                updateTracker={updateTracker}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n/*\r\nclass Route extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let path = props.match.params.routePath;\r\n\r\n        let notes = require('../../../notes/' + path + '.json');\r\n        let Items = require('../../../resources/' + notes.game + '/ItemNames.json');\r\n\r\n        let initialFoundItems = JSON.parse(localStorage.getItem(\"foundItems-\" + notes.game));\r\n        if (initialFoundItems == null || initialFoundItems.length === 0) {\r\n            initialFoundItems = JSON.parse(JSON.stringify(require('../../../resources/' + notes.game + '/DefaultFoundItems.json')));\r\n        }\r\n\r\n        let initialFoundModifiers = JSON.parse(localStorage.getItem(\"foundModifiers-\" + notes.game))\r\n        if (Items.modifiers && initialFoundModifiers == null) {\r\n            initialFoundModifiers = JSON.parse(JSON.stringify(require('../../../resources/' + notes.game + '/DefaultFoundModifiers.json')));\r\n        }\r\n\r\n        this.state = {\r\n            showNotes: true,\r\n            showTracker: true,\r\n            mode: defaultMode,\r\n            foundItems: initialFoundItems,\r\n            foundModifiers: initialFoundModifiers,\r\n            notes: notes\r\n        }\r\n\r\n        this.changeMode = this.changeMode.bind(this);\r\n        this.updateTracker = this.updateTracker.bind(this);\r\n        this.resetTracker = this.resetTracker.bind(this);\r\n        this.updateNotesDisplay = this.updateNotesDisplay.bind(this);\r\n        this.updateTrackerDisplay = this.updateTrackerDisplay.bind(this);\r\n    }\r\n\r\n    changeMode () {\r\n        if (this.state.mode === \"list\") {\r\n            this.setState({\r\n                mode: \"presenter\"\r\n            })\r\n        } else if (this.state.mode === \"presenter\") {\r\n            this.setState({\r\n                mode: \"list\"\r\n            })\r\n        }\r\n    }\r\n\r\n    updateTracker(id, modifier) {\r\n        let newFoundItems = this.state.foundItems;\r\n        let newFoundModifiers = this.state.foundModifiers;\r\n        if (modifier == null) {\r\n            if (newFoundItems.includes(id)) {\r\n                newFoundItems.splice(newFoundItems.indexOf(id), 1);\r\n                if (newFoundModifiers != null) {\r\n                    newFoundModifiers[id] = [];\r\n                }\r\n            } else {\r\n                newFoundItems.push(id);\r\n            }\r\n        } else {\r\n            if (newFoundModifiers[id].includes(modifier)) {\r\n                newFoundModifiers[id].splice(newFoundModifiers[id].indexOf(modifier), 1);\r\n                if (newFoundModifiers[id].length === 0) {\r\n                    newFoundItems.splice(newFoundItems.indexOf(id), 1);\r\n                }\r\n            } else {\r\n                newFoundModifiers[id].push(modifier);\r\n                if (!newFoundItems.includes(id)) {\r\n                    newFoundItems.push(id);\r\n                }\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            foundItems: newFoundItems\r\n        });\r\n\r\n        localStorage.setItem(\"foundItems-\" + this.state.notes.game, JSON.stringify(newFoundItems));\r\n        localStorage.setItem(\"foundModifiers-\" + this.state.notes.game, JSON.stringify(newFoundModifiers));\r\n    }\r\n\r\n    resetTracker() {\r\n        const newFoundItems = JSON.parse(JSON.stringify(require('../../../resources/' + this.state.notes.game + '/DefaultFoundItems.json')));\r\n        let newFoundModifiers = this.state.foundModifiers;\r\n        if (newFoundModifiers != null)  {\r\n            newFoundModifiers = JSON.parse(JSON.stringify(require('../../../resources/' + this.state.notes.game + '/DefaultFoundModifiers.json')));\r\n        }\r\n\r\n        this.setState({\r\n            foundItems: newFoundItems,\r\n            foundModifiers: newFoundModifiers\r\n        });\r\n\r\n        localStorage.setItem(\"foundItems-\" + this.state.notes.game, JSON.stringify(newFoundItems));\r\n        localStorage.setItem(\"foundModifiers-\" + this.state.notes.game, JSON.stringify(newFoundModifiers));\r\n    }\r\n\r\n    updateNotesDisplay() {\r\n        this.setState({\r\n            showNotes: !this.state.showNotes\r\n        });\r\n        console.log(this.state);\r\n    }\r\n\r\n    updateTrackerDisplay() {\r\n        this.setState({\r\n            showTracker: !this.state.showTracker\r\n        });\r\n        console.log(this.state);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={`${styles.wrapper}`}>\r\n                <Menu\r\n                    showNotes={this.state.showNotes}\r\n                    showTracker={this.state.showTracker}\r\n                    resetTracker={this.resetTracker}\r\n                    mode={this.state.mode}\r\n                    changeMode={this.changeMode}\r\n                    updateNotesDisplay={this.updateNotesDisplay}\r\n                    updateTrackerDisplay={this.updateTrackerDisplay}\r\n                />\r\n                <Notes\r\n                    display={this.state.showNotes}\r\n                    fullSize={!this.state.showTracker}\r\n                    mode={this.state.mode}\r\n                    notes={this.state.notes}\r\n                    foundItems={this.state.foundItems}\r\n                    foundModifiers={this.state.foundModifiers}\r\n                    updateTracker={this.updateTracker}\r\n                />\r\n\r\n                <Tracker\r\n                    display={this.state.showTracker}\r\n                    fullSize={!this.state.showNotes}\r\n                    game={this.state.notes.game}\r\n                    foundItems={this.state.foundItems}\r\n                    foundModifiers={this.state.foundModifiers}\r\n                    updateTracker={this.updateTracker}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n*/\r\n\r\nexport default Route;\r\n","import { createContext } from 'react';\r\n\r\nconst RouteContext = createContext({})\r\n\r\nexport default RouteContext;","import { createContext } from 'react';\r\n\r\nconst GameContext = createContext(\"\")\r\n\r\nexport default GameContext;","import { useContext, memo } from 'react';\r\nimport GameContext from '../../../common/GameContext';\r\nimport styles from './styles/ItemDropdown.Module.css';\r\nimport Icon from '../../../common/Icon';\r\n\r\nfunction shouldUpdate(oldProps, newProps) {\r\n    if (oldProps.item !== newProps.item) {\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nconst ItemDropdown = memo((props) => {\r\n    const game = useContext(GameContext);\r\n\r\n    const onUpdateItem = (e) => {\r\n        let value = e.target.value;\r\n\r\n        if (value !== \"\") {\r\n            value = parseInt(value);\r\n        }\r\n\r\n        props.updateItem(value);\r\n    }\r\n\r\n    const addDropdown = (e) => {\r\n        e.preventDefault();\r\n\r\n        props.updateItem(0);\r\n    }\r\n\r\n    let Items = require('../../../../resources/ItemNames.json');\r\n    if (game !== \"\" && game != null) {\r\n        Items = require('../../../../resources/' + game + '/ItemNames.json');\r\n    }\r\n\r\n    if (props.item != null) {\r\n        if (props.type === \"text\") {\r\n            return(\r\n                <select className={`${styles.select}`} value={props.item} onChange={onUpdateItem}>\r\n                    <option value=\"\">Remove {Items.name}</option>\r\n                    {Items.Items.map((item) =>\r\n                        <option value={item.id} key={\"text-item-\" + item.id}>{item.name}</option>\r\n                    )}\r\n                </select>\r\n            );\r\n        } else if (props.type === \"section\") {\r\n            return(\r\n                <select className={`${styles.select}`} value={props.item} onChange={onUpdateItem}>\r\n                    <option value=\"\">Select {Items.name}</option>\r\n                    {Items.Items.map((item) =>\r\n                        <option value={item.id} key={\"section-item-\" + item.id}>{item.name}</option>\r\n                    )}\r\n                </select>\r\n            );\r\n        }\r\n    } else {\r\n        if (props.type === \"text\") {\r\n            return(\r\n                <span className={`${styles.buffer}`}>\r\n                    <Icon src=\"/icons/add.png\" size=\"small\" hover={true} hidden={false} altText=\"+\" onClick={addDropdown} />\r\n                </span>\r\n            );\r\n        }\r\n    }\r\n\r\n    return null;\r\n}, shouldUpdate);\r\n\r\nexport default ItemDropdown;","import { useContext } from 'react';\r\nimport GameContext from '../../../common/GameContext';\r\nimport styles from \"./styles/ModifierDropdown.Module.css\";\r\n\r\nfunction ModifierDropdown(props) {\r\n    const game = useContext(GameContext);\r\n\r\n    const onModifierUpdate = (e) => {\r\n        let value = e.target.value;\r\n        props.updateModifier(value);\r\n    }\r\n\r\n    let Items = require('../../../../resources/ItemNames.json');\r\n    if (game !== \"\" && game != null) {\r\n        Items = require('../../../../resources/' + game + '/ItemNames.json');\r\n    }\r\n\r\n    if (!Items.modifiers) {\r\n        return null;\r\n    }\r\n\r\n    if (props.item != null) {\r\n        if (Items.Items[props.item] == null) {\r\n            return(\r\n                <select className={`${styles.select}`} value={props.modifier} onChange={onModifierUpdate}>\r\n                    <option value=\"\"> </option>\r\n                </select>\r\n            );\r\n        }\r\n\r\n        return(\r\n            <select className={`${styles.select}`} value={props.modifier} onChange={onModifierUpdate}>\r\n                <option value=\"\"> </option>\r\n                {Items.Items[props.item].modifiers.map((modifier) =>\r\n                    <option value={modifier} key={\"text-modifier-\" + modifier}>{modifier}</option>\r\n                )}\r\n            </select>\r\n        );\r\n    }\r\n\r\n    return(\r\n        <span className={`${styles.buffer}`} />\r\n    );\r\n}\r\n\r\nexport default ModifierDropdown;","import { useContext, memo } from 'react';\r\nimport styles from'./styles/SectionText.Module.css';\r\nimport ItemDropdown from './ItemDropdown';\r\nimport ModifierDropdown from './ModifierDropdown';\r\nimport Icon from '../../../common/Icon';\r\nimport GameContext from '../../../common/GameContext';\r\n\r\nfunction shouldUpdate(oldProps, newProps) {\r\n    if (oldProps.text.id !== newProps.text.id) {\r\n        return false;\r\n    } else if (oldProps.text.text !== newProps.text.text) {\r\n        return false;\r\n    } else if (oldProps.text.item !== newProps.text.item) {\r\n        return false;\r\n    } else if (oldProps.text.modifier !== newProps.text.modifier) {\r\n        return false;\r\n    } else if (oldProps.updateText !== newProps.updateText) {\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nconst SectionText = memo((props) => {\r\n    const game = useContext(GameContext);\r\n\r\n    const onTextUpdate = (e) => {\r\n        const newText = JSON.parse(JSON.stringify(props.text));\r\n        newText.text = e.target.value;\r\n        props.updateText(newText, props.text.id)\r\n    }\r\n\r\n    const updateItem = (item) => {\r\n        const newText = JSON.parse(JSON.stringify(props.text));\r\n        if (item !== \"\") {\r\n            newText.item = item;\r\n        } else {\r\n            newText.item = null;\r\n        }\r\n        props.updateText(newText, props.text.id)\r\n    }\r\n\r\n    const updateModifier = (modifier) => {\r\n        const newText = JSON.parse(JSON.stringify(props.text));\r\n        newText.modifier = modifier;\r\n        props.updateText(newText, props.text.id)\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <textarea className={`${styles.textarea}`} value={props.text.text} placeholder=\"Text\" onChange={onTextUpdate} />\r\n            <ItemDropdown type=\"text\" item={props.text.item} game={game} updateItem={updateItem} />\r\n            <ModifierDropdown type=\"text\" item={props.text.item} modifier={props.text.modifier} updateModifier={updateModifier} />\r\n            <Icon src=\"/icons/up.png\" id={\"moveTextUp-\" + props.text.id} size=\"small\" hover={true} hidden={props.text.id === 0} altText=\"Up\" onClick={ () => props.moveTextUp(props.text.id) } />\r\n            <Icon src=\"/icons/down.png\" id={\"moveTextDown-\" + props.text.id} size=\"small\" hover={true} hidden={props.text.id === props.max} altText=\"Down\" onClick={ () => props.moveTextDown(props.text.id) } />\r\n            <Icon src=\"/icons/delete.png\" id={\"deleteText-\" + props.text.id} size=\"small\" hover={true} hidden={false} altText=\"X\" onClick={ () => props.deleteText(props.text.id) } />\r\n        </div>\r\n    );\r\n}, shouldUpdate);\r\n\r\nexport default SectionText;","import React from 'react';\r\nimport ItemDropdown from './ItemDropdown';\r\nimport ModifierDropdown from './ModifierDropdown';\r\nimport Icon from '../../../common/Icon';\r\n\r\nfunction shouldUpdate(oldProps, newProps) {\r\n    if (oldProps.item.id !== newProps.item.id) {\r\n        return false;\r\n    } else if (oldProps.item.value !== newProps.item.value) {\r\n        return false;\r\n    } else if (oldProps.item.modifier !== newProps.item.modifier) {\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nconst SectionItem = React.memo((props) => {\r\n    const updateItem = (item) => {\r\n        const newItem = JSON.parse(JSON.stringify(props.item));\r\n        newItem.value = item;\r\n        props.updateItem(newItem, props.item.id);\r\n    }\r\n\r\n    const updateModifier = (modifier) => {\r\n        const newItem = JSON.parse(JSON.stringify(props.item));\r\n        newItem.modifier = modifier;\r\n        props.updateItem(newItem, props.item.id);\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <ItemDropdown type=\"section\" item={props.item.value} updateItem={updateItem} />\r\n            <ModifierDropdown type=\"section\" item={props.item.value} modifier={props.item.modifier} updateModifier={updateModifier} />\r\n            <Icon src=\"/icons/up.png\" size=\"small\" hover={true} hidden={props.item.id === 0} altText=\"Up\" onClick={ () => props.moveItemUp(props.item.id) } />\r\n            <Icon src=\"/icons/down.png\" size=\"small\" hover={true} hidden={props.item.id === props.max} altText=\"Down\" onClick={ () => props.moveItemDown(props.item.id) } />\r\n            <Icon src=\"/icons/delete.png\" size=\"small\" hover={true} hidden={false} altText=\"X\" onClick={ () => props.deleteItem(props.item.id) } />\r\n        </div>\r\n    );\r\n}, shouldUpdate);\r\n\r\nexport default SectionItem;","import React from 'react';\r\nimport styles from './styles/PreviewImage.Module.css';\r\n\r\nclass PreviewImage extends React.Component {\r\n    render() {\r\n        if (this.props.image == null || this.props.image === \"\") {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <img className={`${styles.img}`} src={this.props.image} alt=\"\" />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PreviewImage;","import { useCallback } from 'react';\r\nimport PreviewImage from './PreviewImage';\r\nimport Icon from '../../../common/Icon';\r\n\r\nfunction SectionImage(props) {\r\n    const getBase64 = useCallback((file) => {\r\n        let reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = function () {\r\n            props.updateImage(reader.result)\r\n        };\r\n        reader.onerror = function (error) {\r\n            console.log('Error: ', error);\r\n        };\r\n    },\r\n    [props]);\r\n\r\n    return(\r\n        <div>\r\n            <label>Image: </label>\r\n            <input type=\"file\" onChange={ (e) => { getBase64(e.target.files[0]) } } />\r\n            <Icon src=\"/icons/delete.png\" size=\"small\" hover={true} hidden={props.image == null} altText=\"X\" onClick={props.deleteImage} />\r\n            <PreviewImage image={props.image} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SectionImage;","import { memo } from 'react';\r\nimport Icon from '../../../common/Icon';\r\nimport styles from './styles/SectionState.Module.css';\r\n\r\nfunction shouldUpdate(oldProps, newProps) {\r\n    if (oldProps.state != null && newProps.state != null) {\r\n        for (const key in newProps.state.keys) {\r\n            if (oldProps.state[key] !== newProps.state[key]) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nconst SectionState = memo((props) => {\r\n    const onStateValueChange = (key, value) => {\r\n        // JSON stringify, then JSON parse to make a deep copy.\r\n        let newState = JSON.parse(JSON.stringify(props.state));\r\n        newState[key].value = value;\r\n        props.updateState(newState);\r\n    }\r\n\r\n    const onStateShownChange = (key, value) => {\r\n        // JSON stringify, then JSON parse to make a deep copy.\r\n        let newState = JSON.parse(JSON.stringify(props.state));\r\n        newState[key].shown = value;\r\n        props.updateState(newState);\r\n    }\r\n\r\n    if (props.state != null) {\r\n        return(\r\n            <div className={styles.wrapper}>\r\n                <div className=\"col-10\">\r\n                    {props.state.keys.map((key) =>\r\n                        <div className={styles.wrapper} key={key}>\r\n                            <div className=\"col-5\">\r\n                                <label htmlFor={\"state-\" + key + \"-\" + props.sectionId}>{key}</label>\r\n                            </div>\r\n                            <div className=\"col-5\">\r\n                                <input type=\"text\" className={styles.textInput} defaultValue={props.state[key].value} onChange={ (e) => { onStateValueChange(key, e.target.value) } } />\r\n                            </div>\r\n                            <div className=\"col-2\">\r\n                                <input type=\"checkbox\" className={styles.checkbox} checked={props.state[key].shown} onChange={ (e) => { onStateShownChange(key, e.target.checked) } } />\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <div className=\"col-2\">\r\n                    <Icon src=\"/icons/delete.png\" size=\"small\" hover={true} hidden={false} altText=\"X\" onClick={props.deleteState} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    return null;\r\n}, shouldUpdate);\r\n\r\nexport default SectionState;","import { useCallback, useContext } from 'react';\r\nimport styles from './styles/Section.Module.css';\r\nimport GameContext from '../../../common/GameContext';\r\nimport Button from '../../../common/Button';\r\nimport Icon from '../../../common/Icon';\r\nimport SectionText from './SectionText';\r\nimport SectionItem from './SectionItem';\r\nimport SectionImage from './SectionImage';\r\nimport SectionState from './SectionState';\r\n\r\nfunction Section(props) {\r\n    const game = useContext(GameContext);\r\n\r\n    const updateText = useCallback((text, id) => {\r\n        // Stringify then parse JSON to create deep copy.\r\n        let newSection = JSON.parse(JSON.stringify(props.section));\r\n        newSection.text[id] = text;\r\n        props.setSection(newSection, props.section.id);\r\n    }, [props]);\r\n\r\n    const addText = useCallback((e) => {\r\n        // Stringify then parse JSON to create deep copy.\r\n        e.preventDefault();\r\n\r\n        let newSection = JSON.parse(JSON.stringify(props.section));\r\n        newSection.text.push({\r\n            id: newSection.text.length,\r\n            text: \"\"\r\n        });\r\n        props.setSection(newSection, props.section.id)\r\n    }, [props]);\r\n\r\n    const moveTextUp = useCallback((id) => {\r\n        // Stringify then parse JSON to create deep copy.\r\n        let newSection = JSON.parse(JSON.stringify(props.section));\r\n\r\n        let chosenText = newSection.text[id];\r\n        chosenText.id = id - 1;\r\n        let aboveText = newSection.text[id - 1];\r\n        aboveText.id = id;\r\n\r\n        newSection.text[id] = aboveText;\r\n        newSection.text[id - 1] = chosenText;\r\n\r\n        props.setSection(newSection, props.section.id);\r\n    }, [props]);\r\n\r\n    const moveTextDown = useCallback((id) => {\r\n        // Stringify then parse JSON to create deep copy.\r\n        let newSection = JSON.parse(JSON.stringify(props.section));\r\n\r\n        let chosenText = newSection.text[id];\r\n        chosenText.id = id + 1;\r\n        let belowText = newSection.text[id + 1];\r\n        belowText.id = id;\r\n\r\n        newSection.text[id] = belowText;\r\n        newSection.text[id + 1] = chosenText;\r\n\r\n        props.setSection(newSection, props.section.id);\r\n    }, [props]);\r\n\r\n    const deleteText = useCallback((id) => {\r\n        // Stringify then parse JSON to create deep copy.\r\n        let newSection = JSON.parse(JSON.stringify(props.section));\r\n\r\n        for (let i = id + 1; i < newSection.text.length; i++) {\r\n            newSection.text[i].id--;\r\n        }\r\n\r\n        newSection.text.splice(id, 1);\r\n\r\n        props.setSection(newSection, props.section.id);\r\n    }, [props]);\r\n\r\n    const updateItem = useCallback((item, id) => {\r\n        // Stringify then parse JSON to create deep copy.\r\n        const newSection = JSON.parse(JSON.stringify(props.section));\r\n        newSection.items[id] = item;\r\n        props.setSection(newSection, props.section.id)\r\n    }, [props]);\r\n\r\n    const addItem = useCallback(() => {\r\n        // Stringify then parse JSON to create deep copy.\r\n        let newSection = JSON.parse(JSON.stringify(props.section));\r\n        newSection.items.push({\r\n            id: newSection.items.length,\r\n            value: 0\r\n        });\r\n        props.setSection(newSection, props.section.id)\r\n    }, [props]);\r\n\r\n    const moveItemUp = useCallback((id) => {\r\n        // Stringify then parse JSON to create deep copy.\r\n        let newSection = JSON.parse(JSON.stringify(props.section));\r\n\r\n        let chosenItem = newSection.items[id];\r\n        chosenItem.id = id - 1;\r\n        let aboveItem = newSection.items[id - 1];\r\n        aboveItem.id = id;\r\n\r\n        newSection.items[id] = aboveItem;\r\n        newSection.items[id - 1] = chosenItem;\r\n\r\n        props.setSection(newSection, props.section.id)\r\n    }, [props]);\r\n\r\n    const moveItemDown = useCallback((id) => {\r\n        // Stringify then parse JSON to create deep copy.\r\n        let newSection = JSON.parse(JSON.stringify(props.section));\r\n\r\n        let chosenItem = newSection.items[id];\r\n        chosenItem.id = id + 1;\r\n        let belowItem = newSection.items[id + 1];\r\n        belowItem.id = id;\r\n\r\n        newSection.items[id] = belowItem;\r\n        newSection.items[id + 1] = chosenItem;\r\n\r\n        props.setSection(newSection, props.section.id);\r\n    }, [props]);\r\n\r\n    const deleteItem = useCallback((id) =>  {\r\n        // Stringify then parse JSON to create deep copy.\r\n        let newSection = JSON.parse(JSON.stringify(props.section));\r\n\r\n        for (let i = id + 1; i < newSection.items.length; i++) {\r\n            newSection.items[i].id--;\r\n        }\r\n\r\n        newSection.items.splice(id, 1);\r\n\r\n        props.setSection(newSection, props.section.id);\r\n    }, [props]);\r\n\r\n    const updateImage = useCallback((image) => {\r\n        // Stringify then parse JSON to create deep copy.\r\n        let newSection = JSON.parse(JSON.stringify(props.section));\r\n        newSection.image = image;\r\n        props.setSection(newSection, props.section.id)\r\n    }, [props]);\r\n\r\n    const deleteImage = useCallback(() => {\r\n        // Stringify then parse JSON to create deep copy.\r\n        let newSection = JSON.parse(JSON.stringify(props.section));\r\n        newSection.image = null;\r\n        props.setSection(newSection, props.section.id);\r\n    }, [props]);\r\n\r\n    const updateState = useCallback((state) => {\r\n        // Stringify then parse JSON to create deep copy.\r\n        let newSection = JSON.parse(JSON.stringify(props.section));\r\n        newSection.state = state;\r\n        props.setSection(newSection, props.section.id);\r\n    }, [props]);\r\n\r\n    const addState = useCallback((e) => {\r\n        // Stringify then parse JSON to create deep copy.\r\n        let newSection = JSON.parse(JSON.stringify(props.section));\r\n        newSection.state = props.getLastState(props.section.id);\r\n        props.setSection(newSection, props.section.id);\r\n    }, [props]);\r\n\r\n    const deleteState = useCallback(() => {\r\n        // Stringify then parse JSON to create deep copy.\r\n        let newSection = JSON.parse(JSON.stringify(props.section));\r\n        newSection.state = null;\r\n        props.setSection(newSection, props.section.id);\r\n    }, [props]);\r\n\r\n    let Items = require('../../../../resources/ItemNames.json');\r\n    if (game !== \"\" && game != null) {\r\n        Items = require('../../../../resources/' + game + '/ItemNames.json');\r\n    }\r\n\r\n    const addStateButton = (!props.section.state && game) ? <Button text=\"Add State\" size=\"medium\" onClick={addState} /> : \"\";\r\n\r\n    return(\r\n        <div id={\"section-\" + props.section.id} className={`${styles.section}`}>\r\n            <h3 className={`${styles.header}`}>Section {props.section.id + 1}</h3>\r\n            <Icon src=\"/icons/up.png\" id={\"moveSectionUp-\" + props.section.id} size=\"small\" altText=\"Up\" hover={true} hidden={props.section.id === 0} onClick={ () => { props.moveSectionUp(props.section.id) } } />\r\n            <Icon src=\"/icons/down.png\" id={\"moveSectionDown-\" + props.section.id} size=\"small\" altText=\"Down\" hover={true} hidden={props.section.id === props.max} onClick={ () => { props.moveSectionDown(props.section.id) } } />\r\n            <Icon src=\"/icons/delete.png\" id={\"deleteSection-\" + props.section.id} size=\"small\" altText=\"X\" hover={true} onClick={ () => { props.deleteSection(props.section.id) } } />\r\n            <div className={`${styles.wrapper}`}>\r\n                <div className=\"col-6\">\r\n                    {props.section.text.map((text) =>\r\n                        <SectionText\r\n                            key={\"text-\" + text.id}\r\n                            sectionId={props.section.id}\r\n                            text={text}\r\n                            max={props.section.text.length - 1}\r\n                            updateText={updateText}\r\n                            moveTextUp={moveTextUp}\r\n                            moveTextDown={moveTextDown}\r\n                            deleteText={deleteText}\r\n                        />\r\n                    )}\r\n                </div>\r\n                <div className=\"col-3\">\r\n                    {props.section.items.map((item) =>\r\n                        <SectionItem\r\n                            key={\"item-\" + item.id}\r\n                            item={item}\r\n                            max={props.section.items.length - 1}\r\n                            updateItem={updateItem}\r\n                            moveItemUp={moveItemUp}\r\n                            moveItemDown={moveItemDown}\r\n                            deleteItem={deleteItem}\r\n                        />\r\n                    )}\r\n                </div>\r\n                <div className=\"col-3\">\r\n                    <SectionImage image={props.section.image} updateImage={updateImage} deleteImage={deleteImage} />\r\n                    <SectionState sectionId={props.section.id} state={props.section.state} updateState={updateState} deleteState={deleteState} />\r\n                </div>\r\n            </div>\r\n            <div className={`${styles.wrapper}`}>\r\n                <div className=\"col-6\">\r\n                    <Button text=\"Add Text\" size=\"medium\" onClick={addText} />\r\n                </div>\r\n                <div className=\"col-3\">\r\n                     <Button text={\"Add \" + Items.name} size=\"medium\" onClick={addItem} />\r\n                </div>\r\n                <div className=\"col-3\">\r\n                    {addStateButton}\r\n                </div>\r\n            </div>\r\n            <Button text=\"Add Section\" id={\"addSection-\" + (props.section.id + 1)} size=\"medium\" onClick={ () => { props.addSection(props.section.id + 1) } } />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Section;","import { useState, useEffect, useCallback, useContext } from 'react';\r\nimport RouteContext from '../../common/RouteContext';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport Section from './Section/Section';\r\n\r\nimport styles from './styles/SectionList.Module.css';\r\n\r\nfunction SectionList(props) {\r\n    const {\r\n        route,\r\n        setContext\r\n    } = useContext(RouteContext);\r\n\r\n    const [numSections, setNumSections] = useState(Math.min(10, route.sections.length));\r\n\r\n    const [displayedSections, setDisplayedSections] = useState(route.sections.slice(0, numSections));\r\n    const addMoreSections = () => {\r\n        setDisplayedSections(route.sections.slice(0, Math.min(numSections + 10, route.sections.length)))\r\n        setNumSections(Math.min(numSections + 10, route.sections.length));\r\n    }\r\n\r\n    useEffect(() => {\r\n        setDisplayedSections(route.sections.slice(0, numSections));\r\n    }, [route.sections, numSections]);\r\n\r\n    const setSection = (section, id) => {\r\n        const newSections = [...route.sections];\r\n        newSections[id] = section;\r\n        setContext({ route: { ...route, sections: newSections } });\r\n    }\r\n\r\n    const addSection = useCallback((id) => {\r\n        let newSections = [...route.sections];\r\n        let newSection = {\r\n            id: id,\r\n            text: [],\r\n            items: [],\r\n        };\r\n\r\n        newSections.splice(id, 0, newSection);\r\n\r\n        for (let i = id + 1; i < newSections.length; i++) {\r\n            newSections[i].id++;\r\n        }\r\n\r\n        setContext({ route: { ...route, sections: newSections } });\r\n        setNumSections(numSections + 1);\r\n    }, [route, setContext, numSections, setNumSections]);\r\n\r\n    const moveSectionUp = useCallback((id) => {\r\n        // Stringify then parse JSON to create deep copy.\r\n        let newSections = JSON.parse(JSON.stringify(route.sections));\r\n\r\n        let chosenSection = newSections[id];\r\n        chosenSection.id = id - 1;\r\n        let aboveSection = newSections[id - 1];\r\n        aboveSection.id = id;\r\n\r\n        newSections[id] = aboveSection;\r\n        newSections[id - 1] = chosenSection;\r\n\r\n        setContext({ route: { ...route, sections: newSections } });\r\n    }, [route, setContext]);\r\n\r\n    const moveSectionDown = useCallback((id) => {\r\n        // Stringify then parse JSON to create deep copy.\r\n        let newSections = JSON.parse(JSON.stringify(route.sections));\r\n\r\n        let chosenSection = newSections[id];\r\n        chosenSection.id = id + 1;\r\n        let belowSection = newSections[id + 1];\r\n        belowSection.id = id;\r\n\r\n        newSections[id] = belowSection;\r\n        newSections[id + 1] = chosenSection;\r\n\r\n        setContext({ route: { ...route, sections: newSections } });\r\n    }, [route, setContext]);\r\n\r\n    const deleteSection = useCallback((id) => {\r\n        // JSON stringify, then JSON parse to make a deep copy.\r\n        let newSections = JSON.parse(JSON.stringify(route.sections));\r\n\r\n        for (let i = id + 1; i < newSections.length; i++) {\r\n            newSections[i].id--;\r\n        }\r\n\r\n        newSections.splice(id, 1);\r\n\r\n        setContext({ route: { ...route, sections: newSections } });\r\n    }, [route, setContext]);\r\n\r\n    const getLastState = (id) => {\r\n        // Check previous sections for the last state value\r\n        let state = null;\r\n        for (let i = id - 1; i >= 0; i--) {\r\n            if (route.sections[i].state != null) {\r\n                state = route.sections[i].state;\r\n                break;\r\n            }\r\n        }\r\n\r\n        // If no state was found, use initialState\r\n        if (state == null) {\r\n            state = route.initialState;\r\n\r\n            // Setup the previous folder to be the same as the starting folder, and default folder edit to false.\r\n            state.PrevFolder = state.Folder;\r\n        }\r\n\r\n        return state;\r\n    }\r\n\r\n    return (\r\n        <div id=\"scrollableDiv\" className={`${styles.sectionList}`}>\r\n            <InfiniteScroll\r\n                dataLength={displayedSections}\r\n                next={addMoreSections}\r\n                hasMore={route.sections.length > displayedSections.length}\r\n                loader={\"Loading...\"}\r\n                scrollableTarget={\"scrollableDiv\"}\r\n            >\r\n                {displayedSections.map((section) =>\r\n                    <Section\r\n                        key={\"section-\" + section.id}\r\n                        section={section}\r\n                        setSection={setSection}\r\n                        max={route.sections.length - 1}\r\n                        moveSectionUp={moveSectionUp}\r\n                        moveSectionDown={moveSectionDown}\r\n                        addSection={addSection}\r\n                        deleteSection={deleteSection}\r\n                        getLastState={getLastState}\r\n                    />\r\n                )}\r\n                <div className=\"bottom-buffer\"> </div>\r\n            </InfiniteScroll>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SectionList;","import { useCallback, useContext } from 'react';\r\nimport styles from './styles/RouteInfo.Module.css';\r\nimport RouteContext from '../../common/RouteContext';\r\nimport Button from '../../common/Button';\r\n\r\nfunction RouteInfo(props) {\r\n    const {\r\n        route,\r\n        preview,\r\n        setContext\r\n    } = useContext(RouteContext);\r\n\r\n    const games = require(\"../../../resources/gamesList.json\");\r\n    const routes = require(\"../../../notes/routes.json\");\r\n\r\n    const generateDownload = useCallback(\r\n        (e) => {\r\n            e.preventDefault();\r\n\r\n            // Remove unnecessary values\r\n\r\n            console.log(route);\r\n\r\n            let a = document.createElement('a');\r\n            a.href = \"data:text/json;base64;charset=utf-8,\" + btoa(JSON.stringify(route));\r\n            a.download = route.path + \".json\";\r\n            a.click();\r\n        },\r\n        [route]\r\n    );\r\n\r\n    const importText = (text) => {\r\n        text = text.replace(/(\\r\\n|\\n|\\r)/gm, \"\\n\");\r\n        const lines = text.split(\"\\n\");\r\n        let newSections = [];\r\n\r\n        let sectionId = 0;\r\n\r\n        for (let i = 0; i < lines.length; i++) {\r\n            let line = lines[i];\r\n            const section = {\r\n                id: sectionId,\r\n                text: [],\r\n                items: []\r\n            }\r\n\r\n            let textId = 0;\r\n            while (line !== \"\") {\r\n                const text = {\r\n                    id: textId,\r\n                    text: line\r\n                }\r\n\r\n                section.text.push(text);\r\n                i++;\r\n                textId++;\r\n\r\n                if (i < lines.length) {\r\n                    line = lines[i];\r\n                } else {\r\n                    line = \"\";\r\n                }\r\n            }\r\n\r\n            newSections.push(section);\r\n            sectionId++;\r\n        }\r\n\r\n        setContext({ route: { ...route, sections: newSections } });\r\n    }\r\n\r\n    const importJSON = (file) => {\r\n        setContext({ route: JSON.parse(file) });\r\n    }\r\n\r\n    const handleUpload = (file, callback) => {\r\n        let reader = new FileReader();\r\n        reader.readAsText(file, \"UTF-8\");\r\n        reader.onload = function () {\r\n            callback(reader.result);\r\n        };\r\n        reader.onerror = function (error) {\r\n            console.log('Error: ', error);\r\n        };\r\n    }\r\n\r\n    return (\r\n        <div className={`${styles.routeInfo}`}>\r\n            <h2>Update your Route</h2>\r\n            <input type=\"text\" name=\"title\" className={`${styles.textInput}`} placeholder=\"Title\" defaultValue={route.title} onBlur={ (e) => setContext({ route: { ...route, title: e.target.value } }) } />\r\n            <input type=\"text\" name=\"path\" className={`${styles.textInput}`} placeholder=\"Path\" defaultValue={route.path} onBlur={ (e) => setContext({ route: { ...route, path: e.target.value } }) } />\r\n            <select name=\"game\" className={`${styles.select}`} value={route.game} onChange={ (e) => setContext({ route: { ...route, game: e.target.value } }) }>\r\n                <option value=\"\">Select a game</option>\r\n                {games.map((game) =>\r\n                    <option key={game} value={game}>{routes[game].name}</option>\r\n                )}\r\n            </select>\r\n            <div className=\"row\">\r\n                <div>Import Text: <input type=\"file\" name={\"textImport\"} onChange={(e) => handleUpload(e.target.files[0], importText)} /></div>\r\n                <div>Import JSON: <input type=\"file\" name={\"jsonImport\"} onChange={(e) => handleUpload(e.target.files[0], importJSON)} /></div>\r\n                <Button text=\"Load Last Edit\" size=\"medium\" onClick={props.loadLastRouteEdit} />\r\n                <Button text=\"Generate JSON File\" size=\"medium\" onClick={generateDownload} />\r\n                <Button text=\"Preview Route\" size=\"medium\" onClick={() => setContext({ preview: !preview }) } />\r\n            </div>\r\n\r\n            <div className={`${styles.instructions}`}>\r\n                <h3>How to Use</h3>\r\n                <ul>\r\n                    <li>Fill out information about your route above.</li>\r\n                    <li>If you have a text file, separate each \"Section\" by new lines. Upload it via the import option above.</li>\r\n                    <li>If you have an existing JSON file generated by the tool, upload it via the import option above.</li>\r\n                    <li>When you are done (or need to save your progress), click the Generate JSON file button, then click Create JSON link to save your file.</li>\r\n                    <li>When your route is ready, create a new branch of the <a href=\"https://github.com/RischDev/rischdev.github.io\" target=\"_blank\" rel=\"noreferrer\">notes repository</a>. Follow the instructions in the README.</li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RouteInfo;","import { useState, useCallback, useMemo, Suspense } from 'react';\r\nimport styles from './styles/RouteForm.Module.css';\r\nimport Route from '../route/Route';\r\nimport SectionList from './SectionList';\r\nimport RouteInfo from './RouteInfo';\r\nimport useSuspenseResource from '../../common/useSuspense';\r\nimport RouteContext from '../../common/RouteContext';\r\nimport GameContext from '../../common/GameContext';\r\n\r\nconst equal = require(\"deep-equal\");\r\nconst routes = require(\"../../../notes/routes.json\");\r\n\r\nfunction RouteForm(props) {\r\n    const path = props.match.params.path;\r\n\r\n    const notesResource = useSuspenseResource(async () => {\r\n        const response = await fetch(\r\n            `${process.env.PUBLIC_URL}/notes/${path}.json`,\r\n        );\r\n\r\n        return await response.json();\r\n    }, [path]);\r\n\r\n    return (\r\n        <Suspense fallback=\"Loading...\">\r\n            <RouteFormImpl {...props} notesResource={notesResource} />\r\n        </Suspense>\r\n    );\r\n}\r\n\r\nconst getInitialState = (path, game, route) => {\r\n    return {\r\n        route: {\r\n            title: path != null ? route.title : \"\",\r\n            path: path,\r\n            game: path != null ? route.game : game,\r\n            version: path != null ? route.version : \"1.0\",\r\n            initialState: game != null ? routes[game].initialState : {},\r\n            sections: path != null ? route.sections : [{\r\n                id: 0,\r\n                text: [],\r\n                items: []\r\n            }],\r\n        },\r\n        preview: false,\r\n        numSections: path != null ? Math.min(10, route.sections.length) : 1\r\n    }\r\n}\r\n\r\nfunction RouteFormImpl(props) {\r\n    let initialPath = props.match.params.path;\r\n    let initialGame = props.match.params.gameId;\r\n    let initialRoute = {};\r\n    if (initialPath != null) {\r\n        initialRoute = props.notesResource.read();\r\n    }\r\n\r\n    const [state, setState] = useState(getInitialState(initialPath, initialGame, initialRoute));\r\n    const gameContext = useMemo(() => { return(state.route.game) }, [state.route.game]);\r\n\r\n    const setContext = useCallback(\r\n        updates => {\r\n            setState({...state, ...updates});\r\n        },\r\n        [state, setState]\r\n    );\r\n\r\n    const getContextValue = useCallback(\r\n        () => ({\r\n            ...state,\r\n            setContext\r\n        }),\r\n        [state, setContext]\r\n    );\r\n\r\n    const setNewRoute = (newRoute) => {\r\n        newRoute.preview = false;\r\n        newRoute.numSections = Math.min(10, newRoute.sections.length);\r\n\r\n        // If initial state is different, the state variables need to be updated\r\n        if (!equal(newRoute.initialState, routes[newRoute.game].initialState)) {\r\n            newRoute.initialState = routes[newRoute.game].initialState;\r\n\r\n            // TODO: Update state variables in each section to add new keys.\r\n        }\r\n\r\n        setState({ ...state, route: newRoute });\r\n    }\r\n\r\n    const loadLastRouteEdit = (e) => {\r\n        e.preventDefault();\r\n\r\n        let newRoute = JSON.parse(localStorage.getItem(\"lastRouteEdit\"));\r\n\r\n        if (newRoute != null) {\r\n            setNewRoute(newRoute);\r\n        } else {\r\n            alert(\"Error: No route found in local storage. Either there is nothing to load, or your route may have been too large. When your route gets large, try downloading the JSON file periodically to save your progress.\");\r\n        }\r\n    }\r\n\r\n    const swapPreview = () => {\r\n        setState(prevState => ({\r\n            ...state,\r\n            preview: !prevState.preview\r\n        }));\r\n    }\r\n\r\n    if (state.preview) {\r\n        return(\r\n            <div>\r\n                <Route notes={state.route} preview={true} swapPreview={swapPreview}  />\r\n            </div>\r\n        );\r\n    } else {\r\n        return(\r\n            <form className={`${styles.wrapper} ${styles.form}`}>\r\n                <RouteContext.Provider value={getContextValue()}>\r\n                    <GameContext.Provider value={gameContext}>\r\n                        <RouteInfo\r\n                            loadLastRouteEdit={loadLastRouteEdit}\r\n                            swapPreview={swapPreview}\r\n                        />\r\n\r\n                        <SectionList\r\n                            sections={state.route.sections}\r\n                        />\r\n                    </GameContext.Provider>\r\n                </RouteContext.Provider>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default RouteForm;","import React from 'react';\r\nimport styles from './styles/NotesHome.Module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport Button from '../common/Button';\r\n\r\nlet games = require('../../resources/gamesList.json')\r\nlet routes = require('../../notes/routes.json');\r\n\r\nclass NotesHome extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.createRoute = this.createRoute.bind(this);\r\n    }\r\n\r\n    createRoute() {\r\n        this.props.history.push(\"/notes/createRoute\");\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"page\">\r\n                <div className={\"card \" + styles.wrapper}>\r\n                    <h1>Games</h1>\r\n                    <div className={`${styles.wrapper}`}>\r\n                        {games.map((gameId) =>\r\n                            <div className=\"col-2 col-t-3 col-m-6\" key={\"routesList\" + gameId}>\r\n                                <Link to={\"/notes/game/\" + gameId} className={`${styles.link}`}>\r\n                                    <img className={`${styles.img}`} src={\"/gameArt/\" + gameId + \".png\"} alt={gameId + \".png\"} />\r\n                                    <h4 className=\"gameLink\">{routes[gameId].name}</h4>\r\n                                </Link>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <Button text=\"Create New Route\" size=\"medium\" onClick={this.createRoute} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NotesHome;","import React from 'react';\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport { Switch } from \"react-router-dom\";\r\nimport { Route as BrowserRoute } from \"react-router-dom\";\r\n\r\nimport RoutesList from \"./RoutesList\";\r\nimport Route from \"./route/Route\";\r\nimport RouteForm from './routeForm/RouteForm';\r\nimport NotesHome from \"./NotesHome\";\r\n\r\nclass NotesTool extends React.Component {\r\n    render() {\r\n        return (\r\n            <HashRouter>\r\n                <Switch>\r\n                    <BrowserRoute path={\"/notes/game/:gameId/route/:routePath\"} component={Route} />\r\n                    <BrowserRoute path={\"/notes/game/:gameId\"} component={RoutesList} />\r\n                    <BrowserRoute path={\"/notes/editRoute/:path\"} component={RouteForm} />\r\n                    <BrowserRoute path={\"/notes/createRoute/:gameId\"} component={RouteForm} />\r\n                    <BrowserRoute path={\"/notes/createRoute\"} component={RouteForm} />\r\n                    <BrowserRoute path={\"/notes\"} component={NotesHome} />\r\n                </Switch>\r\n            </HashRouter>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NotesTool;","import React from 'react';\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport { Switch } from \"react-router-dom\";\r\nimport { Route as BrowserRoute } from \"react-router-dom\";\r\nimport NotesTool from './notes/NotesTool';\r\n\r\nclass App extends React.Component {\r\n    render() {\r\n        return (\r\n        <HashRouter>\r\n            <Switch>\r\n                <BrowserRoute path=\"/notes\" component={NotesTool} />\r\n            </Switch>\r\n        </HashRouter>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport './styles/main.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <BrowserRouter>\r\n            <App />\r\n        </BrowserRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}